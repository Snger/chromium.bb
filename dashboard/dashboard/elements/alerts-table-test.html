<!DOCTYPE html>
<!--
Copyright 2015 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->
<link rel="import" href="/tracing/core/test_utils.html">

<link rel="import" href="/dashboard/elements/alerts-table.html">

<script>
'use strict';

tr.b.unittest.testSuite(function() {

  var ALERT_LIST = [{
      'end_revision': 362399,
      'dashboard_link': '/report',
      'bug_id': null,
      'key': 'agxzfmNocm9tZXBlcmZyFAsSB0Fub21hbHkYgIDAnefx_goM',
      'date': '2015-12-03',
      'median_before_anomaly': 27609.555555555555,
      'bisect_status': null,
      'testsuite': 'page_cycler.morejs',
      'group': 'agxzfmNocm9tZXBlcmZyFwsSCkFsZXJ0R3JvdXAYgIDAnYLbsQoM',
      'start_revision': 361904,
      'bot': 'android-nexus7v2',
      'improvement': false,
      'median_after_anomaly': 28983.185185185182,
      'master': 'ChromiumPerf',
      'percent_changed': '5.0%',
      'test': 'vm_private_dirty_final_renderer',
      'recovered': false,
      'rowType': 'group-header',
      'size': 1,
      'hide_bug_id': true,
      'extraColumns': [{
          'key': 'percent_changed',
          'value': '5.0%'
      }]
  }, {
      'end_revision': 362935,
      'dashboard_link': '/report',
      'bug_id': null,
      'key': 'agxzfmNocm9tZXBlcmZyFAsSB0Fub21hbHkYgIDA3dftpQoM',
      'date': '2015-12-03',
      'median_before_anomaly': 1.926839499187706,
      'bisect_status': null,
      'testsuite': 'thread_times.key_mobile_sites_smooth',
      'group': 'agxzfmNocm9tZXBlcmZyFwsSCkFsZXJ0R3JvdXAYgIDA3dCWpQoM',
      'start_revision': 362921,
      'bot': 'android-nexus5',
      'improvement': false,
      'median_after_anomaly': 2.4367222135650346,
      'master': 'ChromiumPerf',
      'percent_changed': '26.5%',
      'test': 'thread_renderer_compositor_cpu_time_per_frame',
      'recovered': false,
      'rowType': 'group-member',
      'hide_bug_id': true,
      'extraColumns': [{
          'key': 'percent_changed',
          'value': '26.5%'
      }]
  }, {
      'end_revision': 362935,
      'dashboard_link': '/report',
      'bug_id': null,
      'key': 'agxzfmNocm9tZXBlcmZyFAsSB0Fub21hbHkYgIDA3fP6rQoM',
      'date': '2015-12-03',
      'median_before_anomaly': 10.741430561199206,
      'bisect_status': null,
      'testsuite': 'thread_times.key_mobile_sites_smooth',
      'group': 'agxzfmNocm9tZXBlcmZyFwsSCkFsZXJ0R3JvdXAYgIDA3dCWpQoM',
      'start_revision': 362921,
      'bot': 'android-nexus5',
      'improvement': false,
      'median_after_anomaly': 11.189137840134652,
      'master': 'ChromiumPerf',
      'percent_changed': '4.2%',
      'test': 'thread_total_fast_path_cpu_time_per_frame',
      'recovered': false,
      'rowType': 'group-member',
      'hide_bug_id': true,
      'extraColumns': [{
          'key': 'percent_changed',
          'value': '4.2%'
      }]
  }];

  test('instantiate_basic', function() {
    var table = document.createElement('alerts-table');
    table['alertList'] = ALERT_LIST;
    table['extraColumns'] = [{'key': 'percent_changed', 'label': 'Delta %'}];
    table['initialize']();
    this.addHTMLOutput(table);
  });

});
</script>
