# -*- python -*-
# Copyright 2010 The Native Client Authors.  All rights reserved.
# Use of this source code is governed by a BSD-style license that can
# be found in the LICENSE file.

Import('env')

env.Program(
    'simple_test.nexe', ['simple_test.c'],
    EXTRA_LIBS=['posix_over_srpc', 'srpc', 'pthread'],
    EXTRA_CFLAGS=['-I./src/untrusted/posix_over_srpc/include/', '-imacros',
                  './src/untrusted/posix_over_srpc/include/calls_macros.h'])

simple_test_node = env.CommandPosixOverSrpcTestNacl(
    name = 'simple_test.out',
    command = [env.File('simple_test.nexe')],
    size = 'small')

env.AddNodeToTestSuite(simple_test_node, [], 'run_psrpc_simple_test')
