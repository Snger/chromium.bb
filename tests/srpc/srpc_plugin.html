<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <!-- Copyright 2009 Google Inc.  All rights reserved. -->
  <head>
    <title> SRPC Plugin Properties Test </title>
    <META HTTP-EQUIV="Pragma" CONTENT="no-cache" />
    <META HTTP-EQUIV="Expires" CONTENT="-1" />
    <script type="text/javascript" src="nacltest.js"></script>
    <script type="application/x-javascript">
      //<![CDATA[
function enqueueTests(tester, server) {
  tester.addTest('plugin_height_null', function() {
    assertRaises(function() { server.__height = undefined; });
  });
  tester.addTest('plugin_height_string', function() {
    assertRaises(function() {server.__height = 'string'; });
  });
  tester.addTest('plugin_height_object', function() {
    assertRaises(function() { server.__height = new Array(10); });
  });
  tester.addTest('plugin_height_valid_call', function() {
    server.__height = 100;
    assertEqual(server.__height, 100);
  });

  tester.addTest('plugin_width_null', function() {
    assertRaises(function() { server.__width = undefined; });
  });
  tester.addTest('plugin_width_string', function() {
    assertRaises(function() { server.__width = 'string'; });
  });
  tester.addTest('plugin_width_object', function() {
    assertRaises(function() { server.__width = new Array(10); });
  });
  tester.addTest('plugin_width_valid_call', function() {
    server.__width = 100;
    assertEqual(server.__width, 100);
  });
}
      //]]>
    </script>
  </head>
  <body>
    <h1> SRPC Plugin Properties Test </h1>
    NOTE: Set NACL_ENABLE_EXPERIMENTAL_JAVASCRIPT_APIS=1 to run this test.
    <embed type="application/x-nacl" id="nacl_server"
           name="naclModule" width="0" height="0" nacl="srpc_test.nmf" />

    <script type="text/javascript">
      //<![CDATA[
      var tester = new Tester();
      var server = $("nacl_server");
      enqueueTests(tester, server);
      tester.waitFor(server);
      tester.run();
      //]]>
    </script>
  </body>
</html>
