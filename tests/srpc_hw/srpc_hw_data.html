<!DOCTYPE html>
<html>
  <head>
    <title>SRPC Simple Plug-in</title>
    <META HTTP-EQUIV="Pragma" CONTENT="no-cache" />
    <META HTTP-EQUIV="Expires" CONTENT="-1" />
    <script type="text/javascript" src="nacltest.js"></script>
    <script type="application/x-javascript">
      //<![CDATA[

function testMethods(tester, server) {
  tester.addTest('forty_two', function() {
    assertEqual(42, server.fortytwo());
  })
  tester.addTest('hello_world', function() {
    assertEqual('hello, world.', server.helloworld());
  })
}

      //]]>
    </script>
  </head>
  <body>
    <h1>Native Client SRPC Simple Plug-in</h1>
    NOTE: Set NACL_ENABLE_EXPERIMENTAL_JAVASCRIPT_APIS=1 to run this test.

    <embed type="application/x-nacl" id="nacl_server"
           name="nacl_module" width="0" height="0"
           nacl="data:%7B%0A%20%20%22nexes%22%3A%20%7B%0A%20%20%20%20%22x86-32%22%3A%20%22srpc_hw_x86-32.nexe%22%2C%0A%20%20%20%20%22x86-64%22%3A%20%22srpc_hw_x86-64.nexe%22%2C%0A%20%20%20%20%22arm%22%3A%20%22srpc_hw_arm.nexe%22%0A%20%20%7D%0A%7D">

    <script type="text/javascript">
      //<![CDATA[
      var tester = new Tester();
      var server = $("nacl_server");
      testMethods(tester, server);
      tester.waitFor(server);
      tester.run();
      //]]>
    </script>
  </body>
</html>
