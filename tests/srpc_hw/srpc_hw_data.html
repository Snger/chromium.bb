<!DOCTYPE html>
<html>
  <head>
    <title>SRPC Simple Plug-in</title>
    <META HTTP-EQUIV="Pragma" CONTENT="no-cache" />
    <META HTTP-EQUIV="Expires" CONTENT="-1" />
    <script type="text/javascript" src="nacltest.js"></script>
    <script type="application/x-javascript">
      //<![CDATA[

function testMethods(tester, server) {
  tester.addTest('forty_two', function() {
    assertEqual(42, server.fortytwo());
  })
  tester.addTest('hello_world', function() {
    assertEqual('hello, world.', server.helloworld());
  })
}

      //]]>
    </script>
  </head>
  <body>
    <h1>Native Client SRPC Simple Plug-in</h1>
    NOTE: Set NACL_ENABLE_EXPERIMENTAL_JAVASCRIPT_APIS=1 to run this test.

    <!-- data URI below is (please update this comment when URI changes,
         see nacl.scons for port number):
{
  "program": {
    "x86-32": { "url": "http://127.0.0.1:50000/srpc_hw_x86-32.nexe" },
    "x86-64": { "url": "http://127.0.0.1:50000/srpc_hw_x86-64.nexe" },
    "arm": { "url": "http://127.0.0.1:50000/srpc_hw_arm.nexe" }
  }
}
    -->
    <embed type="application/x-nacl" id="nacl_server"
           name="nacl_module" width="0" height="0"
           src="data:,%7B%20%20%20%22program%22%3A%20%7B%20%20%20%20%20%22x86-32%22%3A%20%7B%20%22url%22%3A%20%22http%3A%2F%2F127.0.0.1%3A50000%2Fsrpc_hw_x86-32.nexe%22%20%7D%2C%20%20%20%20%20%22x86-64%22%3A%20%7B%20%22url%22%3A%20%22http%3A%2F%2F127.0.0.1%3A50000%2Fsrpc_hw_x86-64.nexe%22%20%7D%2C%20%20%20%20%20%22arm%22%3A%20%7B%20%22url%22%3A%20%22http%3A%2F%2F127.0.0.1%3A50000%2Fsrpc_hw_arm.nexe%22%20%7D%20%20%20%7D%20%7D%20">

    <script type="text/javascript">
      //<![CDATA[
      var tester = new Tester();
      var server = $("nacl_server");
      testMethods(tester, server);
      tester.waitFor(server);
      tester.run();
      //]]>
    </script>
  </body>
</html>
