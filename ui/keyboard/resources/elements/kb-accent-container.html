<!--
  -- Copyright 2013 The Chromium Authors. All rights reserved.
  -- Use of this source code is governed by a BSD-style license that can be
  -- found in the LICENSE file.
  -->

<element name="kb-accent-container" attributes="keyset" on-key-up="up">
  <template>
    <content select="#{{keyset}}"></content>
  </template>
  <script>
    Polymer.register(this, {
      resetActiveElement: function() {
        var activeAccentKeySet = this.querySelector('#' + this.keyset);
        var offset = activeAccentKeySet.offset;
        var element = activeAccentKeySet.firstElementChild;
        while (offset) {
          element = element.nextElementSibling;
          offset--;
        }
        element.classList.add('active');
      },
      up: function(detail) {
        this.hidden = true;
        this.resetActiveElement();
        this.keyset = null;
      }
    });
  </script>
</element>
