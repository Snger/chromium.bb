<!DOCTYPE HTML>
<html>
  <head i18n-values="dir:textdirection;">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  

























































<template id="overlay-template">
<style>
    overlay-mask {
      left: 0;
      padding: 8px;
      position: absolute;
      top: 0;
      z-index: 1000;
      font-family: sans-serif;
      -webkit-justify-content: center;
      background: rgba(0, 0, 0, 0.8);
      display: -webkit-flex;
      height: 100%;
      left: 0;
      position: fixed;
      top: 0;
      width: 100%;
    }
    overlay-mask:focus {
      outline: none;
    }
    overlay-vertical-centering-container {
      -webkit-justify-content: center;
      -webkit-flex-direction: column;
      display: -webkit-flex;
    }
    overlay-frame {
      z-index: 1100;
      background: rgb(255, 255, 255);
      border: 1px solid #ccc;
      margin: 75px;
      display: -webkit-flex;
      -webkit-flex-direction: column;
    }
    title-bar {
      -webkit-align-items: center;
      -webkit-flex-direction: row;
      border-bottom: 1px solid #ccc;
      background-color: #ddd;
      display: -webkit-flex;
      padding: 5px;
      -webkit-flex: 0 0 auto;
    }
    title {
      display: inline;
      font-weight: bold;
      -webkit-box-flex: 1;
      -webkit-flex: 1 1 auto;
    }
    close-button {
      -webkit-align-self: flex-end;
      border: 1px solid #eee;
      background-color: #999;
      font-size: 10pt;
      font-weight: bold;
      padding: 2px;
      text-align: center;
      width: 16px;
    }
    close-button:hover {
      background-color: #ddd;
      border-color: black;
      cursor: pointer;
    }
    overlay-content {
      display: -webkit-flex;
      -webkit-flex: 1 1 auto;
      -webkit-flex-direction: column;
      overflow-y: auto;
      padding: 10px;
      min-width: 300px;
    }
    button-bar {
      -webkit-align-items: baseline;
      border-top: 1px solid #ccc;
      display: -webkit-flex;
      -webkit-flex: 0 0 auto;
      -webkit-flex-direction: row-reverse;
      padding: 4px;
    }
  </style>
<overlay-mask>
<overlay-vertical-centering-container>
<overlay-frame>
<title-bar>
<title></title>
<close-button>&#x2715</close-button>
</title-bar>
<overlay-content>
<content></content>
</overlay-content>
<button-bar></button-bar>
</overlay-frame>
</overlay-vertical-centering-container>
</overlay-mask>
</template>




<style>
x-drag-handle{-webkit-user-select:none;box-sizing:border-box;display:block}x-drag-handle.horizontal-drag-handle{background-image:-webkit-gradient(linear,0 0,0 100%,from(#e5e5e5),to(#d1d1d1));border-bottom:1px solid #8e8e8e;border-top:1px solid white;cursor:ns-resize;height:7px;position:relative;z-index:10}x-drag-handle.vertical-drag-handle{background-image:-webkit-gradient(linear,0 0,100% 0,from(#e5e5e5),to(#d1d1d1));border-left:1px solid white;border-right:1px solid #8e8e8e;cursor:ew-resize;position:relative;width:7px;z-index:10}
</style>









































































































































































































<style>
.analysis-link{color:-webkit-link;cursor:pointer;text-decoration:underline}.analysis-link:hover{cursor:pointer}
</style>






<style>
x-generic-object-view{display:block;font-family:monospace}x-generic-object-view-with-label{display:block}
</style>






<style>
.analysis-header{font-weight:bold}.analysis-results{font-family:monospace;white-space:pre}.analysis-results *{-webkit-user-select:text!important;cursor:text}.analysis-table{border-collapse:collapse;border-width:0;margin-bottom:25px;width:100%}.analysis-table tr>td:first-child{padding-left:2px}.analysis-table tr>td{padding:2px 4px 2px 4px;vertical-align:text-top;width:150px}.analysis-table td td{padding:0;width:auto}.analysis-table-header{text-align:left}.analysis-table-row{vertical-align:top}.analysis-table-row:nth-child(2n+0){background-color:#e2e2e2}.analysis-table-row-inverted:nth-child(2n+1){background-color:#e2e2e2}.selection-changing-link{color:-webkit-link;cursor:pointer;text-decoration:underline}.analysis-table thead{background-color:#e2e2e2;font-weight:bold}.analysis-table tfoot{font-weight:bold}
</style>








<polymer-element name="tracing-analysis-sub-view" constructor="TracingAnalysisSubView">
<template>
<content></content>
</template>

</polymer-element>







<polymer-element name="multiple-counter-samples-analysis-sub-view" extends="tracing-analysis-sub-view" constructor="MultipleCounterSamplesAnalysisSubView">

</polymer-element>




<polymer-element name="multiple-objects-analysis-sub-view" extends="tracing-analysis-sub-view" constructor="MultipleObjectsAnalysisSubView">

</polymer-element>



<style>
.sortable-table>thead>tr>td{cursor:pointer!important}
</style>









<polymer-element name="single-slice-analysis-sub-view" extends="tracing-analysis-sub-view" constructor="SingleSliceAnalysisSubView">

</polymer-element>
<polymer-element name="multiple-slices-analysis-sub-view" extends="tracing-analysis-sub-view" constructor="MultipleSlicesAnalysisSubView">

</polymer-element>


<style>
x-timeline-view-side-panel-container{align-items:stretch;display:-webkit-flex}x-timeline-view-side-panel-container[expanded]>active-panel-container{-webkit-flex:1 1 auto;border-left:1px solid black;display:-webkit-flex}x-timeline-view-side-panel-container:not([expanded])>active-panel-container{display:none}x-timeline-view-side-panel-container>tab-strip{-webkit-flex:0 0 auto;-webkit-flex-direction:column;-webkit-user-select:none;background-color:#ececec;border-left:1px solid black;cursor:default;display:-webkit-flex;min-width:22px;padding:10px 0 10px 0}x-timeline-view-side-panel-container>tab-strip>tab-strip-label{-webkit-writing-mode:vertical-rl;display:inline;margin-right:2px;min-height:20px;padding:15px 2px 15px 2px}x-timeline-view-side-panel-container>tab-strip>tab-strip-label:not([enabled]){color:#808080}x-timeline-view-side-panel-container>tab-strip>tab-strip-label[selected]{background-color:white;border:1px solid #a3a3a3;border-left:none;padding:14px 1px 14px 2px}
</style>














<style>
  .chart-base #title {
    font-size: 16pt;
  }

  .chart-base {
    font-size: 12pt;
    -webkit-user-select: none;
    cursor: default;
  }

  .chart-base .axis path,
  .chart-base .axis line {
    fill: none;
    shape-rendering: crispEdges;
    stroke: #000;
  }
</style>
<template id="chart-base-template">
<svg> 
<g xmlns="http://www.w3.org/2000/svg" id="chart-area">
</g><g class="x axis"></g>
<g class="y axis"></g>
<text id="title"></text>
</svg>
</template>







<style>
.pie-chart .arc-text{font-size:8pt}.pie-chart .label{font-size:10pt}.pie-chart polyline{fill:none;stroke:black}
</style>







<style>
.sunburst-chart .arc-text{font-size:8pt}.sunburst-chart .label{font-size:10pt}.sunburst-chart polyline{fill:none;stroke:black}.sunburst-chart path{stroke:#fff}
</style>












<template id="x-sample-summary-panel-template">
<style>
    .x-sample-summary-panel {
      display: block;
      overflow: auto;
      padding: 5px;
    }
    .x-sample-summary-panel > x-toolbar {
      display: block;
      border-bottom: 1px solid black;
    }

    .x-sample-summary-panel > x-left-panel {
      position: relative;
      width: 610px;
      left: 0;
      top: 0;
      height: 610px;
      padding: 5px;
    }

    .x-sample-summary-panel > x-left-panel > result-area {
      display: block;
      width: 610px;
      position: absolute;
      left: 0;
      top: 0;
      height: 610px;
    }

    .x-sample-summary-panel > x-left-panel > x-explanation {
      display: block;
      position: absolute;
      top: 300px;
      left: 250px;
      width: 100px;
      height: 100px;
      text-align: center;
      vertical-align:middle;
      color: #666;
      font-size: 12px;
    }

    .x-sample-summary-panel > x-right-panel {
      display: block;
      min-height: 610px;
      margin-left: 610px;
      padding: 5px;
    }

    .x-sample-summary-panel > x-right-panel td {
      color: #fff;
      padding: 1px 5px;
      font-size: 1.0em;
      white-space: nowrap;
    }

    .x-sample-summary-panel > x-right-panel > x-sequence {
      display: block;
      overflow: auto;
      width: 600px;
      height: 400px;
      font-size: 14px;
      margin: 10px;
    }

    .x-sample-summary-panel > x-right-panel > x-sequence table {
      min-width: 600px;
    }

    .x-sample-summary-panel > x-right-panel > x-callees {
      display: block;
      position: relative;
      width: 600px;
      height: auto;
      overflow: auto;
      font-size: 14px;
      margin: 10px;
    }

    .x-sample-summary-panel > x-right-panel > x-callees .x-col-numeric {
      width: 30px;
    }

    .x-sample-summary-panel > x-right-panel > x-callees .x-td-numeric {
      text-align: right;
    }

    .x-sample-summary-panel > x-right-panel > x-callees table {
      min-width: 600px;
      max-width: 600px;
    }

    .x-sample-summary-panel > x-right-panel > x-callees {
      display: block;
      overflow: auto;
      height: 300px;
    }

  </style>
<x-toolbar></x-toolbar>
<x-left-panel>
<result-area></result-area>
<x-explanation></x-explanation>
</x-left-panel>
<x-right-panel>
<x-sequence></x-sequence>
<x-callees></x-callees>
</x-right-panel>
</template>









<polymer-element name="single-sample-analysis-sub-view" extends="tracing-analysis-sub-view" constructor="SingleSampleAnalysisSubView">

</polymer-element>
<polymer-element name="multiple-samples-analysis-sub-view" extends="tracing-analysis-sub-view" constructor="MultipleSamplesAnalysisSubView">

</polymer-element>
















<style>
.default-object-snapshot-view #args{white-space:pre}.default-object-instance-view #snapshots>*{display:block}.default-object-view{overflow:auto}.default-object-view *{-webkit-user-select:text}.default-object-view .title,.default-object-view .title{border-bottom:1px solid #808080;font-size:110%;font-weight:bold}.default-object-view td,.default-object-view th{font-family:monospace;vertical-align:top}
</style>













<polymer-element name="tracing-analysis-tab-view" constructor="TracingAnalysisTabView">
<template>
<style>
      :host {
        display: flex;
        flex-flow: column nowrap;
        height: 100%;
        overflow: hidden;
      }

      tab-strip {
        background-image: -webkit-gradient(linear, 0 0, 100% 0,
                                           from(#E5E5E5), to(#D1D1D1));
        border-bottom: 1px solid #8e8e8e;
        border-top: 1px solid #fff;
        display: flex;
        flex: 0 0 auto;
        flex-flow: row wrap;
        height: 23px;
        overflow-y: auto;
      }

      tab-button {
        /* By default, a tab is not selected, its background color is
         * transparent, so this button has no background color set. */
        border-right: 1px solid #8e8e8e;
        cursor: pointer;
        display: block;
        flex: 0 0 auto;
        height: 19px;
        padding: 2px 10px 2px 10px;
      }

      tab-button[selected='true'] {
        background-color: #aaa;
      }

      tabs-content-container {
        display: flex;
        flex: 1 1 auto;
        overflow: auto;
        width: 100%;
      }

      ::content > * {
        flex: 1 1 auto;
      }

      ::content > *:not([selected]) {
        display: none;
      }

      button-label {
        display: inline;
        font-size: 12px;
        font-weight: bold;
        vertical-align: middle;
      }
    </style>
<tab-strip>
<template repeat="{{tab in tabs_}}">
<tab-button button-id="{{ tab.id }}" on-click="{{ tabButtonSelectHandler_ }}" selected="{{ selectedTab_.id === tab.id }}">
<button-label>{{ tab.label ? tab.label : 'No Label'}}</button-label>
</tab-button>
</template>
</tab-strip>
<tabs-content-container id="content-container">
<content></content>
</tabs-content-container>
</template>

</polymer-element>













<polymer-element name="tracing-analysis-view" constructor="TracingAnalysisView">
<template>
<style>
      :host {
        background-color: white;
        display: flex;
        flex-direction: column;
        height: 275px;
        overflow: auto;
      }

      :host(.tall-mode) {
        height: 525px;
      }

      ::content > * {
        flex: 1 0 auto;
      }
    </style>
<content></content>
</template>

</polymer-element>






<template id="cpu-slice-view-template">
<table>
<tr class="analysis-table-row">
<td colspan="2"><b>CPU Time Slice</b></td>
</tr>
<tr class="analysis-table-row">
<td>Running process:</td><td id="process-name"></td>
</tr>
<tr class="analysis-table-row">
<td>Running thread:</td><td id="thread-name"></td>
</tr>
<tr class="analysis-table-row">
<td>Start:</td><td id="start"></td>
</tr>
<tr class="analysis-table-row">
<td>Duration:</td><td id="duration"></td>
</tr>
<tr class="analysis-table-row">
<td>Active slices:</td><td id="running-thread"></td>
</tr>
</table>
</template>










<template id="thread-time-slice-view-template">
<table>
<tr class="analysis-table-row">
<td>Running process:</td><td id="process-name"></td>
</tr>
<tr class="analysis-table-row">
<td>Running thread:</td><td id="thread-name"></td>
</tr>
<tr class="analysis-table-row">
<td>State:</td>
<td><b><span id="state"></span></b></td>
</tr>
<tr class="analysis-table-row">
<td>Start:</td><td id="start"></td>
</tr>
<tr class="analysis-table-row">
<td>Duration:</td><td id="duration"></td>
</tr>
<tr class="analysis-table-row">
<td>On CPU:</td><td id="on-cpu"></td>
</tr>
<tr class="analysis-table-row">
<td>Running instead:</td><td id="running-instead"></td>
</tr>
<tr class="analysis-table-row">
<td>Args:</td><td id="args"></td>
</tr>
</table>
</template>






















<style>
.mouse-mode-selector{-webkit-user-drag:element;-webkit-user-select:none;background:#DDD;border:1px solid #BBB;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,0.2);left:calc(100% - 120px);position:absolute;top:100px;user-select:none;width:29px;z-index:20}.mouse-mode-icon{background-image:url(data:image/png;base64,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)}.mouse-mode-selector .drag-handle{background:url(data:image/png;base64,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) 2px 3px no-repeat;background-repeat:no-repeat;border-bottom:1px solid #bcbcbc;cursor:move;display:block;height:13px;width:27px}.mouse-mode-selector .pan-scan-mode-button{background-image:url(data:image/png;base64,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);background-position:0 -10px}.mouse-mode-selector .pan-scan-mode-button.active{background-position:-30px -10px}.mouse-mode-selector .selection-mode-button{background-image:url(data:image/png;base64,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);background-position:0 -40px}.mouse-mode-selector .selection-mode-button.active{background-position:-30px -40px}.mouse-mode-selector .zoom-mode-button{background-image:url(data:image/png;base64,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);background-position:0 -70px}.mouse-mode-selector .zoom-mode-button.active{background-position:-30px -70px}.mouse-mode-selector .timing-mode-button{background-image:url(data:image/png;base64,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);background-position:0 -100px;border-bottom:0}.mouse-mode-selector .timing-mode-button.active{background-position:-30px -100px}.mouse-mode-selector .rotate-mode-button{background-image:url(data:image/png;base64,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);background-position:0 -130px;border-bottom:0}.mouse-mode-selector .rotate-mode-button.active{background-position:-30px -130px}
</style>
<style>
.tool-button{background-position:center center;background-repeat:no-repeat;border-bottom:1px solid #bcbcbc;border-top:1px solid #f1f1f1;cursor:pointer;height:30px}.tool-button.active{cursor:auto}
</style>
<template id="mouse-mode-selector-template">
<div class="drag-handle"></div>
<div class="buttons">
</div>
</template>






























































<style>
.track-button{background-color:rgba(255,255,255,0.5);border:1px solid rgba(0,0,0,0.1);color:rgba(0,0,0,0.2);font-size:10px;height:12px;text-align:center;width:12px}.track-button:hover{background-color:rgba(255,255,255,1.0);border:1px solid rgba(0,0,0,0.5);box-shadow:0 0 .05em rgba(0,0,0,0.4);color:rgba(0,0,0,1)}.track-close-button{left:2px;position:absolute;top:2px}.track-collapse-button{left:3px;position:absolute;top:2px}
</style>






<style>
.drawing-container{-webkit-box-flex:1;display:inline;overflow:auto;position:relative}.drawing-container-canvas{-webkit-box-flex:1;display:block;pointer-events:none;position:absolute;top:0}
</style>












<style>
.heading-track{-webkit-box-align:stretch;-webkit-box-orient:horizontal;display:-webkit-box;margin:0;padding:0 5px 0 0}.heading-track>heading{-webkit-box-sizing:border-box;background-color:#f3f5f7;border-right:1px solid #8e8e8e;box-sizing:border-box;display:-webkit-flex;-webkit-flex-direction:row;align-items:center;overflow-x:hidden;padding-right:5px;text-align:left;text-overflow:ellipsis;white-space:nowrap}.heading-track>heading>.heading-arrow{-webkit-flex:0 0 auto;margin-left:5px;margin-right:5px;width:8px;font-family:sans-serif}
</style>







<style>
.counter-track{height:30px;position:relative}
</style>














<style>
.object-instance-track{height:18px}
</style>

















<style>
.spacing-track{height:4px}
</style>








<style>
.rect-track{height:18px}
</style>




























<style>
.thread-track{-webkit-box-orient:vertical;display:-webkit-box;position:relative}
</style>











<style>
.process-track-header{-webkit-flex:0 0 auto;background-image:-webkit-gradient(linear,0 0,100% 0,from(#e5e5e5),to(#d1d1d1));border-bottom:1px solid #8e8e8e;border-top:1px solid white;font-size:75%}.process-track-base:not(.expanded)>.track{display:none}.process-track-name:before{content:'\25B8';padding:0 5px}.process-track-base.expanded .process-track-name:before{content:'\25BE'}
</style>































<style>
.model-track{-webkit-box-flex:1}
</style>








<style>
.ruler-track{height:12px}.ruler-track.tall-mode{height:30px}
</style>








<style>
body *{-webkit-user-select:none;box-sizing:border-box}
</style>
<style>
.timeline-track-view *{-webkit-user-select:none;cursor:default}.timeline-track-view .tool-button{cursor:pointer}.timeline-track-view{-webkit-box-orient:vertical;display:-webkit-box;position:relative}.model-track-container{-webkit-box-flex:1;overflow:auto}.drag-box{background-color:rgba(0,0,255,0.25);border:1px solid #000060;font-size:75%;position:fixed}.timeline-track-view>.hint-text{position:absolute;bottom:6px;right:6px;font-size:8pt}
</style>



















<polymer-element name="tracing-find-control" constructor="TracingFindControl">
<template>
<style>
      div.root {
        -webkit-user-select: none;
        display: -webkit-flex;
        position: relative;
      }
      input {
        -webkit-user-select: auto;
        background-color: #f8f8f8;
        border: 1px solid rgba(0, 0, 0, 0.5);
        box-sizing: border-box;
        height: 19px;
        margin-bottom: 1px;
        margin-left: 0;
        margin-right: 0;
        margin-top: 1px;
        padding: 0;
        width: 170px;
      }
      input:focus {
        background-color: white;
      }
      .button {
        border-left: none;
        height: 17px;
        margin-left: 0;
      }
      .button :first-of-type {
        margin-right: 0;
      }
      #hitCount {
        height: 19px;
        left: 0;
        opacity: 0.25;
        pointer-events: none;
        position: absolute;
        text-align: right;
        top: 2px;
        width: 170px;
        z-index: 1;
      }
    </style>
<div class="root">
<input type="text" id="filter" on-input="{{ filterTextChanged }}" on-keypress="{{ filterKeyPress }}" on-keydown="{{ filterKeyDown }}" on-blur="{{ filterBlur }}" on-focus="{{ filterFocus }}" on-mouseup="{{ filterMouseUp }}" />
<div class="button" on-click="{{ findPrevious }}">&larr;</div>
<div class="button" on-click="{{ findNext }}">&rarr;</div>
<div id="hitCount">0 of 0</div>
</div>
</template>

</polymer-element>










<style>
.line-chart .line{fill:none;stroke-width:1.5px}.line-chart #brushes>rect{fill:#c0c0c0}
</style>











<style>
  .x-input-latency-side-panel {
    -webkit-flex-direction: column;
    display: -webkit-flex;
  }
  .x-input-latency-side-panel > toolbar {
    -webkit-flex: 0 0 auto;
    border-bottom: 1px solid black;
    display: -webkit-flex;
  }
  .x-input-latency-side-panel > result-area {
    -webkit-flex: 1 1 auto;
    display: block;
    min-height: 0;
    overflow-y: auto;
  }
</style>
<template id="x-input-latency-side-panel-template">
<toolbar>
</toolbar>
<result-area>
</result-area>
</template>










<style>
  .x-time-summary-side-panel {
    -webkit-flex-direction: column;
    display: -webkit-flex;
  }
  .x-time-summary-side-panel > toolbar {
    -webkit-flex: 0 0 auto;
    border-bottom: 1px solid black;
    display: -webkit-flex;
  }
  .x-time-summary-side-panel > result-area {
    -webkit-flex: 1 1 auto;
    display: block;
    min-height: 0;
    overflow-y: auto;
  }
</style>
<template id="x-time-summary-side-panel-template">
<toolbar>
</toolbar>
<result-area>
</result-area>
</template>




<style>
x-timeline-view{-webkit-flex-direction:column;cursor:default;display:-webkit-flex;font-family:sans-serif;padding:0}x-timeline-view>.control>.title{font-size:14px;height:22px;padding-left:2px;padding-right:8px;padding-top:2px}x-timeline-view>.control{-webkit-flex:0 0 auto;background-color:#e6e6e6;background-image:-webkit-gradient(linear,0 0,0 100%,from(#e5e5e5),to(#d1d1d1));border-bottom:1px solid #8e8e8e;display:-webkit-flex;padding-top:1px}x-timeline-view>.control>#right-controls{margin-left:auto}x-timeline-view>.control>.controls{display:-webkit-flex}x-timeline-view>.control>span{padding-left:5px;padding-right:10px}x-timeline-view>.control>.controls button,x-timeline-view>.control>.controls label{font-size:14px;height:22px;margin:1px 2px 1px 2px}x-timeline-view>.control>.spacer{-webkit-flex:1 1 auto}x-timeline-view>middle-container{-webkit-flex:1 1 auto;-webkit-flex-direction:row;border-bottom:1px solid #8e8e8e;display:-webkit-flex;min-height:0}x-timeline-view>middle-container>track-view-container{-webkit-flex:1 1 auto;display:-webkit-flex;min-height:0;min-width:0}x-timeline-view>middle-container>track-view-container>*{-webkit-flex:1 1 auto}x-timeline-view>middle-container>x-timeline-view-side-panel-container{-webkit-flex:0 0 auto}x-timeline-view>x-drag-handle{-webkit-flex:0 0 auto}x-timeline-view>tracing-analysis-view{-webkit-flex:0 0 auto}x-timeline-view .selection{margin:2px}x-timeline-view .selection ul{margin:0}.button{background-color:#f8f8f8;border:1px solid rgba(0,0,0,0.5);color:rgba(0,0,0,0.8);font-size:14px;height:22px;margin:1px;min-width:23px;text-align:center}.button:hover{background-color:rgba(255,255,255,1.0);border:1px solid rgba(0,0,0,0.8);box-shadow:0 0 .05em rgba(0,0,0,0.4);color:rgba(0,0,0,1)}.view-info-button{padding-left:4px;padding-right:4px;width:auto}.view-info-button:hover{border:solid 1px}.metadata-dialog-text{font-family:monospace;overflow:auto;white-space:pre}.view-help-text{-webkit-flex:1 1 auto;-webkit-flex-direction:row;display:-webkit-flex;width:700px}.view-help-text .column{width:50%}.view-help-text h2{font-size:1.2em;margin:0;margin-top:5px;text-align:center}.view-help-text h3{margin:0;margin-left:126px;margin-top:10px}.view-help-text .pair{-webkit-flex:1 1 auto;-webkit-flex-direction:row;display:-webkit-flex}.view-help-text .command{font-family:monospace;margin-right:5px;text-align:right;width:150px}.view-help-text .action{font-size:.9em;text-align:left;width:200px}.view-help-text .mouse-mode-icon{border:1px solid #888;border-radius:3px;box-shadow:inset 0 0 2px rgba(0,0,0,0.3);display:inline-block;height:26px;margin-right:1px;position:relative;top:4px;width:27px;zoom:.75}.view-help-text .mouse-mode-icon.pan-mode{background-position:-1px -11px}.view-help-text .mouse-mode-icon.select-mode{background-position:-1px -41px}.view-help-text .mouse-mode-icon.zoom-mode{background-position:-1px -71px}.view-help-text .mouse-mode-icon.timing-mode{background-position:-1px -101px}
</style>















<template id="timeline-view-template">
<div class="control">
<div id="left-controls" class="controls"></div>
<div class="title">^_^</div>
<div id="right-controls" class="controls"></div>
</div>
<middle-container>
<track-view-container></track-view-container>
<x-timeline-view-side-panel-container></x-timeline-view-side-panel-container>
</middle-container>
<x-drag-handle></x-drag-handle>
<tracing-analysis-view id="analysis"></tracing-analysis-view>
</template>
<template id="help-btn-template">
<div class="button view-help-button">?</div>
<div class="view-help-text">
<div class="column left">
<h2>Navigation</h2>
<div class="pair">
<div class="command">w/s</div>
<div class="action">Zoom in/out (+shift: faster)</div>
</div>
<div class="pair">
<div class="command">a/d</div>
<div class="action">Pan left/right (+shift: faster)</div>
</div>
<div class="pair">
<div class="command">&rarr;/shift-TAB</div>
<div class="action">Select previous event</div>
</div>
<div class="pair">
<div class="command">&larr;/TAB</div>
<div class="action">Select next event</div>
</div>
<h2>Mouse Controls</h2>
<div class="pair">
<div class="command">click</div>
<div class="action">Select event</div>
</div>
<div class="pair">
<div class="command">alt-mousewheel</div>
<div class="action">Zoom in/out</div>
</div>
<h3>
<span class="mouse-mode-icon select-mode"></span>
        Select mode
      </h3>
<div class="pair">
<div class="command">drag</div>
<div class="action">Box select</div>
</div>
<div class="pair">
<div class="command">double click</div>
<div class="action">Select all events with same title</div>
</div>
<h3>
<span class="mouse-mode-icon pan-mode"></span>
        Pan mode
      </h3>
<div class="pair">
<div class="command">drag</div>
<div class="action">Pan the view</div>
</div>
<h3>
<span class="mouse-mode-icon zoom-mode"></span>
        Zoom mode
      </h3>
<div class="pair">
<div class="command">drag</div>
<div class="action">Zoom in/out by dragging up/down</div>
</div>
<h3>
<span class="mouse-mode-icon timing-mode"></span>
        Timing mode
      </h3>
<div class="pair">
<div class="command">drag</div>
<div class="action">Create or move markers</div>
</div>
<div class="pair">
<div class="command">double click</div>
<div class="action">Set marker range to slice</div>
</div>
</div>
<div class="column right">
<h2>General</h2>
<div class="pair">
<div class="command">1-4</div>
<div class="action">Switch mouse mode</div>
</div>
<div class="pair">
<div class="command">shift</div>
<div class="action">Hold for temporary select</div>
</div>
<div class="pair">
<div class="command">space</div>
<div class="action">Hold for temporary pan</div>
</div>
<div class="pair">
<div class="command"><span class="mod"></span></div>
<div class="action">Hold for temporary zoom</div>
</div>
<div class="pair">
<div class="command">/</div>
<div class="action">Search</div>
</div>
<div class="pair">
<div class="command">enter</div>
<div class="action">Step through search results</div>
</div>
<div class="pair">
<div class="command">f</div>
<div class="action">Zoom into selection</div>
</div>
<div class="pair">
<div class="command">z/0</div>
<div class="action">Reset zoom and pan</div>
</div>
<div class="pair">
<div class="command">g/G</div>
<div class="action">Toggle 60hz grid</div>
</div>
<div class="pair">
<div class="command">v</div>
<div class="action">Highlight VSync</div>
</div>
<div class="pair">
<div class="command">h</div>
<div class="action">Toggle low/high details</div>
</div>
<div class="pair">
<div class="command">m</div>
<div class="action">Mark current selection</div>
</div>
<div class="pair">
<div class="command">?</div>
<div class="action">Show help</div>
</div>
</div>
</div>
</template>
<template id="metadata-btn-template">
<div class="button view-metadata-button view-info-button">Metadata</div>
<div class="info-button-text metadata-dialog-text"></div>
</template>









































































































































































































































































<style>
.x-list-view{-webkit-user-select:none;display:block}.x-list-view:focus{outline:0}.x-list-view *{-webkit-user-select:none}.x-list-view>.list-item{padding:2px 4px 2px 4px}.x-list-view:focus>.list-item[selected]{background-color:#abd9ca;outline:1px dotted rgba(0,0,0,0.1);outline-offset:0}.x-list-view>.list-item[selected]{background-color:#67c7a5}
</style>



<style>
layer-picker{-webkit-flex-direction:column;display:-webkit-flex}layer-picker>top-controls{-webkit-flex:0 0 auto;background-image:-webkit-gradient(linear,0 0,100% 0,from(#e5e5e5),to(#d1d1d1));border-bottom:1px solid #8e8e8e;border-top:1px solid white;display:inline;font-size:14px;padding-left:2px}layer-picker>top-controls input[type='checkbox']{vertical-align:-2px}layer-picker>.x-list-view{-webkit-flex:1 1 auto;font-family:monospace;overflow:auto}layer-picker>x-generic-object-view{-webkit-flex:0 0 auto;height:200px;overflow:auto}layer-picker>x-generic-object-view *{-webkit-user-select:text!important;cursor:text}
</style>




























































<style>
quad-stack-view {
  display: block;
  float: left;
  height: 100%;
  overflow: hidden;
  position: relative; /* For the absolute positioned mouse-mode-selector */
  width: 100%;
}

quad-stack-view > #header {
  position: absolute;
  font-size: 70%;
  top: 10px;
  left: 10px;
  width: 800px;
}
quad-stack-view > #stacking-distance-slider {
  position: absolute;
  font-size: 70%;
  top: 10px;
  right: 10px;
}

quad-stack-view > #chrome-left {
  content: url(data:image/png;base64,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);
  display: none;
}

quad-stack-view > #chrome-mid {
  content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAABICAYAAADRa1RpAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH3QcNFycE5v9iFQAAAQtJREFUOMvtkjGSWzEMQx/0eYrM3v8k3vgqycalSwlI8Ufyl3OBFMtGIgUCIEd6PB6RBEASqvfONSrJXrDNbNkQ8ywA2y/SmayW+ZIESTsiyQsxo40xmMS2aUmYbheHpCVd0+UqJGGMsey3mUyldoUvlY3D9rIN0K7Wbe/WbZ+y1yWtaVtrp3VJzAEX6ZVjc2p7b2mtnYhNdl6m05rwtfV/ltx7XypJTpXeO7Y5juOlchzHaWxyrJmuhLapqgIJONv05+srThBgiQpBTSRwGOr3rwccgWHUhJ7P5/YNlbd/2XiL78L/WajP240AQUihfnx84EDJjCHKHjTAbkimQDgBjAJ1/3kHAgEk/gL71AHEWVXPGQAAAABJRU5ErkJggg==);
  display: none;
}

quad-stack-view > #chrome-right {
  content: url(data:image/png;base64,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);
  display: none;
}
</style>
<template id="quad-stack-view-template">
<div id="header"></div>
<input id="stacking-distance-slider" type="range" min="1" max="400" step="1" />
<canvas id="canvas"></canvas>
<img id="chrome-left" />
<img id="chrome-mid" />
<img id="chrome-right" />
</template>





<style>
x-info-bar{-webkit-align-items:center;-webkit-flex:0 0 auto;background-color:#fceba2;border-bottom:1px solid #a3a3a3;border-left:1px solid white;border-right:1px solid #a3a3a3;border-top:1px solid white;display:-webkit-flex;height:26px;padding:0 3px 0 3px}.info-bar-hidden{display:none}x-info-bar>.message{-webkit-flex:1 1 auto}x-info-bar-group{-webkit-flex:0 0 auto;-webkit-flex-direction:column;display:-webkit-flex}
</style>















<style>
layer-tree-quad-stack-view {
  position: relative;
}

layer-tree-quad-stack-view > top-controls {
  -webkit-flex: 0 0 auto;
  background-image: -webkit-gradient(linear,
                                     0 0, 100% 0,
                                     from(#E5E5E5),
                                     to(#D1D1D1));
  border-bottom: 1px solid #8e8e8e;
  border-top: 1px solid white;
  display: flex;
  flex-flow: row wrap;
  flex-direction: row;
  font-size:  14px;
  padding-left: 2px;
  overflow: hidden;
}

layer-tree-quad-stack-view > top-controls input[type='checkbox'] {
  vertical-align: -2px;
}

layer-tree-quad-stack-view > .what-rasterized {
  color: -webkit-link;
  cursor: pointer;
  text-decoration: underline;
  position: absolute;
  bottom: 10px;
  left: 10px;
}

layer-tree-quad-stack-view > #input-event {
  content: url(data:image/png;base64,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);
  display: none;
}

</style>
<template id="layer-tree-quad-stack-view-template">
<img id="input-event" />
</template>



<style>
layer-view{-webkit-flex-direction:column;display:-webkit-flex;left:0;position:relative;top:0}layer-view>layer-tree-quad-stack-view{-webkit-flex:1 1 100%;-webkit-flex-direction:column;display:-webkit-flex;width:100%}layer-view>layer-view-analysis{height:150px;overflow-y:auto}layer-view>layer-view-analysis *{-webkit-user-select:text}.labeled-checkbox{white-space:nowrap}.labeled-option-group{-webkit-flex:0 0 auto;-webkit-flex-direction:column;-webkit-align-items:left;display:-webkit-flex}.labeled-option{border-top:5px solid white;border-bottom:5px solid white}.edit-categories{padding-left:6px}.edit-categories:after{padding-left:15px;font-size:125%}.labeled-option-group:not(.categories-expanded) .edit-categories:after{content:'\25B8'}.labeled-option-group.categories-expanded .edit-categories:after{content:'\25BE'}
</style>










<style>
.lthi-s-view{-webkit-flex:1 1 auto!important;-webkit-flex-direction:row;display:-webkit-flex}.lthi-s-view>layer-picker{-webkit-flex:1 1 auto}.lthi-s-view>x-drag-handle{-webkit-flex:0 0 auto}
</style>










<style>
picture-ops-chart-summary-view{-webkit-flex:0 0 auto;font-size:0;margin:0;min-height:200px;min-width:200px;overflow:hidden;padding:0}picture-ops-chart-summary-view.hidden{display:none}
</style>



<style>
picture-ops-chart-view{display:block;height:180px;margin:0;padding:0;position:relative}picture-ops-chart-view>.use-percentile-scale{left:0;position:absolute;top:0}
</style>




<style>
picture-ops-list-view{-webkit-flex-direction:column;border-top:1px solid grey;display:-webkit-flex}picture-ops-list-view>.x-list-view{-webkit-flex:1 1 auto;overflow:auto}picture-ops-list-view>.x-list-view .list-item{border-bottom:1px solid #555;font-size:small;font-weight:bold;padding-bottom:5px;padding-left:5px}picture-ops-list-view>.x-list-view .list-item:hover{background-color:#f0f0f0;cursor:pointer}picture-ops-list-view>.x-list-view .list-item>*{color:#777;font-size:x-small;font-weight:normal;margin-left:1em;max-width:300px}picture-ops-list-view>.x-list-view .list-item>.elementInfo{color:purple;font-size:small;font-weight:bold}picture-ops-list-view>.x-list-view .list-item>.time{color:#800}.x-list-view:focus>.list-item[beforeSelection]{background-color:#abd9ca;outline:1px dotted rgba(0,0,0,0.1);outline-offset:0}.x-list-view>.list-item[beforeSelection]{background-color:#67c7a5}
</style>



















<template id="picture-debugger-template">
<style>
  picture-debugger {
    -webkit-flex: 1 1 auto;
    -webkit-flex-direction: row;
    display: -webkit-flex;
  }

  picture-debugger > x-generic-object-view {
    -webkit-flex-direction: column;
    display: -webkit-flex;
    width: 400px;
  }

  picture-debugger > left-panel {
    -webkit-flex-direction: column;
    display: -webkit-flex;
    min-width: 300px;
  }

  picture-debugger > left-panel > picture-info {
    -webkit-flex: 0 0 auto;
    padding-top: 2px;
  }

  picture-debugger > left-panel > picture-info .title {
    font-weight: bold;
    margin-left: 5px;
    margin-right: 5px;
  }

  picture-debugger > x-drag-handle {
    -webkit-flex: 0 0 auto;
  }

  picture-debugger .filename {
    -webkit-user-select: text;
    margin-left: 5px;
  }

  picture-debugger > right-panel {
    -webkit-flex: 1 1 auto;
    -webkit-flex-direction: column;
    display: -webkit-flex;
  }

  picture-debugger > right-panel > picture-ops-chart-view {
    min-height: 150px;
    min-width : 0;
    overflow-x: auto;
    overflow-y: hidden;
  }

  /******************************************************************************/

  raster-area {
    background-color: #ddd;
    min-height: 200px;
    min-width: 200px;
    overflow-y: auto;
    padding-left: 5px;
  }
  </style>
<left-panel>
<picture-info>
<div>
<span class="title">Skia Picture</span>
<span class="size"></span>
</div>
<div>
<input class="filename" type="text" value="skpicture.skp" />
<button class="export">Export</button>
</div>
</picture-info>
</left-panel>
<right-panel>
<picture-ops-chart-view></picture-ops-chart-view>
<raster-area><canvas></canvas></raster-area>
</right-panel>
</template>



<style>
.picture-snapshot-view{-webkit-flex:0 1 auto!important;display:-webkit-flex}
</style>



























<polymer-element name="raster-task-analysis-for-tasks-from-same-lthi" constructor="RasterTaskSubViewForTasksFromSameLTHI">

</polymer-element>
















<style>
.raster-task-sub-view {
  -webkit-flex-direction: column;
  -webkit-flex: 1 1 auto !important;
  display: -webkit-flex;
}

.raster-task-sub-view > object-snapshot-view {
  -webkit-flex: 1 1 auto;
}
</style>
<polymer-element name="raster-task-sub-view" extends="tracing-analysis-sub-view" constructor="RasterTaskSubView">

</polymer-element>








<polymer-element name="raster-task-analysis-for-tasks-from-different-lthi" constructor="RasterTaskSubViewForTasksFromDifferentLTHI">

</polymer-element>


















<style>
.subhead{font-size:small;padding-bottom:10px}.tcmalloc-instance-view #args{white-space:pre}.tcmalloc-instance-view #snapshots>*{display:block}.tcmalloc-instance-view{overflow:auto}.tcmalloc-instance-view *{-webkit-user-select:text}.tcmalloc-instance-view .title{border-bottom:1px solid #808080;font-size:110%;font-weight:bold}.tcmalloc-instance-view td,.tcmalloc-instance-view th{font-size:small;text-align:right}
</style>





<style>
.subhead{font-size:small;padding-bottom:10px}.tcmalloc-snapshot-view ul{background-position:0 5px;background-repeat:no-repeat;cursor:pointer;font-family:monospace;list-style:none;margin:0;padding-left:15px}.tcmalloc-snapshot-view li{background-position:0 5px;background-repeat:no-repeat;cursor:pointer;list-style:none;margin:0;padding-left:15px}.tcmalloc-snapshot-view .collapsed{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAwBQTFRFAAAAVVVVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASd3+7gAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAAAZdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjbQg61aAAAAGklEQVQYV2P4//8/IyOQYMBkMEIBA5yBWzEAD3Mj+VR5R78AAAAASUVORK5CYII=)}.tcmalloc-snapshot-view .expanded{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAABl0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuNtCDrVoAAAAoSURBVChTY2CgKggNDVUHYnsUQ4EC//FhBoIKkI0DKlYAYhmqupsBAMwgJH8K5nKoAAAAAElFTkSuQmCC)}.trace-bytes{display:inline-block;padding-right:10px;text-align:right;width:80px}.trace-allocs{display:inline-block;padding-right:10px;text-align:right;width:120px}.trace-name{display:inline-block}
</style>




















<style>
.subhead{font-size:small;padding-bottom:10px}.system-stats-snapshot-view ul{background-position:0 5px;background-repeat:no-repeat;cursor:pointer;font-family:monospace;list-style:none;margin:0;padding-left:15px}.system-stats-snapshot-view li{background-position:0 5px;background-repeat:no-repeat;cursor:pointer;list-style:none;margin:0;padding-left:15px}
</style>











<style>
.system-stats-instance-track{height:500px}.system-stats-instance-track ul{list-style:none;list-style-position:outside;margin:0;overflow:hidden}
</style>


















<style>
.gpu-state-snapshot-view{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAEwATABMYqp3KAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90JCQsBMCH7ZqYAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAUElEQVRYw+3WwQkAIAiF4Vc0hTO5/wiuURvYIcQOv1cRPhDlDXffSsrMsrYiQi/zU80FAACAVX3nt3lWAABA/x+ovnPyAAAA5AHyAAAA3wMOd34Xd+lsglgAAAAASUVORK5CYII=);display:-webkit-flex;overflow:auto}.gpu-state-snapshot-view img{display:block;margin:16px auto 16px auto}
</style>









<style>
.heap-instance-track{height:150px}.heap-instance-track ul{list-style:none;list-style-position:outside;margin:0;overflow:hidden}
</style>






















<script>

// Copyright (c) 2014 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

/* WARNING: This file is auto generated.
 *
 * Do not edit directly.
 */

/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
// @version: 0.4.1
window.PolymerGestures={},function(a){var b=!1,c=document.createElement("meta");if(c.createShadowRoot){var d=c.createShadowRoot(),e=document.createElement("span");d.appendChild(e),c.addEventListener("testpath",function(a){a.path&&(b=a.path[0]===e),a.stopPropagation()});var f=new CustomEvent("testpath",{bubbles:!0});document.head.appendChild(c),e.dispatchEvent(f),c.parentNode.removeChild(c),d=e=null}c=null;var g={shadow:function(a){return a?a.shadowRoot||a.webkitShadowRoot:void 0},canTarget:function(a){return a&&Boolean(a.elementFromPoint)},targetingShadow:function(a){var b=this.shadow(a);return this.canTarget(b)?b:void 0},olderShadow:function(a){var b=a.olderShadowRoot;if(!b){var c=a.querySelector("shadow");c&&(b=c.olderShadowRoot)}return b},allShadows:function(a){for(var b=[],c=this.shadow(a);c;)b.push(c),c=this.olderShadow(c);return b},searchRoot:function(a,b,c){var d,e;return a?(d=a.elementFromPoint(b,c),d?e=this.targetingShadow(d):a!==document&&(e=this.olderShadow(a)),this.searchRoot(e,b,c)||d):void 0},owner:function(a){if(!a)return document;for(var b=a;b.parentNode;)b=b.parentNode;return b.nodeType!=Node.DOCUMENT_NODE&&b.nodeType!=Node.DOCUMENT_FRAGMENT_NODE&&(b=document),b},findTarget:function(a){if(b&&a.path&&a.path.length)return a.path[0];var c=a.clientX,d=a.clientY,e=this.owner(a.target);return e.elementFromPoint(c,d)||(e=document),this.searchRoot(e,c,d)},findTouchAction:function(a){var c;if(b&&a.path&&a.path.length){for(var d=a.path,e=0;e<d.length;e++)if(c=d[e],c.nodeType===Node.ELEMENT_NODE&&c.hasAttribute("touch-action"))return c.getAttribute("touch-action")}else for(c=a.target;c;){if(c.nodeType===Node.ELEMENT_NODE&&c.hasAttribute("touch-action"))return c.getAttribute("touch-action");c=c.parentNode||c.host}return"auto"},LCA:function(a,b){if(a===b)return a;if(a&&!b)return a;if(b&&!a)return b;if(!b&&!a)return document;if(a.contains&&a.contains(b))return a;if(b.contains&&b.contains(a))return b;var c=this.depth(a),d=this.depth(b),e=c-d;for(e>=0?a=this.walk(a,e):b=this.walk(b,-e);a&&b&&a!==b;)a=a.parentNode||a.host,b=b.parentNode||b.host;return a},walk:function(a,b){for(var c=0;a&&b>c;c++)a=a.parentNode||a.host;return a},depth:function(a){for(var b=0;a;)b++,a=a.parentNode||a.host;return b},deepContains:function(a,b){var c=this.LCA(a,b);return c===a},insideNode:function(a,b,c){var d=a.getBoundingClientRect();return d.left<=b&&b<=d.right&&d.top<=c&&c<=d.bottom},path:function(a){var c;if(b&&a.path&&a.path.length)c=a.path;else{c=[];for(var d=this.findTarget(a);d;)c.push(d),d=d.parentNode||d.host}return c}};a.targetFinding=g,a.findTarget=g.findTarget.bind(g),a.deepContains=g.deepContains.bind(g),a.insideNode=g.insideNode}(window.PolymerGestures),function(){function a(a){return"html /deep/ "+b(a)}function b(a){return'[touch-action="'+a+'"]'}function c(a){return"{ -ms-touch-action: "+a+"; touch-action: "+a+";}"}var d=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]},"manipulation"],e="",f="string"==typeof document.head.style.touchAction,g=!window.ShadowDOMPolyfill&&document.head.createShadowRoot;if(f){d.forEach(function(d){String(d)===d?(e+=b(d)+c(d)+"\n",g&&(e+=a(d)+c(d)+"\n")):(e+=d.selectors.map(b)+c(d.rule)+"\n",g&&(e+=d.selectors.map(a)+c(d.rule)+"\n"))});var h=document.createElement("style");h.textContent=e,document.head.appendChild(h)}}(),function(a){var b=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],c=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],d=function(){return function(){}},e={preventTap:d,makeBaseEvent:function(a,b){var c=document.createEvent("Event");return c.initEvent(a,b.bubbles||!1,b.cancelable||!1),c.preventTap=e.preventTap(c),c},makeGestureEvent:function(a,b){b=b||Object.create(null);for(var c,d=this.makeBaseEvent(a,b),e=0,f=Object.keys(b);e<f.length;e++)c=f[e],d[c]=b[c];return d},makePointerEvent:function(a,d){d=d||Object.create(null);for(var e,f=this.makeBaseEvent(a,d),g=0;g<b.length;g++)e=b[g],f[e]=d[e]||c[g];f.buttons=d.buttons||0;var h=0;return h=d.pressure?d.pressure:f.buttons?.5:0,f.x=f.clientX,f.y=f.clientY,f.pointerId=d.pointerId||0,f.width=d.width||0,f.height=d.height||0,f.pressure=h,f.tiltX=d.tiltX||0,f.tiltY=d.tiltY||0,f.pointerType=d.pointerType||"",f.hwTimestamp=d.hwTimestamp||0,f.isPrimary=d.isPrimary||!1,f._source=d._source||"",f}};a.eventFactory=e}(window.PolymerGestures),function(a){function b(){if(c){var a=new Map;return a.pointers=d,a}this.keys=[],this.values=[]}var c=window.Map&&window.Map.prototype.forEach,d=function(){return this.size};b.prototype={set:function(a,b){var c=this.keys.indexOf(a);c>-1?this.values[c]=b:(this.keys.push(a),this.values.push(b))},has:function(a){return this.keys.indexOf(a)>-1},"delete":function(a){var b=this.keys.indexOf(a);b>-1&&(this.keys.splice(b,1),this.values.splice(b,1))},get:function(a){var b=this.keys.indexOf(a);return this.values[b]},clear:function(){this.keys.length=0,this.values.length=0},forEach:function(a,b){this.values.forEach(function(c,d){a.call(b,c,this.keys[d],this)},this)},pointers:function(){return this.keys.length}},a.PointerMap=b}(window.PolymerGestures),function(a){var b,c=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp","preventTap","tapPrevented","_source"],d=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0,function(){},!1],e="undefined"!=typeof SVGElementInstance,f=a.eventFactory,g={IS_IOS:!1,pointermap:new a.PointerMap,requiredGestures:new a.PointerMap,eventMap:Object.create(null),eventSources:Object.create(null),eventSourceList:[],gestures:[],dependencyMap:{down:{listeners:0,index:-1},up:{listeners:0,index:-1}},gestureQueue:[],registerSource:function(a,b){var c=b,d=c.events;d&&(d.forEach(function(a){c[a]&&(this.eventMap[a]=c[a].bind(c))},this),this.eventSources[a]=c,this.eventSourceList.push(c))},registerGesture:function(a,b){var c=Object.create(null);c.listeners=0,c.index=this.gestures.length;for(var d,e=0;e<b.exposes.length;e++)d=b.exposes[e].toLowerCase(),this.dependencyMap[d]=c;this.gestures.push(b)},register:function(a,b){for(var c,d=this.eventSourceList.length,e=0;d>e&&(c=this.eventSourceList[e]);e++)c.register.call(c,a,b)},unregister:function(a){for(var b,c=this.eventSourceList.length,d=0;c>d&&(b=this.eventSourceList[d]);d++)b.unregister.call(b,a)},down:function(a){this.requiredGestures.set(a.pointerId,b),this.fireEvent("down",a)},move:function(a){a.type="move",this.fillGestureQueue(a)},up:function(a){this.fireEvent("up",a),this.requiredGestures.delete(a.pointerId)},cancel:function(a){a.tapPrevented=!0,this.fireEvent("up",a),this.requiredGestures.delete(a.pointerId)},addGestureDependency:function(a,b){var c=a._pgEvents;if(c)for(var d,e,f,g=Object.keys(c),h=0;h<g.length;h++)f=g[h],c[f]>0&&(d=this.dependencyMap[f],e=d?d.index:-1,b[e]=!0)},eventHandler:function(c){var d=c.type;if("touchstart"===d||"mousedown"===d||"pointerdown"===d||"MSPointerDown"===d)if(c._handledByPG||(b={}),this.IS_IOS)for(var e,f=a.targetFinding.path(c),g=0;g<f.length;g++)e=f[g],this.addGestureDependency(e,b);else this.addGestureDependency(c.currentTarget,b);if(!c._handledByPG){var h=this.eventMap&&this.eventMap[d];h&&h(c),c._handledByPG=!0}},listen:function(a,b){for(var c,d=0,e=b.length;e>d&&(c=b[d]);d++)this.addEvent(a,c)},unlisten:function(a,b){for(var c,d=0,e=b.length;e>d&&(c=b[d]);d++)this.removeEvent(a,c)},addEvent:function(a,b){a.addEventListener(b,this.boundHandler)},removeEvent:function(a,b){a.removeEventListener(b,this.boundHandler)},makeEvent:function(a,b){var c=f.makePointerEvent(a,b);return c.preventDefault=b.preventDefault,c.tapPrevented=b.tapPrevented,c._target=c._target||b.target,c},fireEvent:function(a,b){var c=this.makeEvent(a,b);return this.dispatchEvent(c)},cloneEvent:function(a){for(var b,f=Object.create(null),g=0;g<c.length;g++)b=c[g],f[b]=a[b]||d[g],("target"===b||"relatedTarget"===b)&&e&&f[b]instanceof SVGElementInstance&&(f[b]=f[b].correspondingUseElement);return f.preventDefault=function(){a.preventDefault()},f},dispatchEvent:function(a){var b=a._target;if(b){b.dispatchEvent(a);var c=this.cloneEvent(a);c.target=b,this.fillGestureQueue(c)}},gestureTrigger:function(){for(var a,b,c=0;c<this.gestureQueue.length;c++){a=this.gestureQueue[c],b=a._requiredGestures;for(var d,e,f=0;f<this.gestures.length;f++)b[f]&&(d=this.gestures[f],e=d[a.type],e&&e.call(d,a))}this.gestureQueue.length=0},fillGestureQueue:function(a){this.gestureQueue.length||requestAnimationFrame(this.boundGestureTrigger),a._requiredGestures=this.requiredGestures.get(a.pointerId),this.gestureQueue.push(a)}};g.boundHandler=g.eventHandler.bind(g),g.boundGestureTrigger=g.gestureTrigger.bind(g),a.dispatcher=g,a.activateGesture=function(a,b){var c=b.toLowerCase(),d=g.dependencyMap[c];if(d){var e=g.gestures[d.index];if(a._pgListeners||(g.register(a),a._pgListeners=0),e){var f,h=e.defaultActions&&e.defaultActions[c];switch(a.nodeType){case Node.ELEMENT_NODE:f=a;break;case Node.DOCUMENT_FRAGMENT_NODE:f=a.host;break;default:f=null}h&&f&&!f.hasAttribute("touch-action")&&f.setAttribute("touch-action",h)}a._pgEvents||(a._pgEvents={}),a._pgEvents[c]=(a._pgEvents[c]||0)+1,a._pgListeners++}return Boolean(d)},a.addEventListener=function(b,c,d,e){d&&(a.activateGesture(b,c),b.addEventListener(c,d,e))},a.deactivateGesture=function(a,b){var c=b.toLowerCase(),d=g.dependencyMap[c];return d&&(a._pgListeners>0&&a._pgListeners--,0===a._pgListeners&&g.unregister(a),a._pgEvents&&(a._pgEvents[c]>0?a._pgEvents[c]--:a._pgEvents[c]=0)),Boolean(d)},a.removeEventListener=function(b,c,d,e){d&&(a.deactivateGesture(b,c),b.removeEventListener(c,d,e))}}(window.PolymerGestures),function(a){var b=a.dispatcher,c=b.pointermap,d=25,e=[0,1,4,2],f=!1;try{f=1===new MouseEvent("test",{buttons:1}).buttons}catch(g){}var h={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup"],exposes:["down","up","move"],register:function(a){b.listen(a,this.events)},unregister:function(a){a!==document&&b.unlisten(a,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(a){for(var b,c=this.lastTouches,e=a.clientX,f=a.clientY,g=0,h=c.length;h>g&&(b=c[g]);g++){var i=Math.abs(e-b.x),j=Math.abs(f-b.y);if(d>=i&&d>=j)return!0}},prepareEvent:function(a){var c=b.cloneEvent(a);return c.pointerId=this.POINTER_ID,c.isPrimary=!0,c.pointerType=this.POINTER_TYPE,c._source="mouse",f||(c.buttons=e[c.which]||0),c},mousedown:function(d){if(!this.isEventSimulatedFromTouch(d)){var e=c.has(this.POINTER_ID);e&&this.mouseup(d);var f=this.prepareEvent(d);f.target=a.findTarget(d),c.set(this.POINTER_ID,f.target),b.down(f)}},mousemove:function(a){if(!this.isEventSimulatedFromTouch(a)){var d=c.get(this.POINTER_ID);if(d){var e=this.prepareEvent(a);e.target=d,0===e.buttons?(b.cancel(e),this.cleanupMouse()):b.move(e)}}},mouseup:function(d){if(!this.isEventSimulatedFromTouch(d)){var e=this.prepareEvent(d);e.relatedTarget=a.findTarget(d),e.target=c.get(this.POINTER_ID),b.up(e),this.cleanupMouse()}},cleanupMouse:function(){c["delete"](this.POINTER_ID)}};a.mouseEvents=h}(window.PolymerGestures),function(a){var b=a.dispatcher,c=(a.targetFinding.allShadows.bind(a.targetFinding),b.pointermap),d=(Array.prototype.map.call.bind(Array.prototype.map),2500),e=200,f=20,g=!1,h={IS_IOS:!1,events:["touchstart","touchmove","touchend","touchcancel"],exposes:["down","up","move"],register:function(a,c){(this.IS_IOS?c:!c)&&b.listen(a,this.events)},unregister:function(a){this.IS_IOS||b.unlisten(a,this.events)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y"},touchActionToScrollType:function(a){var b=a,c=this.scrollTypes;return b===c.EMITTER?"none":b===c.XSCROLLER?"X":b===c.YSCROLLER?"Y":"XY"},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(a){return this.firstTouch===a.identifier},setPrimaryTouch:function(a){(0===c.pointers()||1===c.pointers()&&c.has(1))&&(this.firstTouch=a.identifier,this.firstXY={X:a.clientX,Y:a.clientY},this.scrolling=null,this.cancelResetClickCount())},removePrimaryPointer:function(a){a.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var a=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(a,e)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(a){var b=0;return("touchstart"===a||"touchmove"===a)&&(b=1),b},findTarget:function(b,d){if("touchstart"===this.currentTouchEvent.type){if(this.isPrimaryTouch(b)){var e={clientX:b.clientX,clientY:b.clientY,path:this.currentTouchEvent.path,target:this.currentTouchEvent.target};return a.findTarget(e)}return a.findTarget(b)}return c.get(d)},touchToPointer:function(a){var c=this.currentTouchEvent,d=b.cloneEvent(a),e=d.pointerId=a.identifier+2;d.target=this.findTarget(a,e),d.bubbles=!0,d.cancelable=!0,d.detail=this.clickCount,d.buttons=this.typeToButtons(c.type),d.width=a.webkitRadiusX||a.radiusX||0,d.height=a.webkitRadiusY||a.radiusY||0,d.pressure=a.webkitForce||a.force||.5,d.isPrimary=this.isPrimaryTouch(a),d.pointerType=this.POINTER_TYPE,d._source="touch";var f=this;return d.preventDefault=function(){f.scrolling=!1,f.firstXY=null,c.preventDefault()},d},processTouches:function(a,b){var d=a.changedTouches;this.currentTouchEvent=a;for(var e,f,g=0;g<d.length;g++)e=d[g],f=this.touchToPointer(e),"touchstart"===a.type&&c.set(f.pointerId,f.target),c.has(f.pointerId)&&b.call(this,f),("touchend"===a.type||a._cancel)&&this.cleanUpPointer(f)},shouldScroll:function(b){if(this.firstXY){var c,d=a.targetFinding.findTouchAction(b),e=this.touchActionToScrollType(d);if("none"===e)c=!1;else if("XY"===e)c=!0;else{var f=b.changedTouches[0],g=e,h="Y"===e?"X":"Y",i=Math.abs(f["client"+g]-this.firstXY[g]),j=Math.abs(f["client"+h]-this.firstXY[h]);c=i>=j}return c}},findTouch:function(a,b){for(var c,d=0,e=a.length;e>d&&(c=a[d]);d++)if(c.identifier===b)return!0},vacuumTouches:function(a){var b=a.touches;if(c.pointers()>=b.length){var d=[];c.forEach(function(a,c){if(1!==c&&!this.findTouch(b,c-2)){var e=a;d.push(e)}},this),d.forEach(function(a){this.cancel(a),c.delete(a.pointerId)})}},touchstart:function(a){this.vacuumTouches(a),this.setPrimaryTouch(a.changedTouches[0]),this.dedupSynthMouse(a),this.scrolling||(this.clickCount++,this.processTouches(a,this.down))},down:function(a){b.down(a)},touchmove:function(a){if(g)a.cancelable&&this.processTouches(a,this.move);else if(this.scrolling){if(this.firstXY){var b=a.changedTouches[0],c=b.clientX-this.firstXY.X,d=b.clientY-this.firstXY.Y,e=Math.sqrt(c*c+d*d);e>=f&&(this.touchcancel(a),this.scrolling=!0,this.firstXY=null)}}else null===this.scrolling&&this.shouldScroll(a)?this.scrolling=!0:(this.scrolling=!1,a.preventDefault(),this.processTouches(a,this.move))},move:function(a){b.move(a)},touchend:function(a){this.dedupSynthMouse(a),this.processTouches(a,this.up)},up:function(c){c.relatedTarget=a.findTarget(c),b.up(c)},cancel:function(a){b.cancel(a)},touchcancel:function(a){a._cancel=!0,this.processTouches(a,this.cancel)},cleanUpPointer:function(a){c["delete"](a.pointerId),this.removePrimaryPointer(a)},dedupSynthMouse:function(b){var c=a.mouseEvents.lastTouches,e=b.changedTouches[0];if(this.isPrimaryTouch(e)){var f={x:e.clientX,y:e.clientY};c.push(f);var g=function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}.bind(null,c,f);setTimeout(g,d)}}};a.touchEvents=h}(window.PolymerGestures),function(a){var b=a.dispatcher,c=b.pointermap,d=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,e={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"],register:function(a){b.listen(a,this.events)},unregister:function(a){a!==document&&b.unlisten(a,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(a){var c=a;return c=b.cloneEvent(a),d&&(c.pointerType=this.POINTER_TYPES[a.pointerType]),c._source="ms",c},cleanup:function(a){c["delete"](a)},MSPointerDown:function(d){var e=this.prepareEvent(d);e.target=a.findTarget(d),c.set(d.pointerId,e.target),b.down(e)},MSPointerMove:function(a){var d=c.get(a.pointerId);if(d){var e=this.prepareEvent(a);e.target=d,b.move(e)}},MSPointerUp:function(d){var e=this.prepareEvent(d);e.relatedTarget=a.findTarget(d),e.target=c.get(e.pointerId),b.up(e),this.cleanup(d.pointerId)},MSPointerCancel:function(d){var e=this.prepareEvent(d);e.relatedTarget=a.findTarget(d),e.target=c.get(e.pointerId),b.cancel(e),this.cleanup(d.pointerId)}};a.msEvents=e}(window.PolymerGestures),function(a){var b=a.dispatcher,c=b.pointermap,d={events:["pointerdown","pointermove","pointerup","pointercancel"],prepareEvent:function(a){var c=b.cloneEvent(a);return c._source="pointer",c},register:function(a){b.listen(a,this.events)},unregister:function(a){a!==document&&b.unlisten(a,this.events)},cleanup:function(a){c["delete"](a)},pointerdown:function(d){var e=this.prepareEvent(d);e.target=a.findTarget(d),c.set(e.pointerId,e.target),b.down(e)},pointermove:function(a){var d=c.get(a.pointerId);if(d){var e=this.prepareEvent(a);e.target=d,b.move(e)}},pointerup:function(d){var e=this.prepareEvent(d);e.relatedTarget=a.findTarget(d),e.target=c.get(e.pointerId),b.up(e),this.cleanup(d.pointerId)},pointercancel:function(d){var e=this.prepareEvent(d);e.relatedTarget=a.findTarget(d),e.target=c.get(e.pointerId),b.cancel(e),this.cleanup(d.pointerId)}};a.pointerEvents=d}(window.PolymerGestures),function(a){var b=a.dispatcher,c=window.navigator;window.PointerEvent?b.registerSource("pointer",a.pointerEvents):c.msPointerEnabled?b.registerSource("ms",a.msEvents):(b.registerSource("mouse",a.mouseEvents),void 0!==window.ontouchstart&&b.registerSource("touch",a.touchEvents));var d=navigator.userAgent,e=d.match(/iPad|iPhone|iPod/)&&"ontouchstart"in window;b.IS_IOS=e,a.touchEvents.IS_IOS=e,b.register(document,!0)}(window.PolymerGestures),function(a){var b=a.dispatcher,c=a.eventFactory,d=new a.PointerMap,e={events:["down","move","up"],exposes:["trackstart","track","trackx","tracky","trackend"],defaultActions:{track:"none",trackx:"pan-y",tracky:"pan-x"},WIGGLE_THRESHOLD:4,clampDir:function(a){return a>0?1:-1},calcPositionDelta:function(a,b){var c=0,d=0;return a&&b&&(c=b.pageX-a.pageX,d=b.pageY-a.pageY),{x:c,y:d}},fireTrack:function(a,b,d){var e=d,f=this.calcPositionDelta(e.downEvent,b),g=this.calcPositionDelta(e.lastMoveEvent,b);if(g.x)e.xDirection=this.clampDir(g.x);else if("trackx"===a)return;if(g.y)e.yDirection=this.clampDir(g.y);else if("tracky"===a)return;var h={bubbles:!0,cancelable:!0,trackInfo:e.trackInfo,relatedTarget:b.relatedTarget,pointerType:b.pointerType,pointerId:b.pointerId,_source:"track"};"tracky"!==a&&(h.x=b.x,h.dx=f.x,h.ddx=g.x,h.clientX=b.clientX,h.pageX=b.pageX,h.screenX=b.screenX,h.xDirection=e.xDirection),"trackx"!==a&&(h.dy=f.y,h.ddy=g.y,h.y=b.y,h.clientY=b.clientY,h.pageY=b.pageY,h.screenY=b.screenY,h.yDirection=e.yDirection);var i=c.makeGestureEvent(a,h);e.downTarget.dispatchEvent(i)},down:function(a){if(a.isPrimary&&("mouse"===a.pointerType?1===a.buttons:!0)){var b={downEvent:a,downTarget:a.target,trackInfo:{},lastMoveEvent:null,xDirection:0,yDirection:0,tracking:!1};d.set(a.pointerId,b)}},move:function(a){var b=d.get(a.pointerId);if(b){if(!b.tracking){var c=this.calcPositionDelta(b.downEvent,a),e=c.x*c.x+c.y*c.y;e>this.WIGGLE_THRESHOLD&&(b.tracking=!0,b.lastMoveEvent=b.downEvent,this.fireTrack("trackstart",a,b))}b.tracking&&(this.fireTrack("track",a,b),this.fireTrack("trackx",a,b),this.fireTrack("tracky",a,b)),b.lastMoveEvent=a}},up:function(a){var b=d.get(a.pointerId);b&&(b.tracking&&this.fireTrack("trackend",a,b),d.delete(a.pointerId))}};b.registerGesture("track",e)}(window.PolymerGestures),function(a){var b=a.dispatcher,c=a.eventFactory,d={HOLD_DELAY:200,WIGGLE_THRESHOLD:16,events:["down","move","up"],exposes:["hold","holdpulse","release"],heldPointer:null,holdJob:null,pulse:function(){var a=Date.now()-this.heldPointer.timeStamp,b=this.held?"holdpulse":"hold";this.fireHold(b,a),this.held=!0},cancel:function(){clearInterval(this.holdJob),this.held&&this.fireHold("release"),this.held=!1,this.heldPointer=null,this.target=null,this.holdJob=null},down:function(a){a.isPrimary&&!this.heldPointer&&(this.heldPointer=a,this.target=a.target,this.holdJob=setInterval(this.pulse.bind(this),this.HOLD_DELAY))},up:function(a){this.heldPointer&&this.heldPointer.pointerId===a.pointerId&&this.cancel()},move:function(a){if(this.heldPointer&&this.heldPointer.pointerId===a.pointerId){var b=a.clientX-this.heldPointer.clientX,c=a.clientY-this.heldPointer.clientY;b*b+c*c>this.WIGGLE_THRESHOLD&&this.cancel()}},fireHold:function(a,b){var d={bubbles:!0,cancelable:!0,pointerType:this.heldPointer.pointerType,pointerId:this.heldPointer.pointerId,x:this.heldPointer.clientX,y:this.heldPointer.clientY,_source:"hold"};b&&(d.holdTime=b);var e=c.makeGestureEvent(a,d);this.target.dispatchEvent(e)}};b.registerGesture("hold",d)}(window.PolymerGestures),function(a){var b=a.dispatcher,c=a.eventFactory,d=new a.PointerMap,e={events:["down","up"],exposes:["tap"],down:function(a){a.isPrimary&&!a.tapPrevented&&d.set(a.pointerId,{target:a.target,buttons:a.buttons,x:a.clientX,y:a.clientY})},shouldTap:function(a,b){return"mouse"===a.pointerType?1===b.buttons:!a.tapPrevented},up:function(b){var e=d.get(b.pointerId);if(e&&this.shouldTap(b,e)){var f=a.targetFinding.LCA(e.target,b.relatedTarget);if(f){var g=c.makeGestureEvent("tap",{bubbles:!0,cancelable:!0,x:b.clientX,y:b.clientY,detail:b.detail,pointerType:b.pointerType,pointerId:b.pointerId,altKey:b.altKey,ctrlKey:b.ctrlKey,metaKey:b.metaKey,shiftKey:b.shiftKey,_source:"tap"});f.dispatchEvent(g)}}d.delete(b.pointerId)}};c.preventTap=function(a){return function(){a.tapPrevented=!0,d.delete(a.pointerId)}},b.registerGesture("tap",e)}(window.PolymerGestures),function(a){"use strict";function b(a,b){if(!a)throw new Error("ASSERT: "+b)}function c(a){return a>=48&&57>=a}function d(a){return 32===a||9===a||11===a||12===a||160===a||a>=5760&&"\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\ufeff".indexOf(String.fromCharCode(a))>0}function e(a){return 10===a||13===a||8232===a||8233===a}function f(a){return 36===a||95===a||a>=65&&90>=a||a>=97&&122>=a}function g(a){return 36===a||95===a||a>=65&&90>=a||a>=97&&122>=a||a>=48&&57>=a}function h(a){return"this"===a}function i(){for(;Y>X&&d(W.charCodeAt(X));)++X}function j(){var a,b;for(a=X++;Y>X&&(b=W.charCodeAt(X),g(b));)++X;return W.slice(a,X)}function k(){var a,b,c;return a=X,b=j(),c=1===b.length?S.Identifier:h(b)?S.Keyword:"null"===b?S.NullLiteral:"true"===b||"false"===b?S.BooleanLiteral:S.Identifier,{type:c,value:b,range:[a,X]}}function l(){var a,b,c=X,d=W.charCodeAt(X),e=W[X];switch(d){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:return++X,{type:S.Punctuator,value:String.fromCharCode(d),range:[c,X]};default:if(a=W.charCodeAt(X+1),61===a)switch(d){case 37:case 38:case 42:case 43:case 45:case 47:case 60:case 62:case 124:return X+=2,{type:S.Punctuator,value:String.fromCharCode(d)+String.fromCharCode(a),range:[c,X]};case 33:case 61:return X+=2,61===W.charCodeAt(X)&&++X,{type:S.Punctuator,value:W.slice(c,X),range:[c,X]}}}return b=W[X+1],e===b&&"&|".indexOf(e)>=0?(X+=2,{type:S.Punctuator,value:e+b,range:[c,X]}):"<>=!+-*%&|^/".indexOf(e)>=0?(++X,{type:S.Punctuator,value:e,range:[c,X]}):void s({},V.UnexpectedToken,"ILLEGAL")}function m(){var a,d,e;if(e=W[X],b(c(e.charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point"),d=X,a="","."!==e){for(a=W[X++],e=W[X],"0"===a&&e&&c(e.charCodeAt(0))&&s({},V.UnexpectedToken,"ILLEGAL");c(W.charCodeAt(X));)a+=W[X++];e=W[X]}if("."===e){for(a+=W[X++];c(W.charCodeAt(X));)a+=W[X++];e=W[X]}if("e"===e||"E"===e)if(a+=W[X++],e=W[X],("+"===e||"-"===e)&&(a+=W[X++]),c(W.charCodeAt(X)))for(;c(W.charCodeAt(X));)a+=W[X++];else s({},V.UnexpectedToken,"ILLEGAL");return f(W.charCodeAt(X))&&s({},V.UnexpectedToken,"ILLEGAL"),{type:S.NumericLiteral,value:parseFloat(a),range:[d,X]}}function n(){var a,c,d,f="",g=!1;for(a=W[X],b("'"===a||'"'===a,"String literal must starts with a quote"),c=X,++X;Y>X;){if(d=W[X++],d===a){a="";break}if("\\"===d)if(d=W[X++],d&&e(d.charCodeAt(0)))"\r"===d&&"\n"===W[X]&&++X;else switch(d){case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="	";break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="";break;default:f+=d}else{if(e(d.charCodeAt(0)))break;f+=d}}return""!==a&&s({},V.UnexpectedToken,"ILLEGAL"),{type:S.StringLiteral,value:f,octal:g,range:[c,X]}}function o(a){return a.type===S.Identifier||a.type===S.Keyword||a.type===S.BooleanLiteral||a.type===S.NullLiteral}function p(){var a;return i(),X>=Y?{type:S.EOF,range:[X,X]}:(a=W.charCodeAt(X),40===a||41===a||58===a?l():39===a||34===a?n():f(a)?k():46===a?c(W.charCodeAt(X+1))?m():l():c(a)?m():l())}function q(){var a;return a=$,X=a.range[1],$=p(),X=a.range[1],a}function r(){var a;a=X,$=p(),X=a}function s(a,c){var d,e=Array.prototype.slice.call(arguments,2),f=c.replace(/%(\d)/g,function(a,c){return b(c<e.length,"Message reference must be in range"),e[c]});throw d=new Error(f),d.index=X,d.description=f,d}function t(a){s(a,V.UnexpectedToken,a.value)}function u(a){var b=q();(b.type!==S.Punctuator||b.value!==a)&&t(b)}function v(a){return $.type===S.Punctuator&&$.value===a}function w(a){return $.type===S.Keyword&&$.value===a}function x(){var a=[];for(u("[");!v("]");)v(",")?(q(),a.push(null)):(a.push(bb()),v("]")||u(","));return u("]"),Z.createArrayExpression(a)}function y(){var a;return i(),a=q(),a.type===S.StringLiteral||a.type===S.NumericLiteral?Z.createLiteral(a):Z.createIdentifier(a.value)}function z(){var a,b;return a=$,i(),(a.type===S.EOF||a.type===S.Punctuator)&&t(a),b=y(),u(":"),Z.createProperty("init",b,bb())}function A(){var a=[];for(u("{");!v("}");)a.push(z()),v("}")||u(",");return u("}"),Z.createObjectExpression(a)}function B(){var a;return u("("),a=bb(),u(")"),a}function C(){var a,b,c;return v("(")?B():(a=$.type,a===S.Identifier?c=Z.createIdentifier(q().value):a===S.StringLiteral||a===S.NumericLiteral?c=Z.createLiteral(q()):a===S.Keyword?w("this")&&(q(),c=Z.createThisExpression()):a===S.BooleanLiteral?(b=q(),b.value="true"===b.value,c=Z.createLiteral(b)):a===S.NullLiteral?(b=q(),b.value=null,c=Z.createLiteral(b)):v("[")?c=x():v("{")&&(c=A()),c?c:void t(q()))}function D(){var a=[];if(u("("),!v(")"))for(;Y>X&&(a.push(bb()),!v(")"));)u(",");return u(")"),a}function E(){var a;return a=q(),o(a)||t(a),Z.createIdentifier(a.value)}function F(){return u("."),E()}function G(){var a;return u("["),a=bb(),u("]"),a}function H(){var a,b,c;for(a=C();;)if(v("["))c=G(),a=Z.createMemberExpression("[",a,c);else if(v("."))c=F(),a=Z.createMemberExpression(".",a,c);else{if(!v("("))break;b=D(),a=Z.createCallExpression(a,b)}return a}function I(){var a,b;return $.type!==S.Punctuator&&$.type!==S.Keyword?b=ab():v("+")||v("-")||v("!")?(a=q(),b=I(),b=Z.createUnaryExpression(a.value,b)):w("delete")||w("void")||w("typeof")?s({},V.UnexpectedToken):b=ab(),b}function J(a){var b=0;if(a.type!==S.Punctuator&&a.type!==S.Keyword)return 0;switch(a.value){case"||":b=1;break;case"&&":b=2;break;case"==":case"!=":case"===":case"!==":b=6;break;case"<":case">":case"<=":case">=":case"instanceof":b=7;break;case"in":b=7;break;case"+":case"-":b=9;break;case"*":case"/":case"%":b=11}return b}function K(){var a,b,c,d,e,f,g,h;if(g=I(),b=$,c=J(b),0===c)return g;for(b.prec=c,q(),e=I(),d=[g,b,e];(c=J($))>0;){for(;d.length>2&&c<=d[d.length-2].prec;)e=d.pop(),f=d.pop().value,g=d.pop(),a=Z.createBinaryExpression(f,g,e),d.push(a);b=q(),b.prec=c,d.push(b),a=I(),d.push(a)}for(h=d.length-1,a=d[h];h>1;)a=Z.createBinaryExpression(d[h-1].value,d[h-2],a),h-=2;return a}function L(){var a,b,c;return a=K(),v("?")&&(q(),b=L(),u(":"),c=L(),a=Z.createConditionalExpression(a,b,c)),a}function M(){var a,b;return a=q(),a.type!==S.Identifier&&t(a),b=v("(")?D():[],Z.createFilter(a.value,b)}function N(){for(;v("|");)q(),M()}function O(){i(),r();var a=bb();a&&(","===$.value||"in"==$.value&&a.type===U.Identifier?Q(a):(N(),"as"===$.value?P(a):Z.createTopLevel(a))),$.type!==S.EOF&&t($)}function P(a){q();var b=q().value;Z.createAsExpression(a,b)}function Q(a){var b;","===$.value&&(q(),$.type!==S.Identifier&&t($),b=q().value),q();var c=bb();N(),Z.createInExpression(a.name,b,c)}function R(a,b){return Z=b,W=a,X=0,Y=W.length,$=null,_={labelSet:{}},O()}var S,T,U,V,W,X,Y,Z,$,_;S={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8},T={},T[S.BooleanLiteral]="Boolean",T[S.EOF]="<end>",T[S.Identifier]="Identifier",T[S.Keyword]="Keyword",T[S.NullLiteral]="Null",T[S.NumericLiteral]="Numeric",T[S.Punctuator]="Punctuator",T[S.StringLiteral]="String",U={ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ThisExpression:"ThisExpression",UnaryExpression:"UnaryExpression"},V={UnexpectedToken:"Unexpected token %0",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared"};var ab=H,bb=L;a.esprima={parse:R}}(this),function(a){"use strict";function b(a,b,d,e){var f;try{if(f=c(a),f.scopeIdent&&(d.nodeType!==Node.ELEMENT_NODE||"TEMPLATE"!==d.tagName||"bind"!==b&&"repeat"!==b))throw Error("as and in can only be used within <template bind/repeat>")}catch(g){return void console.error("Invalid expression syntax: "+a,g)}return function(a,b,c){var d=f.getBinding(a,e,c);return f.scopeIdent&&d&&(b.polymerExpressionScopeIdent_=f.scopeIdent,f.indexIdent&&(b.polymerExpressionIndexIdent_=f.indexIdent)),d}}function c(a){var b=q[a];if(!b){var c=new j;esprima.parse(a,c),b=new l(c),q[a]=b}return b}function d(a){this.value=a,this.valueFn_=void 0}function e(a){this.name=a,this.path=Path.get(a)}function f(a,b,c){this.computed="["==c,this.dynamicDeps="function"==typeof a||a.dynamicDeps||this.computed&&!(b instanceof d),this.simplePath=!this.dynamicDeps&&(b instanceof e||b instanceof d)&&(a instanceof f||a instanceof e),this.object=this.simplePath?a:i(a),this.property=!this.computed||this.simplePath?b:i(b)}function g(a,b){this.name=a,this.args=[];for(var c=0;c<b.length;c++)this.args[c]=i(b[c])}function h(){throw Error("Not Implemented")}function i(a){return"function"==typeof a?a:a.valueFn()}function j(){this.expression=null,this.filters=[],this.deps={},this.currentPath=void 0,this.scopeIdent=void 0,this.indexIdent=void 0,this.dynamicDeps=!1}function k(a){this.value_=a}function l(a){if(this.scopeIdent=a.scopeIdent,this.indexIdent=a.indexIdent,!a.expression)throw Error("No expression found.");this.expression=a.expression,i(this.expression),this.filters=a.filters,this.dynamicDeps=a.dynamicDeps}function m(a){return String(a).replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}function n(a,b){for(;a[t]&&!Object.prototype.hasOwnProperty.call(a,b);)a=a[t];return a}function o(a){switch(a){case"":return!1;case"false":case"null":case"true":return!0}return isNaN(Number(a))?!1:!0}function p(){}var q=Object.create(null);d.prototype={valueFn:function(){if(!this.valueFn_){var a=this.value;this.valueFn_=function(){return a}}return this.valueFn_}},e.prototype={valueFn:function(){if(!this.valueFn_){var a=(this.name,this.path);this.valueFn_=function(b,c){return c&&c.addPath(b,a),a.getValueFrom(b)}}return this.valueFn_},setValue:function(a,b){return 1==this.path.length,a=n(a,this.path[0]),this.path.setValueFrom(a,b)}},f.prototype={get fullPath(){if(!this.fullPath_){var a=this.object instanceof f?this.object.fullPath.slice():[this.object.name];
a.push(this.property instanceof e?this.property.name:this.property.value),this.fullPath_=Path.get(a)}return this.fullPath_},valueFn:function(){if(!this.valueFn_){var a=this.object;if(this.simplePath){var b=this.fullPath;this.valueFn_=function(a,c){return c&&c.addPath(a,b),b.getValueFrom(a)}}else if(this.computed){var c=this.property;this.valueFn_=function(b,d,e){var f=a(b,d,e),g=c(b,d,e);return d&&d.addPath(f,[g]),f?f[g]:void 0}}else{var b=Path.get(this.property.name);this.valueFn_=function(c,d,e){var f=a(c,d,e);return d&&d.addPath(f,b),b.getValueFrom(f)}}}return this.valueFn_},setValue:function(a,b){if(this.simplePath)return this.fullPath.setValueFrom(a,b),b;var c=this.object(a),d=this.property instanceof e?this.property.name:this.property(a);return c[d]=b}},g.prototype={transform:function(a,b,c,d,e){var f=c[this.name],g=a;if(f)g=void 0;else if(f=g[this.name],!f)return void console.error("Cannot find function or filter: "+this.name);if(d?f=f.toModel:"function"==typeof f.toDOM&&(f=f.toDOM),"function"!=typeof f)return void console.error("Cannot find function or filter: "+this.name);for(var h=e||[],j=0;j<this.args.length;j++)h.push(i(this.args[j])(a,b,c));return f.apply(g,h)}};var r={"+":function(a){return+a},"-":function(a){return-a},"!":function(a){return!a}},s={"+":function(a,b){return a+b},"-":function(a,b){return a-b},"*":function(a,b){return a*b},"/":function(a,b){return a/b},"%":function(a,b){return a%b},"<":function(a,b){return b>a},">":function(a,b){return a>b},"<=":function(a,b){return b>=a},">=":function(a,b){return a>=b},"==":function(a,b){return a==b},"!=":function(a,b){return a!=b},"===":function(a,b){return a===b},"!==":function(a,b){return a!==b},"&&":function(a,b){return a&&b},"||":function(a,b){return a||b}};j.prototype={createUnaryExpression:function(a,b){if(!r[a])throw Error("Disallowed operator: "+a);return b=i(b),function(c,d,e){return r[a](b(c,d,e))}},createBinaryExpression:function(a,b,c){if(!s[a])throw Error("Disallowed operator: "+a);switch(b=i(b),c=i(c),a){case"||":return this.dynamicDeps=!0,function(a,d,e){return b(a,d,e)||c(a,d,e)};case"&&":return this.dynamicDeps=!0,function(a,d,e){return b(a,d,e)&&c(a,d,e)}}return function(d,e,f){return s[a](b(d,e,f),c(d,e,f))}},createConditionalExpression:function(a,b,c){return a=i(a),b=i(b),c=i(c),this.dynamicDeps=!0,function(d,e,f){return a(d,e,f)?b(d,e,f):c(d,e,f)}},createIdentifier:function(a){var b=new e(a);return b.type="Identifier",b},createMemberExpression:function(a,b,c){var d=new f(b,c,a);return d.dynamicDeps&&(this.dynamicDeps=!0),d},createCallExpression:function(a,b){if(!(a instanceof e))throw Error("Only identifier function invocations are allowed");var c=new g(a.name,b);return function(a,b,d){return c.transform(a,b,d,!1)}},createLiteral:function(a){return new d(a.value)},createArrayExpression:function(a){for(var b=0;b<a.length;b++)a[b]=i(a[b]);return function(b,c,d){for(var e=[],f=0;f<a.length;f++)e.push(a[f](b,c,d));return e}},createProperty:function(a,b,c){return{key:b instanceof e?b.name:b.value,value:c}},createObjectExpression:function(a){for(var b=0;b<a.length;b++)a[b].value=i(a[b].value);return function(b,c,d){for(var e={},f=0;f<a.length;f++)e[a[f].key]=a[f].value(b,c,d);return e}},createFilter:function(a,b){this.filters.push(new g(a,b))},createAsExpression:function(a,b){this.expression=a,this.scopeIdent=b},createInExpression:function(a,b,c){this.expression=c,this.scopeIdent=a,this.indexIdent=b},createTopLevel:function(a){this.expression=a},createThisExpression:h},k.prototype={open:function(){return this.value_},discardChanges:function(){return this.value_},deliver:function(){},close:function(){}},l.prototype={getBinding:function(a,b,c){function d(){if(h)return h=!1,g;i.dynamicDeps&&f.startReset();var c=i.getValue(a,i.dynamicDeps?f:void 0,b);return i.dynamicDeps&&f.finishReset(),c}function e(c){return i.setValue(a,c,b),c}if(c)return this.getValue(a,void 0,b);var f=new CompoundObserver,g=this.getValue(a,f,b),h=!0,i=this;return new ObserverTransform(f,d,e,!0)},getValue:function(a,b,c){for(var d=i(this.expression)(a,b,c),e=0;e<this.filters.length;e++)d=this.filters[e].transform(a,b,c,!1,[d]);return d},setValue:function(a,b,c){for(var d=this.filters?this.filters.length:0;d-->0;)b=this.filters[d].transform(a,void 0,c,!0,[b]);return this.expression.setValue?this.expression.setValue(a,b):void 0}};var t="@"+Math.random().toString(36).slice(2);p.prototype={styleObject:function(a){var b=[];for(var c in a)b.push(m(c)+": "+a[c]);return b.join("; ")},tokenList:function(a){var b=[];for(var c in a)a[c]&&b.push(c);return b.join(" ")},prepareInstancePositionChanged:function(a){var b=a.polymerExpressionIndexIdent_;if(b)return function(a,c){a.model[b]=c}},prepareBinding:function(a,c,d){var e=Path.get(a);{if(o(a)||!e.valid)return b(a,c,d,this);if(1==e.length)return function(a,b,c){if(c)return e.getValueFrom(a);var d=n(a,e[0]);return new PathObserver(d,e)}}},prepareInstanceModel:function(a){var b=a.polymerExpressionScopeIdent_;if(b){var c=a.templateInstance?a.templateInstance.model:a.model,d=a.polymerExpressionIndexIdent_;return function(a){return u(c,a,b,d)}}}};var u="__proto__"in{}?function(a,b,c,d){var e={};return e[c]=b,e[d]=void 0,e[t]=a,e.__proto__=a,e}:function(a,b,c,d){var e=Object.create(a);return Object.defineProperty(e,c,{value:b,configurable:!0,writable:!0}),Object.defineProperty(e,d,{value:void 0,configurable:!0,writable:!0}),Object.defineProperty(e,t,{value:a,configurable:!0,writable:!0}),e};a.PolymerExpressions=p,p.getExpression=c}(this),Polymer={version:"0.4.0-d62a0e4"},"function"==typeof window.Polymer&&(Polymer={}),window.Platform||(logFlags=window.logFlags||{},Platform={flush:function(){}},CustomElements={useNative:!0,ready:!0,takeRecords:function(){},"instanceof":function(a,b){return a instanceof b}},HTMLImports={useNative:!0},addEventListener("HTMLImportsLoaded",function(){document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}),ShadowDOMPolyfill=null,wrap=unwrap=function(a){return a}),function(a){function b(a,b){b=b||o,d(function(){f(a,b)},b)}function c(a){return"complete"===a.readyState||a.readyState===q}function d(a,b){if(c(b))a&&a();else{var e=function(){("complete"===b.readyState||b.readyState===q)&&(b.removeEventListener(r,e),d(a,b))};b.addEventListener(r,e)}}function e(a){a.target.__loaded=!0}function f(a,b){function c(){h==i&&a&&a()}function d(a){e(a),h++,c()}var f=b.querySelectorAll("link[rel=import]"),h=0,i=f.length;if(i)for(var j,k=0;i>k&&(j=f[k]);k++)g(j)?d.call(j,{target:j}):(j.addEventListener("load",d),j.addEventListener("error",d));else c()}function g(a){return l?a.__loaded||a.import&&"loading"!==a.import.readyState:a.__importParsed}function h(a){for(var b,c=0,d=a.length;d>c&&(b=a[c]);c++)i(b)&&j(b)}function i(a){return"link"===a.localName&&"import"===a.rel}function j(a){var b=a.import;b?e({target:a}):(a.addEventListener("load",e),a.addEventListener("error",e))}var k="import"in document.createElement("link"),l=k;isIE=/Trident/.test(navigator.userAgent);var m=Boolean(window.ShadowDOMPolyfill),n=function(a){return m?ShadowDOMPolyfill.wrapIfNeeded(a):a},o=n(document),p={get:function(){var a=HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return n(a)},configurable:!0};Object.defineProperty(document,"_currentScript",p),Object.defineProperty(o,"_currentScript",p);var q=isIE?"complete":"interactive",r="readystatechange";l&&(new MutationObserver(function(a){for(var b,c=0,d=a.length;d>c&&(b=a[c]);c++)b.addedNodes&&h(b.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var a,b=document.querySelectorAll("link[rel=import]"),c=0,d=b.length;d>c&&(a=b[c]);c++)j(a)}()),b(function(){HTMLImports.ready=!0,HTMLImports.readyTime=(new Date).getTime(),o.dispatchEvent(new CustomEvent("HTMLImportsLoaded",{bubbles:!0}))}),a.useNative=l,a.isImportLoaded=g,a.whenReady=b,a.isIE=isIE,a.whenImportsReady=b}(window.HTMLImports),function(a){function b(a,b){return b=b||[],b.map||(b=[b]),a.apply(this,b.map(d))}function c(a,c,d){var e;switch(arguments.length){case 0:return;case 1:e=null;break;case 2:e=c.apply(this);break;default:e=b(d,c)}f[a]=e}function d(a){return f[a]}function e(a,c){HTMLImports.whenImportsReady(function(){b(c,a)})}var f={};a.marshal=d,a.modularize=c,a.using=e}(window),function(){var a=document.createElement("style");a.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; } \n";var b=document.querySelector("head");b.insertBefore(a,b.firstChild)}(Platform),function(a){"use strict";function b(){function a(a){b=a}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var b=[],c={},d=[];return Object.observe(c,a),Array.observe(d,a),c.id=1,c.id=2,delete c.id,d.push(1,2),d.length=0,Object.deliverChangeRecords(a),5!==b.length?!1:"add"!=b[0].type||"update"!=b[1].type||"delete"!=b[2].type||"splice"!=b[3].type||"splice"!=b[4].type?!1:(Object.unobserve(c,a),Array.unobserve(d,a),!0)}function c(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{var a=new Function("","return true;");return a()}catch(b){return!1}}function d(a){return+a===a>>>0&&""!==a}function e(a){return+a}function f(a){return a===Object(a)}function g(a,b){return a===b?0!==a||1/a===1/b:R(a)&&R(b)?!0:a!==a&&b!==b}function h(a){if(void 0===a)return"eof";var b=a.charCodeAt(0);switch(b){case 91:case 93:case 46:case 34:case 39:case 48:return a;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return b>=97&&122>=b||b>=65&&90>=b?"ident":b>=49&&57>=b?"number":"else"}function i(){}function j(a){function b(){if(!(m>=a.length)){var b=a[m+1];return"inSingleQuote"==n&&"'"==b||"inDoubleQuote"==n&&'"'==b?(m++,d=b,o.append(),!0):void 0}}for(var c,d,e,f,g,j,k,l=[],m=-1,n="beforePath",o={push:function(){void 0!==e&&(l.push(e),e=void 0)},append:function(){void 0===e?e=d:e+=d}};n;)if(m++,c=a[m],"\\"!=c||!b(n)){if(f=h(c),k=W[n],g=k[f]||k["else"]||"error","error"==g)return;if(n=g[0],j=o[g[1]]||i,d=void 0===g[2]?c:g[2],j(),"afterPath"===n)return l}}function k(a){return V.test(a)}function l(a,b){if(b!==X)throw Error("Use Path.get to retrieve path objects");for(var c=0;c<a.length;c++)this.push(String(a[c]));Q&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function m(a){if(a instanceof l)return a;if((null==a||0==a.length)&&(a=""),"string"!=typeof a){if(d(a.length))return new l(a,X);a=String(a)}var b=Y[a];if(b)return b;var c=j(a);if(!c)return Z;var b=new l(c,X);return Y[a]=b,b}function n(a){return d(a)?"["+a+"]":'["'+a.replace(/"/g,'\\"')+'"]'}function o(b){for(var c=0;_>c&&b.check_();)c++;return O&&(a.dirtyCheckCycleCount=c),c>0}function p(a){for(var b in a)return!1;return!0}function q(a){return p(a.added)&&p(a.removed)&&p(a.changed)}function r(a,b){var c={},d={},e={};for(var f in b){var g=a[f];(void 0===g||g!==b[f])&&(f in a?g!==b[f]&&(e[f]=g):d[f]=void 0)}for(var f in a)f in b||(c[f]=a[f]);return Array.isArray(a)&&a.length!==b.length&&(e.length=a.length),{added:c,removed:d,changed:e}}function s(){if(!ab.length)return!1;for(var a=0;a<ab.length;a++)ab[a]();return ab.length=0,!0}function t(){function a(a){b&&b.state_===fb&&!d&&b.check_(a)}var b,c,d=!1,e=!0;return{open:function(c){if(b)throw Error("ObservedObject in use");e||Object.deliverChangeRecords(a),b=c,e=!1},observe:function(b,d){c=b,d?Array.observe(c,a):Object.observe(c,a)},deliver:function(b){d=b,Object.deliverChangeRecords(a),d=!1},close:function(){b=void 0,Object.unobserve(c,a),cb.push(this)}}}function u(a,b,c){var d=cb.pop()||t();return d.open(a),d.observe(b,c),d}function v(){function a(b,f){b&&(b===d&&(e[f]=!0),h.indexOf(b)<0&&(h.push(b),Object.observe(b,c)),a(Object.getPrototypeOf(b),f))}function b(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.object!==d||e[c.name]||"setPrototype"===c.type)return!1}return!0}function c(c){if(!b(c)){for(var d,e=0;e<g.length;e++)d=g[e],d.state_==fb&&d.iterateObjects_(a);for(var e=0;e<g.length;e++)d=g[e],d.state_==fb&&d.check_()}}var d,e,f=0,g=[],h=[],i={object:void 0,objects:h,open:function(b,c){d||(d=c,e={}),g.push(b),f++,b.iterateObjects_(a)},close:function(){if(f--,!(f>0)){for(var a=0;a<h.length;a++)Object.unobserve(h[a],c),x.unobservedCount++;g.length=0,h.length=0,d=void 0,e=void 0,db.push(this)}}};return i}function w(a,b){return $&&$.object===b||($=db.pop()||v(),$.object=b),$.open(a,b),$}function x(){this.state_=eb,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=ib++}function y(a){x._allObserversCount++,kb&&jb.push(a)}function z(){x._allObserversCount--}function A(a){x.call(this),this.value_=a,this.oldObject_=void 0}function B(a){if(!Array.isArray(a))throw Error("Provided object is not an Array");A.call(this,a)}function C(a,b){x.call(this),this.object_=a,this.path_=m(b),this.directObserver_=void 0}function D(a){x.call(this),this.reportChangesOnOpen_=a,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function E(a){return a}function F(a,b,c,d){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=a,this.getValueFn_=b||E,this.setValueFn_=c||E,this.dontPassThroughSet_=d}function G(a,b,c){for(var d={},e={},f=0;f<b.length;f++){var g=b[f];nb[g.type]?(g.name in c||(c[g.name]=g.oldValue),"update"!=g.type&&("add"!=g.type?g.name in d?(delete d[g.name],delete c[g.name]):e[g.name]=!0:g.name in e?delete e[g.name]:d[g.name]=!0)):(console.error("Unknown changeRecord type: "+g.type),console.error(g))}for(var h in d)d[h]=a[h];for(var h in e)e[h]=void 0;var i={};for(var h in c)if(!(h in d||h in e)){var j=a[h];c[h]!==j&&(i[h]=j)}return{added:d,removed:e,changed:i}}function H(a,b,c){return{index:a,removed:b,addedCount:c}}function I(){}function J(a,b,c,d,e,f){return sb.calcSplices(a,b,c,d,e,f)}function K(a,b,c,d){return c>b||a>d?-1:b==c||d==a?0:c>a?d>b?b-c:d-c:b>d?d-a:b-a}function L(a,b,c,d){for(var e=H(b,c,d),f=!1,g=0,h=0;h<a.length;h++){var i=a[h];if(i.index+=g,!f){var j=K(e.index,e.index+e.removed.length,i.index,i.index+i.addedCount);if(j>=0){a.splice(h,1),h--,g-=i.addedCount-i.removed.length,e.addedCount+=i.addedCount-j;var k=e.removed.length+i.removed.length-j;if(e.addedCount||k){var c=i.removed;if(e.index<i.index){var l=e.removed.slice(0,i.index-e.index);Array.prototype.push.apply(l,c),c=l}if(e.index+e.removed.length>i.index+i.addedCount){var m=e.removed.slice(i.index+i.addedCount-e.index);Array.prototype.push.apply(c,m)}e.removed=c,i.index<e.index&&(e.index=i.index)}else f=!0}else if(e.index<i.index){f=!0,a.splice(h,0,e),h++;var n=e.addedCount-e.removed.length;i.index+=n,g+=n}}}f||a.push(e)}function M(a,b){for(var c=[],f=0;f<b.length;f++){var g=b[f];switch(g.type){case"splice":L(c,g.index,g.removed.slice(),g.addedCount);break;case"add":case"update":case"delete":if(!d(g.name))continue;var h=e(g.name);if(0>h)continue;L(c,h,[g.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(g))}}return c}function N(a,b){var c=[];return M(a,b).forEach(function(b){return 1==b.addedCount&&1==b.removed.length?void(b.removed[0]!==a[b.index]&&c.push(b)):void(c=c.concat(J(a,b.index,b.index+b.addedCount,b.removed,0,b.removed.length)))}),c}var O=a.testingExposeCycleCount,P=b(),Q=c(),R=a.Number.isNaN||function(b){return"number"==typeof b&&a.isNaN(b)},S="__proto__"in{}?function(a){return a}:function(a){var b=a.__proto__;if(!b)return a;var c=Object.create(b);return Object.getOwnPropertyNames(a).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(a,b))}),c},T="[$_a-zA-Z]",U="[$_a-zA-Z0-9]",V=new RegExp("^"+T+"+"+U+"*$"),W={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],"else":["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],"else":["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},X={},Y={};l.get=m,l.prototype=S({__proto__:[],valid:!0,toString:function(){for(var a="",b=0;b<this.length;b++){var c=this[b];a+=k(c)?b?"."+c:c:n(c)}return a},getValueFrom:function(a){for(var b=0;b<this.length;b++){if(null==a)return;a=a[this[b]]}return a},iterateObjects:function(a,b){for(var c=0;c<this.length;c++){if(c&&(a=a[this[c-1]]),!f(a))return;b(a,this[0])}},compiledGetValueFromFn:function(){var a="",b="obj";a+="if (obj != null";for(var c,d=0;d<this.length-1;d++)c=this[d],b+=k(c)?"."+c:n(c),a+=" &&\n     "+b+" != null";a+=")\n";var c=this[d];return b+=k(c)?"."+c:n(c),a+="  return "+b+";\nelse\n  return undefined;",new Function("obj",a)},setValueFrom:function(a,b){if(!this.length)return!1;for(var c=0;c<this.length-1;c++){if(!f(a))return!1;a=a[this[c]]}return f(a)?(a[this[c]]=b,!0):!1}});var Z=new l("",X);Z.valid=!1,Z.getValueFrom=Z.setValueFrom=function(){};var $,_=1e3,ab=[],bb=P?function(){var a={pingPong:!0},b=!1;return Object.observe(a,function(){s(),b=!1}),function(c){ab.push(c),b||(b=!0,a.pingPong=!a.pingPong)}}():function(){return function(a){ab.push(a)}}(),cb=[],db=[],eb=0,fb=1,gb=2,hb=3,ib=1;x.prototype={open:function(a,b){if(this.state_!=eb)throw Error("Observer has already been opened.");return y(this),this.callback_=a,this.target_=b,this.connect_(),this.state_=fb,this.value_},close:function(){this.state_==fb&&(z(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=gb)},deliver:function(){this.state_==fb&&o(this)},report_:function(a){try{this.callback_.apply(this.target_,a)}catch(b){x._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(b.stack||b))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var jb,kb=!P;x._allObserversCount=0,kb&&(jb=[]);var lb=!1;a.Platform=a.Platform||{},a.Platform.performMicrotaskCheckpoint=function(){if(!lb&&kb){lb=!0;var b,c,d=0;do{d++,c=jb,jb=[],b=!1;for(var e=0;e<c.length;e++){var f=c[e];f.state_==fb&&(f.check_()&&(b=!0),jb.push(f))}s()&&(b=!0)}while(_>d&&b);O&&(a.dirtyCheckCycleCount=d),lb=!1}},kb&&(a.Platform.clearObservers=function(){jb=[]}),A.prototype=S({__proto__:x.prototype,arrayObserve:!1,connect_:function(){P?this.directObserver_=u(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(a){var b=Array.isArray(a)?[]:{};for(var c in a)b[c]=a[c];return Array.isArray(a)&&(b.length=a.length),b},check_:function(a){var b,c;if(P){if(!a)return!1;c={},b=G(this.value_,a,c)}else c=this.oldObject_,b=r(this.value_,this.oldObject_);return q(b)?!1:(P||(this.oldObject_=this.copyObject(this.value_)),this.report_([b.added||{},b.removed||{},b.changed||{},function(a){return c[a]}]),!0)},disconnect_:function(){P?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==fb&&(P?this.directObserver_.deliver(!1):o(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),B.prototype=S({__proto__:A.prototype,arrayObserve:!0,copyObject:function(a){return a.slice()},check_:function(a){var b;if(P){if(!a)return!1;b=N(this.value_,a)}else b=J(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return b&&b.length?(P||(this.oldObject_=this.copyObject(this.value_)),this.report_([b]),!0):!1}}),B.applySplices=function(a,b,c){c.forEach(function(c){for(var d=[c.index,c.removed.length],e=c.index;e<c.index+c.addedCount;)d.push(b[e]),e++;Array.prototype.splice.apply(a,d)})},C.prototype=S({__proto__:x.prototype,get path(){return this.path_},connect_:function(){P&&(this.directObserver_=w(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(a){this.path_.iterateObjects(this.object_,a)},check_:function(a,b){var c=this.value_;return this.value_=this.path_.getValueFrom(this.object_),b||g(this.value_,c)?!1:(this.report_([this.value_,c,this]),!0)},setValue:function(a){this.path_&&this.path_.setValueFrom(this.object_,a)}});var mb={};D.prototype=S({__proto__:x.prototype,connect_:function(){if(P){for(var a,b=!1,c=0;c<this.observed_.length;c+=2)if(a=this.observed_[c],a!==mb){b=!0;break}b&&(this.directObserver_=w(this,a))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var a=0;a<this.observed_.length;a+=2)this.observed_[a]===mb&&this.observed_[a+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(a,b){if(this.state_!=eb&&this.state_!=hb)throw Error("Cannot add paths once started.");var b=m(b);if(this.observed_.push(a,b),this.reportChangesOnOpen_){var c=this.observed_.length/2-1;this.value_[c]=b.getValueFrom(a)}},addObserver:function(a){if(this.state_!=eb&&this.state_!=hb)throw Error("Cannot add observers once started.");if(this.observed_.push(mb,a),this.reportChangesOnOpen_){var b=this.observed_.length/2-1;this.value_[b]=a.open(this.deliver,this)}},startReset:function(){if(this.state_!=fb)throw Error("Can only reset while open");this.state_=hb,this.disconnect_()},finishReset:function(){if(this.state_!=hb)throw Error("Can only finishReset after startReset");return this.state_=fb,this.connect_(),this.value_},iterateObjects_:function(a){for(var b,c=0;c<this.observed_.length;c+=2)b=this.observed_[c],b!==mb&&this.observed_[c+1].iterateObjects(b,a)},check_:function(a,b){for(var c,d=0;d<this.observed_.length;d+=2){var e,f=this.observed_[d],h=this.observed_[d+1];if(f===mb){var i=h;e=this.state_===eb?i.open(this.deliver,this):i.discardChanges()}else e=h.getValueFrom(f);b?this.value_[d/2]=e:g(e,this.value_[d/2])||(c=c||[],c[d/2]=this.value_[d/2],this.value_[d/2]=e)}return c?(this.report_([this.value_,c,this.observed_]),!0):!1}}),F.prototype={open:function(a,b){return this.callback_=a,this.target_=b,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(a){if(a=this.getValueFn_(a),!g(a,this.value_)){var b=this.value_;this.value_=a,this.callback_.call(this.target_,this.value_,b)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(a){return a=this.setValueFn_(a),!this.dontPassThroughSet_&&this.observable_.setValue?this.observable_.setValue(a):void 0},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var nb={add:!0,update:!0,"delete":!0},ob=0,pb=1,qb=2,rb=3;I.prototype={calcEditDistances:function(a,b,c,d,e,f){for(var g=f-e+1,h=c-b+1,i=new Array(g),j=0;g>j;j++)i[j]=new Array(h),i[j][0]=j;for(var k=0;h>k;k++)i[0][k]=k;for(var j=1;g>j;j++)for(var k=1;h>k;k++)if(this.equals(a[b+k-1],d[e+j-1]))i[j][k]=i[j-1][k-1];else{var l=i[j-1][k]+1,m=i[j][k-1]+1;i[j][k]=m>l?l:m}return i},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,c=a[0].length-1,d=a[b][c],e=[];b>0||c>0;)if(0!=b)if(0!=c){var f,g=a[b-1][c-1],h=a[b-1][c],i=a[b][c-1];f=i>h?g>h?h:g:g>i?i:g,f==g?(g==d?e.push(ob):(e.push(pb),d=g),b--,c--):f==h?(e.push(rb),b--,d=h):(e.push(qb),c--,d=i)}else e.push(rb),b--;else e.push(qb),c--;return e.reverse(),e},calcSplices:function(a,b,c,d,e,f){var g=0,h=0,i=Math.min(c-b,f-e);if(0==b&&0==e&&(g=this.sharedPrefix(a,d,i)),c==a.length&&f==d.length&&(h=this.sharedSuffix(a,d,i-g)),b+=g,e+=g,c-=h,f-=h,c-b==0&&f-e==0)return[];if(b==c){for(var j=H(b,[],0);f>e;)j.removed.push(d[e++]);return[j]}if(e==f)return[H(b,[],c-b)];for(var k=this.spliceOperationsFromEditDistances(this.calcEditDistances(a,b,c,d,e,f)),j=void 0,l=[],m=b,n=e,o=0;o<k.length;o++)switch(k[o]){case ob:j&&(l.push(j),j=void 0),m++,n++;break;case pb:j||(j=H(m,[],0)),j.addedCount++,m++,j.removed.push(d[n]),n++;break;case qb:j||(j=H(m,[],0)),j.addedCount++,m++;break;case rb:j||(j=H(m,[],0)),j.removed.push(d[n]),n++}return j&&l.push(j),l},sharedPrefix:function(a,b,c){for(var d=0;c>d;d++)if(!this.equals(a[d],b[d]))return d;return c},sharedSuffix:function(a,b,c){for(var d=a.length,e=b.length,f=0;c>f&&this.equals(a[--d],b[--e]);)f++;return f},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};var sb=new I;a.Observer=x,a.Observer.runEOM_=bb,a.Observer.observerSentinel_=mb,a.Observer.hasObjectObserve=P,a.ArrayObserver=B,a.ArrayObserver.calculateSplices=function(a,b){return sb.calculateSplices(a,b)},a.ArraySplice=I,a.ObjectObserver=A,a.PathObserver=C,a.CompoundObserver=D,a.Path=l,a.ObserverTransform=F}("undefined"!=typeof global&&global&&"undefined"!=typeof module&&module?global:this||window),function(){"use strict";function a(a){for(;a.parentNode;)a=a.parentNode;return"function"==typeof a.getElementById?a:null}function b(a,b,c){var d=a.bindings_;return d||(d=a.bindings_={}),d[b]&&c[b].close(),d[b]=c}function c(a,b,c){return c}function d(a){return null==a?"":a}function e(a,b){a.data=d(b)}function f(a){return function(b){return e(a,b)}}function g(a,b,c,e){return c?void(e?a.setAttribute(b,""):a.removeAttribute(b)):void a.setAttribute(b,d(e))}function h(a,b,c){return function(d){g(a,b,c,d)}}function i(a){switch(a.type){case"checkbox":return u;case"radio":case"select-multiple":case"select-one":return"change";case"range":if(/Trident|MSIE/.test(navigator.userAgent))return"change";default:return"input"}}function j(a,b,c,e){a[b]=(e||d)(c)}function k(a,b,c){return function(d){return j(a,b,d,c)}}function l(){}function m(a,b,c,d){function e(){c.setValue(a[b]),c.discardChanges(),(d||l)(a),Platform.performMicrotaskCheckpoint()}var f=i(a);return a.addEventListener(f,e),{close:function(){a.removeEventListener(f,e),c.close()},observable_:c}}function n(a){return Boolean(a)}function o(b){if(b.form)return s(b.form.elements,function(a){return a!=b&&"INPUT"==a.tagName&&"radio"==a.type&&a.name==b.name});var c=a(b);if(!c)return[];var d=c.querySelectorAll('input[type="radio"][name="'+b.name+'"]');return s(d,function(a){return a!=b&&!a.form})}function p(a){"INPUT"===a.tagName&&"radio"===a.type&&o(a).forEach(function(a){var b=a.bindings_.checked;b&&b.observable_.setValue(!1)})}function q(a,b){var c,e,f,g=a.parentNode;g instanceof HTMLSelectElement&&g.bindings_&&g.bindings_.value&&(c=g,e=c.bindings_.value,f=c.value),a.value=d(b),c&&c.value!=f&&(e.observable_.setValue(c.value),e.observable_.discardChanges(),Platform.performMicrotaskCheckpoint())}function r(a){return function(b){q(a,b)}}var s=Array.prototype.filter.call.bind(Array.prototype.filter);Node.prototype.bind=function(a,b){console.error("Unhandled binding to Node: ",this,a,b)},Node.prototype.bindFinished=function(){};var t=c;Object.defineProperty(Platform,"enableBindingsReflection",{get:function(){return t===b},set:function(a){return t=a?b:c,a},configurable:!0}),Text.prototype.bind=function(a,b,c){if("textContent"!==a)return Node.prototype.bind.call(this,a,b,c);if(c)return e(this,b);var d=b;return e(this,d.open(f(this))),t(this,a,d)},Element.prototype.bind=function(a,b,c){var d="?"==a[a.length-1];if(d&&(this.removeAttribute(a),a=a.slice(0,-1)),c)return g(this,a,d,b);var e=b;return g(this,a,d,e.open(h(this,a,d))),t(this,a,e)};var u;!function(){var a=document.createElement("div"),b=a.appendChild(document.createElement("input"));b.setAttribute("type","checkbox");var c,d=0;b.addEventListener("click",function(){d++,c=c||"click"}),b.addEventListener("change",function(){d++,c=c||"change"});var e=document.createEvent("MouseEvent");e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(e),u=1==d?"change":c}(),HTMLInputElement.prototype.bind=function(a,c,e){if("value"!==a&&"checked"!==a)return HTMLElement.prototype.bind.call(this,a,c,e);this.removeAttribute(a);var f="checked"==a?n:d,g="checked"==a?p:l;if(e)return j(this,a,c,f);var h=c,i=m(this,a,h,g);return j(this,a,h.open(k(this,a,f)),f),b(this,a,i)},HTMLTextAreaElement.prototype.bind=function(a,b,c){if("value"!==a)return HTMLElement.prototype.bind.call(this,a,b,c);if(this.removeAttribute("value"),c)return j(this,"value",b);var e=b,f=m(this,"value",e);return j(this,"value",e.open(k(this,"value",d))),t(this,a,f)},HTMLOptionElement.prototype.bind=function(a,b,c){if("value"!==a)return HTMLElement.prototype.bind.call(this,a,b,c);if(this.removeAttribute("value"),c)return q(this,b);var d=b,e=m(this,"value",d);return q(this,d.open(r(this))),t(this,a,e)},HTMLSelectElement.prototype.bind=function(a,c,d){if("selectedindex"===a&&(a="selectedIndex"),"selectedIndex"!==a&&"value"!==a)return HTMLElement.prototype.bind.call(this,a,c,d);if(this.removeAttribute(a),d)return j(this,a,c);var e=c,f=m(this,a,e);return j(this,a,e.open(k(this,a))),b(this,a,f)}}(this),function(a){"use strict";function b(a){if(!a)throw new Error("Assertion failed")}function c(a){for(var b;b=a.parentNode;)a=b;return a}function d(a,b){if(b){for(var d,e="#"+b;!d&&(a=c(a),a.protoContent_?d=a.protoContent_.querySelector(e):a.getElementById&&(d=a.getElementById(b)),!d&&a.templateCreator_);)a=a.templateCreator_;return d}}function e(a){return"template"==a.tagName&&"http://www.w3.org/2000/svg"==a.namespaceURI}function f(a){return"TEMPLATE"==a.tagName&&"http://www.w3.org/1999/xhtml"==a.namespaceURI}function g(a){return Boolean(L[a.tagName]&&a.hasAttribute("template"))}function h(a){return void 0===a.isTemplate_&&(a.isTemplate_="TEMPLATE"==a.tagName||g(a)),a.isTemplate_}function i(a,b){var c=a.querySelectorAll(N);h(a)&&b(a),G(c,b)}function j(a){function b(a){HTMLTemplateElement.decorate(a)||j(a.content)}i(a,b)}function k(a,b){Object.getOwnPropertyNames(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))})}function l(a){var b=a.ownerDocument;if(!b.defaultView)return b;var c=b.templateContentsOwner_;if(!c){for(c=b.implementation.createHTMLDocument("");c.lastChild;)c.removeChild(c.lastChild);b.templateContentsOwner_=c}return c}function m(a){if(!a.stagingDocument_){var b=a.ownerDocument;if(!b.stagingDocument_){b.stagingDocument_=b.implementation.createHTMLDocument(""),b.stagingDocument_.isStagingDocument=!0;var c=b.stagingDocument_.createElement("base");c.href=document.baseURI,b.stagingDocument_.head.appendChild(c),b.stagingDocument_.stagingDocument_=b.stagingDocument_}a.stagingDocument_=b.stagingDocument_}return a.stagingDocument_}function n(a){var b=a.ownerDocument.createElement("template");a.parentNode.insertBefore(b,a);for(var c=a.attributes,d=c.length;d-->0;){var e=c[d];K[e.name]&&("template"!==e.name&&b.setAttribute(e.name,e.value),a.removeAttribute(e.name))}return b}function o(a){var b=a.ownerDocument.createElement("template");a.parentNode.insertBefore(b,a);for(var c=a.attributes,d=c.length;d-->0;){var e=c[d];b.setAttribute(e.name,e.value),a.removeAttribute(e.name)}return a.parentNode.removeChild(a),b}function p(a,b,c){var d=a.content;if(c)return void d.appendChild(b);for(var e;e=b.firstChild;)d.appendChild(e)}function q(a){P?a.__proto__=HTMLTemplateElement.prototype:k(a,HTMLTemplateElement.prototype)}function r(a){a.setModelFn_||(a.setModelFn_=function(){a.setModelFnScheduled_=!1;
var b=z(a,a.delegate_&&a.delegate_.prepareBinding);w(a,b,a.model_)}),a.setModelFnScheduled_||(a.setModelFnScheduled_=!0,Observer.runEOM_(a.setModelFn_))}function s(a,b,c,d){if(a&&a.length){for(var e,f=a.length,g=0,h=0,i=0,j=!0;f>h;){var g=a.indexOf("{{",h),k=a.indexOf("[[",h),l=!1,m="}}";if(k>=0&&(0>g||g>k)&&(g=k,l=!0,m="]]"),i=0>g?-1:a.indexOf(m,g+2),0>i){if(!e)return;e.push(a.slice(h));break}e=e||[],e.push(a.slice(h,g));var n=a.slice(g+2,i).trim();e.push(l),j=j&&l;var o=d&&d(n,b,c);e.push(null==o?Path.get(n):null),e.push(o),h=i+2}return h===f&&e.push(""),e.hasOnePath=5===e.length,e.isSimplePath=e.hasOnePath&&""==e[0]&&""==e[4],e.onlyOneTime=j,e.combinator=function(a){for(var b=e[0],c=1;c<e.length;c+=4){var d=e.hasOnePath?a:a[(c-1)/4];void 0!==d&&(b+=d),b+=e[c+3]}return b},e}}function t(a,b,c,d){if(b.hasOnePath){var e=b[3],f=e?e(d,c,!0):b[2].getValueFrom(d);return b.isSimplePath?f:b.combinator(f)}for(var g=[],h=1;h<b.length;h+=4){var e=b[h+2];g[(h-1)/4]=e?e(d,c):b[h+1].getValueFrom(d)}return b.combinator(g)}function u(a,b,c,d){var e=b[3],f=e?e(d,c,!1):new PathObserver(d,b[2]);return b.isSimplePath?f:new ObserverTransform(f,b.combinator)}function v(a,b,c,d){if(b.onlyOneTime)return t(a,b,c,d);if(b.hasOnePath)return u(a,b,c,d);for(var e=new CompoundObserver,f=1;f<b.length;f+=4){var g=b[f],h=b[f+2];if(h){var i=h(d,c,g);g?e.addPath(i):e.addObserver(i)}else{var j=b[f+1];g?e.addPath(j.getValueFrom(d)):e.addPath(d,j)}}return new ObserverTransform(e,b.combinator)}function w(a,b,c,d){for(var e=0;e<b.length;e+=2){var f=b[e],g=b[e+1],h=v(f,g,a,c),i=a.bind(f,h,g.onlyOneTime);i&&d&&d.push(i)}if(a.bindFinished(),b.isTemplate){a.model_=c;var j=a.processBindingDirectives_(b);d&&j&&d.push(j)}}function x(a,b,c){var d=a.getAttribute(b);return s(""==d?"{{}}":d,b,a,c)}function y(a,c){b(a);for(var d=[],e=0;e<a.attributes.length;e++){for(var f=a.attributes[e],g=f.name,i=f.value;"_"===g[0];)g=g.substring(1);if(!h(a)||g!==J&&g!==H&&g!==I){var j=s(i,g,a,c);j&&d.push(g,j)}}return h(a)&&(d.isTemplate=!0,d.if=x(a,J,c),d.bind=x(a,H,c),d.repeat=x(a,I,c),!d.if||d.bind||d.repeat||(d.bind=s("{{}}",H,a,c))),d}function z(a,b){if(a.nodeType===Node.ELEMENT_NODE)return y(a,b);if(a.nodeType===Node.TEXT_NODE){var c=s(a.data,"textContent",a,b);if(c)return["textContent",c]}return[]}function A(a,b,c,d,e,f,g){for(var h=b.appendChild(c.importNode(a,!1)),i=0,j=a.firstChild;j;j=j.nextSibling)A(j,h,c,d.children[i++],e,f,g);return d.isTemplate&&(HTMLTemplateElement.decorate(h,a),f&&h.setDelegate_(f)),w(h,d,e,g),h}function B(a,b){var c=z(a,b);c.children={};for(var d=0,e=a.firstChild;e;e=e.nextSibling)c.children[d++]=B(e,b);return c}function C(a){var b=a.id_;return b||(b=a.id_=S++),b}function D(a,b){var c=C(a);if(b){var d=b.bindingMaps[c];return d||(d=b.bindingMaps[c]=B(a,b.prepareBinding)||[]),d}var d=a.bindingMap_;return d||(d=a.bindingMap_=B(a,void 0)||[]),d}function E(a){this.closed=!1,this.templateElement_=a,this.instances=[],this.deps=void 0,this.iteratedValue=[],this.presentValue=void 0,this.arrayObserver=void 0}var F,G=Array.prototype.forEach.call.bind(Array.prototype.forEach);a.Map&&"function"==typeof a.Map.prototype.forEach?F=a.Map:(F=function(){this.keys=[],this.values=[]},F.prototype={set:function(a,b){var c=this.keys.indexOf(a);0>c?(this.keys.push(a),this.values.push(b)):this.values[c]=b},get:function(a){var b=this.keys.indexOf(a);if(!(0>b))return this.values[b]},"delete":function(a){var b=this.keys.indexOf(a);return 0>b?!1:(this.keys.splice(b,1),this.values.splice(b,1),!0)},forEach:function(a,b){for(var c=0;c<this.keys.length;c++)a.call(b||this,this.values[c],this.keys[c],this)}});"function"!=typeof document.contains&&(Document.prototype.contains=function(a){return a===this||a.parentNode===this?!0:this.documentElement.contains(a)});var H="bind",I="repeat",J="if",K={template:!0,repeat:!0,bind:!0,ref:!0},L={THEAD:!0,TBODY:!0,TFOOT:!0,TH:!0,TR:!0,TD:!0,COLGROUP:!0,COL:!0,CAPTION:!0,OPTION:!0,OPTGROUP:!0},M="undefined"!=typeof HTMLTemplateElement;M&&!function(){var a=document.createElement("template"),b=a.content.ownerDocument,c=b.appendChild(b.createElement("html")),d=c.appendChild(b.createElement("head")),e=b.createElement("base");e.href=document.baseURI,d.appendChild(e)}();var N="template, "+Object.keys(L).map(function(a){return a.toLowerCase()+"[template]"}).join(", ");document.addEventListener("DOMContentLoaded",function(){j(document),Platform.performMicrotaskCheckpoint()},!1),M||(a.HTMLTemplateElement=function(){throw TypeError("Illegal constructor")});var O,P="__proto__"in{};"function"==typeof MutationObserver&&(O=new MutationObserver(function(a){for(var b=0;b<a.length;b++)a[b].target.refChanged_()})),HTMLTemplateElement.decorate=function(a,c){if(a.templateIsDecorated_)return!1;var d=a;d.templateIsDecorated_=!0;var h=f(d)&&M,i=h,k=!h,m=!1;if(h||(g(d)?(b(!c),d=n(a),d.templateIsDecorated_=!0,h=M,m=!0):e(d)&&(d=o(a),d.templateIsDecorated_=!0,h=M)),!h){q(d);var r=l(d);d.content_=r.createDocumentFragment()}return c?d.instanceRef_=c:k?p(d,a,m):i&&j(d.content),!0},HTMLTemplateElement.bootstrap=j;var Q=a.HTMLUnknownElement||HTMLElement,R={get:function(){return this.content_},enumerable:!0,configurable:!0};M||(HTMLTemplateElement.prototype=Object.create(Q.prototype),Object.defineProperty(HTMLTemplateElement.prototype,"content",R)),k(HTMLTemplateElement.prototype,{bind:function(a,b,c){if("ref"!=a)return Element.prototype.bind.call(this,a,b,c);var d=this,e=c?b:b.open(function(a){d.setAttribute("ref",a),d.refChanged_()});return this.setAttribute("ref",e),this.refChanged_(),c?void 0:(this.bindings_?this.bindings_.ref=b:this.bindings_={ref:b},b)},processBindingDirectives_:function(a){return this.iterator_&&this.iterator_.closeDeps(),a.if||a.bind||a.repeat?(this.iterator_||(this.iterator_=new E(this)),this.iterator_.updateDependencies(a,this.model_),O&&O.observe(this,{attributes:!0,attributeFilter:["ref"]}),this.iterator_):void(this.iterator_&&(this.iterator_.close(),this.iterator_=void 0))},createInstance:function(a,b,c){b?c=this.newDelegate_(b):c||(c=this.delegate_),this.refContent_||(this.refContent_=this.ref_.content);var d=this.refContent_;if(null===d.firstChild)return T;var e=D(d,c),f=m(this),g=f.createDocumentFragment();g.templateCreator_=this,g.protoContent_=d,g.bindings_=[],g.terminator_=null;for(var h=g.templateInstance_={firstNode:null,lastNode:null,model:a},i=0,j=!1,k=d.firstChild;k;k=k.nextSibling){null===k.nextSibling&&(j=!0);var l=A(k,g,f,e.children[i++],a,c,g.bindings_);l.templateInstance_=h,j&&(g.terminator_=l)}return h.firstNode=g.firstChild,h.lastNode=g.lastChild,g.templateCreator_=void 0,g.protoContent_=void 0,g},get model(){return this.model_},set model(a){this.model_=a,r(this)},get bindingDelegate(){return this.delegate_&&this.delegate_.raw},refChanged_:function(){this.iterator_&&this.refContent_!==this.ref_.content&&(this.refContent_=void 0,this.iterator_.valueChanged(),this.iterator_.updateIteratedValue(this.iterator_.getUpdatedValue()))},clear:function(){this.model_=void 0,this.delegate_=void 0,this.bindings_&&this.bindings_.ref&&this.bindings_.ref.close(),this.refContent_=void 0,this.iterator_&&(this.iterator_.valueChanged(),this.iterator_.close(),this.iterator_=void 0)},setDelegate_:function(a){this.delegate_=a,this.bindingMap_=void 0,this.iterator_&&(this.iterator_.instancePositionChangedFn_=void 0,this.iterator_.instanceModelFn_=void 0)},newDelegate_:function(a){function b(b){var c=a&&a[b];if("function"==typeof c)return function(){return c.apply(a,arguments)}}if(a)return{bindingMaps:{},raw:a,prepareBinding:b("prepareBinding"),prepareInstanceModel:b("prepareInstanceModel"),prepareInstancePositionChanged:b("prepareInstancePositionChanged")}},set bindingDelegate(a){if(this.delegate_)throw Error("Template must be cleared before a new bindingDelegate can be assigned");this.setDelegate_(this.newDelegate_(a))},get ref_(){var a=d(this,this.getAttribute("ref"));if(a||(a=this.instanceRef_),!a)return this;var b=a.ref_;return b?b:a}});var S=1;Object.defineProperty(Node.prototype,"templateInstance",{get:function(){var a=this.templateInstance_;return a?a:this.parentNode?this.parentNode.templateInstance:void 0}});var T=document.createDocumentFragment();T.bindings_=[],T.terminator_=null,E.prototype={closeDeps:function(){var a=this.deps;a&&(a.ifOneTime===!1&&a.ifValue.close(),a.oneTime===!1&&a.value.close())},updateDependencies:function(a,b){this.closeDeps();var c=this.deps={},d=this.templateElement_,e=!0;if(a.if){if(c.hasIf=!0,c.ifOneTime=a.if.onlyOneTime,c.ifValue=v(J,a.if,d,b),e=c.ifValue,c.ifOneTime&&!e)return void this.valueChanged();c.ifOneTime||(e=e.open(this.updateIfValue,this))}a.repeat?(c.repeat=!0,c.oneTime=a.repeat.onlyOneTime,c.value=v(I,a.repeat,d,b)):(c.repeat=!1,c.oneTime=a.bind.onlyOneTime,c.value=v(H,a.bind,d,b));var f=c.value;return c.oneTime||(f=f.open(this.updateIteratedValue,this)),e?void this.updateValue(f):void this.valueChanged()},getUpdatedValue:function(){var a=this.deps.value;return this.deps.oneTime||(a=a.discardChanges()),a},updateIfValue:function(a){return a?void this.updateValue(this.getUpdatedValue()):void this.valueChanged()},updateIteratedValue:function(a){if(this.deps.hasIf){var b=this.deps.ifValue;if(this.deps.ifOneTime||(b=b.discardChanges()),!b)return void this.valueChanged()}this.updateValue(a)},updateValue:function(a){this.deps.repeat||(a=[a]);var b=this.deps.repeat&&!this.deps.oneTime&&Array.isArray(a);this.valueChanged(a,b)},valueChanged:function(a,b){Array.isArray(a)||(a=[]),a!==this.iteratedValue&&(this.unobserve(),this.presentValue=a,b&&(this.arrayObserver=new ArrayObserver(this.presentValue),this.arrayObserver.open(this.handleSplices,this)),this.handleSplices(ArrayObserver.calculateSplices(this.presentValue,this.iteratedValue)))},getLastInstanceNode:function(a){if(-1==a)return this.templateElement_;var b=this.instances[a],c=b.terminator_;if(!c)return this.getLastInstanceNode(a-1);if(c.nodeType!==Node.ELEMENT_NODE||this.templateElement_===c)return c;var d=c.iterator_;return d?d.getLastTemplateNode():c},getLastTemplateNode:function(){return this.getLastInstanceNode(this.instances.length-1)},insertInstanceAt:function(a,b){var c=this.getLastInstanceNode(a-1),d=this.templateElement_.parentNode;this.instances.splice(a,0,b),d.insertBefore(b,c.nextSibling)},extractInstanceAt:function(a){for(var b=this.getLastInstanceNode(a-1),c=this.getLastInstanceNode(a),d=this.templateElement_.parentNode,e=this.instances.splice(a,1)[0];c!==b;){var f=b.nextSibling;f==c&&(c=b),e.appendChild(d.removeChild(f))}return e},getDelegateFn:function(a){return a=a&&a(this.templateElement_),"function"==typeof a?a:null},handleSplices:function(a){if(!this.closed&&a.length){var b=this.templateElement_;if(!b.parentNode)return void this.close();ArrayObserver.applySplices(this.iteratedValue,this.presentValue,a);var c=b.delegate_;void 0===this.instanceModelFn_&&(this.instanceModelFn_=this.getDelegateFn(c&&c.prepareInstanceModel)),void 0===this.instancePositionChangedFn_&&(this.instancePositionChangedFn_=this.getDelegateFn(c&&c.prepareInstancePositionChanged));for(var d=new F,e=0,f=0;f<a.length;f++){for(var g=a[f],h=g.removed,i=0;i<h.length;i++){var j=h[i],k=this.extractInstanceAt(g.index+e);k!==T&&d.set(j,k)}e-=g.addedCount}for(var f=0;f<a.length;f++)for(var g=a[f],l=g.index;l<g.index+g.addedCount;l++){var j=this.iteratedValue[l],k=d.get(j);k?d.delete(j):(this.instanceModelFn_&&(j=this.instanceModelFn_(j)),k=void 0===j?T:b.createInstance(j,void 0,c)),this.insertInstanceAt(l,k)}d.forEach(function(a){this.closeInstanceBindings(a)},this),this.instancePositionChangedFn_&&this.reportInstancesMoved(a)}},reportInstanceMoved:function(a){var b=this.instances[a];b!==T&&this.instancePositionChangedFn_(b.templateInstance_,a)},reportInstancesMoved:function(a){for(var b=0,c=0,d=0;d<a.length;d++){var e=a[d];if(0!=c)for(;b<e.index;)this.reportInstanceMoved(b),b++;else b=e.index;for(;b<e.index+e.addedCount;)this.reportInstanceMoved(b),b++;c+=e.addedCount-e.removed.length}if(0!=c)for(var f=this.instances.length;f>b;)this.reportInstanceMoved(b),b++},closeInstanceBindings:function(a){for(var b=a.bindings_,c=0;c<b.length;c++)b[c].close()},unobserve:function(){this.arrayObserver&&(this.arrayObserver.close(),this.arrayObserver=void 0)},close:function(){if(!this.closed){this.unobserve();for(var a=0;a<this.instances.length;a++)this.closeInstanceBindings(this.instances[a]);this.instances.length=0,this.closeDeps(),this.templateElement_.iterator_=void 0,this.closed=!0}}},HTMLTemplateElement.forAllTemplatesFrom_=i}(this),function(a){function b(a){f.textContent=d++,e.push(a)}function c(){for(;e.length;)e.shift()()}var d=0,e=[],f=document.createTextNode("");new(window.MutationObserver||JsMutationObserver)(c).observe(f,{characterData:!0}),a.endOfMicrotask=b}(Platform),function(a){function b(){e||(e=!0,a.endOfMicrotask(function(){e=!1,logFlags.data&&console.group("Platform.flush()"),a.performMicrotaskCheckpoint(),logFlags.data&&console.groupEnd()}))}var c=document.createElement("style");c.textContent="template {display: none !important;} /* injected by platform.js */";var d=document.querySelector("head");d.insertBefore(c,d.firstChild);var e;if(Observer.hasObjectObserve)b=function(){};else{var f=125;window.addEventListener("WebComponentsReady",function(){b(),a.flushPoll=setInterval(b,f)})}if(window.CustomElements&&!CustomElements.useNative){var g=Document.prototype.importNode;Document.prototype.importNode=function(a,b){var c=g.call(this,a,b);return CustomElements.upgradeAll(c),c}}a.flush=b}(window.Platform),function(a){function b(a,b,d,e){return a.replace(e,function(a,e,f,g){var h=f.replace(/["']/g,"");return h=c(b,h,d),e+"'"+h+"'"+g})}function c(a,b,c){if(b&&"/"===b[0])return b;var e=new URL(b,a);return c?e.href:d(e.href)}function d(a){var b=new URL(document.baseURI),c=new URL(a,b);return c.host===b.host&&c.port===b.port&&c.protocol===b.protocol?e(b,c):a}function e(a,b){for(var c=a.pathname,d=b.pathname,e=c.split("/"),f=d.split("/");e.length&&e[0]===f[0];)e.shift(),f.shift();for(var g=0,h=e.length-1;h>g;g++)f.unshift("..");return f.join("/")+b.search+b.hash}var f={resolveDom:function(a,b){b=b||a.ownerDocument.baseURI,this.resolveAttributes(a,b),this.resolveStyles(a,b);var c=a.querySelectorAll("template");if(c)for(var d,e=0,f=c.length;f>e&&(d=c[e]);e++)d.content&&this.resolveDom(d.content,b)},resolveTemplate:function(a){this.resolveDom(a.content,a.ownerDocument.baseURI)},resolveStyles:function(a,b){var c=a.querySelectorAll("style");if(c)for(var d,e=0,f=c.length;f>e&&(d=c[e]);e++)this.resolveStyle(d,b)},resolveStyle:function(a,b){b=b||a.ownerDocument.baseURI,a.textContent=this.resolveCssText(a.textContent,b)},resolveCssText:function(a,c,d){return a=b(a,c,d,g),b(a,c,d,h)},resolveAttributes:function(a,b){a.hasAttributes&&a.hasAttributes()&&this.resolveElementAttributes(a,b);var c=a&&a.querySelectorAll(j);if(c)for(var d,e=0,f=c.length;f>e&&(d=c[e]);e++)this.resolveElementAttributes(d,b)},resolveElementAttributes:function(a,d){d=d||a.ownerDocument.baseURI,i.forEach(function(e){var f,h=a.attributes[e],i=h&&h.value;i&&i.search(k)<0&&(f="style"===e?b(i,d,!1,g):c(d,i),h.value=f)})}},g=/(url\()([^)]*)(\))/g,h=/(@import[\s]+(?!url\())([^;]*)(;)/g,i=["href","src","action","style","url"],j="["+i.join("],[")+"]",k="{{.*}}";a.urlResolver=f}(Polymer),function(a){function b(a){this.cache=Object.create(null),this.map=Object.create(null),this.requests=0,this.regex=a}var c=Platform.endOfMicrotask;b.prototype={extractUrls:function(a,b){for(var c,d,e=[];c=this.regex.exec(a);)d=new URL(c[1],b),e.push({matched:c[0],url:d.href});return e},process:function(a,b,c){var d=this.extractUrls(a,b),e=c.bind(null,this.map);this.fetch(d,e)},fetch:function(a,b){var c=a.length;if(!c)return b();for(var d,e,f,g=function(){0===--c&&b()},h=0;c>h;h++)d=a[h],f=d.url,e=this.cache[f],e||(e=this.xhr(f),e.match=d,this.cache[f]=e),e.wait(g)},handleXhr:function(a){var b=a.match,c=b.url,d=a.response||a.responseText||"";this.map[c]=d,this.fetch(this.extractUrls(d,c),a.resolve)},xhr:function(a){this.requests++;var b=new XMLHttpRequest;return b.open("GET",a,!0),b.send(),b.onerror=b.onload=this.handleXhr.bind(this,b),b.pending=[],b.resolve=function(){for(var a=b.pending,c=0;c<a.length;c++)a[c]();b.pending=null},b.wait=function(a){b.pending?b.pending.push(a):c(a)},b}},a.Loader=b}(Polymer),function(a){function b(){this.loader=new d(this.regex)}var c=a.urlResolver,d=a.Loader;b.prototype={regex:/@import\s+(?:url)?["'\(]*([^'"\)]*)['"\)]*;/g,resolve:function(a,b,c){var d=function(d){c(this.flatten(a,b,d))}.bind(this);this.loader.process(a,b,d)},resolveNode:function(a,b,c){var d=a.textContent,e=function(b){a.textContent=b,c(a)};this.resolve(d,b,e)},flatten:function(a,b,d){for(var e,f,g,h=this.loader.extractUrls(a,b),i=0;i<h.length;i++)e=h[i],f=e.url,g=c.resolveCssText(d[f],f,!0),g=this.flatten(g,b,d),a=a.replace(e.matched,g);return a},loadStyles:function(a,b,c){function d(){f++,f===g&&c&&c()}for(var e,f=0,g=a.length,h=0;g>h&&(e=a[h]);h++)this.resolveNode(e,b,d)}};var e=new b;a.styleResolver=e}(Polymer),function(a){function b(a,b){return a&&b&&Object.getOwnPropertyNames(b).forEach(function(c){var d=Object.getOwnPropertyDescriptor(b,c);d&&(Object.defineProperty(a,c,d),"function"==typeof d.value&&(d.value.nom=c))}),a}function c(a){for(var b=a||{},c=1;c<arguments.length;c++){var e=arguments[c];try{for(var f in e)d(f,e,b)}catch(g){}}return b}function d(a,b,c){var d=e(b,a);Object.defineProperty(c,a,d)}function e(a,b){if(a){var c=Object.getOwnPropertyDescriptor(a,b);return c||e(Object.getPrototypeOf(a),b)}}a.extend=b,a.mixin=c,Platform.mixin=c}(Polymer),function(a){function b(a,b,d){return a?a.stop():a=new c(this),a.go(b,d),a}var c=function(a){this.context=a,this.boundComplete=this.complete.bind(this)};c.prototype={go:function(a,b){this.callback=a;var c;b?(c=setTimeout(this.boundComplete,b),this.handle=function(){clearTimeout(c)}):(c=requestAnimationFrame(this.boundComplete),this.handle=function(){cancelAnimationFrame(c)})},stop:function(){this.handle&&(this.handle(),this.handle=null)},complete:function(){this.handle&&(this.stop(),this.callback.call(this.context))}},a.job=b}(Polymer),function(a){function b(a,b,c){var d="string"==typeof a?document.createElement(a):a.cloneNode(!0);if(d.innerHTML=b,c)for(var e in c)d.setAttribute(e,c[e]);return d}var c={};HTMLElement.register=function(a,b){c[a]=b},HTMLElement.getPrototypeForTag=function(a){var b=a?c[a]:HTMLElement.prototype;return b||Object.getPrototypeOf(document.createElement(a))};var d=Event.prototype.stopPropagation;Event.prototype.stopPropagation=function(){this.cancelBubble=!0,d.apply(this,arguments)};var e=DOMTokenList.prototype.add,f=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var a=0;a<arguments.length;a++)e.call(this,arguments[a])},DOMTokenList.prototype.remove=function(){for(var a=0;a<arguments.length;a++)f.call(this,arguments[a])},DOMTokenList.prototype.toggle=function(a,b){1==arguments.length&&(b=!this.contains(a)),b?this.add(a):this.remove(a)},DOMTokenList.prototype.switch=function(a,b){a&&this.remove(a),b&&this.add(b)};var g=function(){return Array.prototype.slice.call(this)},h=window.NamedNodeMap||window.MozNamedAttrMap||{};NodeList.prototype.array=g,h.prototype.array=g,HTMLCollection.prototype.array=g,a.createDOM=b}(Polymer),function(a){function b(a){var e=b.caller,g=e.nom,h=e._super;h||(g||(g=e.nom=c.call(this,e)),g||console.warn("called super() on a method not installed declaratively (has no .nom property)"),h=d(e,g,f(this)));var i=h[g];return i?(i._super||d(i,g,h),i.apply(this,a||[])):void 0}function c(a){for(var b=this.__proto__;b&&b!==HTMLElement.prototype;){for(var c,d=Object.getOwnPropertyNames(b),e=0,f=d.length;f>e&&(c=d[e]);e++){var g=Object.getOwnPropertyDescriptor(b,c);if("function"==typeof g.value&&g.value===a)return c}b=b.__proto__}}function d(a,b,c){var d=e(c,b,a);return d[b]&&(d[b].nom=b),a._super=d}function e(a,b,c){for(;a;){if(a[b]!==c&&a[b])return a;a=f(a)}return Object}function f(a){return a.__proto__}a.super=b}(Polymer),function(a){function b(a){return a}function c(a,b){var c=typeof b;return b instanceof Date&&(c="date"),d[c](a,b)}var d={string:b,undefined:b,date:function(a){return new Date(Date.parse(a)||Date.now())},"boolean":function(a){return""===a?!0:"false"===a?!1:!!a},number:function(a){var b=parseFloat(a);return 0===b&&(b=parseInt(a)),isNaN(b)?a:b},object:function(a,b){if(null===b)return a;try{return JSON.parse(a.replace(/'/g,'"'))}catch(c){return a}},"function":function(a,b){return b}};a.deserializeValue=c}(Polymer),function(a){var b=a.extend,c={};c.declaration={},c.instance={},c.publish=function(a,c){for(var d in a)b(c,a[d])},a.api=c}(Polymer),function(a){var b={async:function(a,b,c){Platform.flush(),b=b&&b.length?b:[b];var d=function(){(this[a]||a).apply(this,b)}.bind(this),e=c?setTimeout(d,c):requestAnimationFrame(d);return c?e:~e},cancelAsync:function(a){0>a?cancelAnimationFrame(~a):clearTimeout(a)},fire:function(a,b,c,d,e){var f=c||this,b=null===b||void 0===b?{}:b,g=new CustomEvent(a,{bubbles:void 0!==d?d:!0,cancelable:void 0!==e?e:!0,detail:b});return f.dispatchEvent(g),g},asyncFire:function(){this.async("fire",arguments)},classFollows:function(a,b,c){b&&b.classList.remove(c),a&&a.classList.add(c)},injectBoundHTML:function(a,b){var c=document.createElement("template");c.innerHTML=a;var d=this.instanceTemplate(c);return b&&(b.textContent="",b.appendChild(d)),d}},c=function(){},d={};b.asyncMethod=b.async,a.api.instance.utils=b,a.nop=c,a.nob=d}(Polymer),function(a){var b=window.logFlags||{},c="on-",d={EVENT_PREFIX:c,addHostListeners:function(){var a=this.eventDelegates;b.events&&Object.keys(a).length>0&&console.log("[%s] addHostListeners:",this.localName,a);for(var c in a){var d=a[c];PolymerGestures.addEventListener(this,c,this.element.getEventHandler(this,this,d))}},dispatchMethod:function(a,c,d){if(a){b.events&&console.group("[%s] dispatch [%s]",a.localName,c);var e="function"==typeof c?c:a[c];e&&e[d?"apply":"call"](a,d),b.events&&console.groupEnd(),Platform.flush()}}};a.api.instance.events=d,a.addEventListener=function(a,b,c,d){PolymerGestures.addEventListener(wrap(a),b,c,d)},a.removeEventListener=function(a,b,c,d){PolymerGestures.removeEventListener(wrap(a),b,c,d)}}(Polymer),function(a){var b={copyInstanceAttributes:function(){var a=this._instanceAttributes;for(var b in a)this.hasAttribute(b)||this.setAttribute(b,a[b])},takeAttributes:function(){if(this._publishLC)for(var a,b=0,c=this.attributes,d=c.length;(a=c[b])&&d>b;b++)this.attributeToProperty(a.name,a.value)},attributeToProperty:function(b,c){var b=this.propertyForAttribute(b);if(b){if(c&&c.search(a.bindPattern)>=0)return;var d=this[b],c=this.deserializeValue(c,d);c!==d&&(this[b]=c)}},propertyForAttribute:function(a){var b=this._publishLC&&this._publishLC[a];return b},deserializeValue:function(b,c){return a.deserializeValue(b,c)},serializeValue:function(a,b){return"boolean"===b?a?"":void 0:"object"!==b&&"function"!==b&&void 0!==a?a:void 0},reflectPropertyToAttribute:function(a){var b=typeof this[a],c=this.serializeValue(this[a],b);void 0!==c?this.setAttribute(a,c):"boolean"===b&&this.removeAttribute(a)}};a.api.instance.attributes=b}(Polymer),function(a){function b(a,b){return a===b?0!==a||1/a===1/b:f(a)&&f(b)?!0:a!==a&&b!==b}function c(a,b){return void 0===b&&null===a?b:null===b||void 0===b?a:b}var d=window.logFlags||{},e={object:void 0,type:"update",name:void 0,oldValue:void 0},f=Number.isNaN||function(a){return"number"==typeof a&&isNaN(a)},g={createPropertyObserver:function(){var a=this._observeNames;if(a&&a.length){var b=this._propertyObserver=new CompoundObserver(!0);this.registerObserver(b);for(var c,d=0,e=a.length;e>d&&(c=a[d]);d++)b.addPath(this,c),this.observeArrayValue(c,this[c],null)}},openPropertyObserver:function(){this._propertyObserver&&this._propertyObserver.open(this.notifyPropertyChanges,this)},notifyPropertyChanges:function(a,b,c){var d,e,f={};for(var g in b)if(d=c[2*g+1],e=this.observe[d]){var h=b[g],i=a[g];this.observeArrayValue(d,i,h),f[e]||(void 0!==h&&null!==h||void 0!==i&&null!==i)&&(f[e]=!0,this.invokeMethod(e,[h,i,arguments]))}},deliverChanges:function(){this._propertyObserver&&this._propertyObserver.deliver()},propertyChanged_:function(a){this.reflect[a]&&this.reflectPropertyToAttribute(a)},observeArrayValue:function(a,b,c){var e=this.observe[a];if(e&&(Array.isArray(c)&&(d.observe&&console.log("[%s] observeArrayValue: unregister observer [%s]",this.localName,a),this.closeNamedObserver(a+"__array")),Array.isArray(b))){d.observe&&console.log("[%s] observeArrayValue: register observer [%s]",this.localName,a,b);var f=new ArrayObserver(b);f.open(function(a){this.invokeMethod(e,[a])},this),this.registerNamedObserver(a+"__array",f)}},emitPropertyChangeRecord:function(a,c,d){if(!b(c,d)&&(this.propertyChanged_(a,c,d),Observer.hasObjectObserve)){var f=this.notifier_;f||(f=this.notifier_=Object.getNotifier(this)),e.object=this,e.name=a,e.oldValue=d,f.notify(e)}},bindToAccessor:function(a,c,d){function e(b,c){j[f]=b;var d=j[h];d&&"function"==typeof d.setValue&&d.setValue(b),j.emitPropertyChangeRecord(a,b,c)}var f=a+"_",g=a+"Observable_",h=a+"ComputedBoundObservable_";this[g]=c;var i=this[f],j=this,k=c.open(e);if(d&&!b(i,k)){var l=d(i,k);b(k,l)||(k=l,c.setValue&&c.setValue(k))}e(k,i);var m={close:function(){c.close(),j[g]=void 0,j[h]=void 0}};return this.registerObserver(m),m},createComputedProperties:function(){if(this._computedNames)for(var a=0;a<this._computedNames.length;a++){var b=this._computedNames[a],c=this.computed[b];try{var d=PolymerExpressions.getExpression(c),e=d.getBinding(this,this.element.syntax);this.bindToAccessor(b,e)}catch(f){console.error("Failed to create computed property",f)}}},bindProperty:function(a,b,d){if(d)return void(this[a]=b);var e=this.element.prototype.computed;if(e&&e[a]){var f=a+"ComputedBoundObservable_";return void(this[f]=b)}return this.bindToAccessor(a,b,c)},invokeMethod:function(a,b){var c=this[a]||a;"function"==typeof c&&c.apply(this,b)},registerObserver:function(a){return this._observers?void this._observers.push(a):void(this._observers=[a])},closeObservers:function(){if(this._observers){for(var a=this._observers,b=0;b<a.length;b++){var c=a[b];c&&"function"==typeof c.close&&c.close()}this._observers=[]}},registerNamedObserver:function(a,b){var c=this._namedObservers||(this._namedObservers={});c[a]=b},closeNamedObserver:function(a){var b=this._namedObservers;return b&&b[a]?(b[a].close(),b[a]=null,!0):void 0},closeNamedObservers:function(){if(this._namedObservers){for(var a in this._namedObservers)this.closeNamedObserver(a);this._namedObservers={}}}};a.api.instance.properties=g}(Polymer),function(a){var b=window.logFlags||0,c={instanceTemplate:function(a){HTMLTemplateElement.decorate(a);for(var b=this.syntax||!a.bindingDelegate&&this.element.syntax,c=a.createInstance(this,b),d=c.bindings_,e=0;e<d.length;e++)this.registerObserver(d[e]);return c},bind:function(a,b,c){var d=this.propertyForAttribute(a);if(d){var e=this.bindProperty(d,b,c);return Platform.enableBindingsReflection&&e&&(e.path=b.path_,this._recordBinding(d,e)),this.reflect[d]&&this.reflectPropertyToAttribute(d),e}return this.mixinSuper(arguments)},bindFinished:function(){this.makeElementReady()},_recordBinding:function(a,b){this.bindings_=this.bindings_||{},this.bindings_[a]=b},asyncUnbindAll:function(){this._unbound||(b.unbind&&console.log("[%s] asyncUnbindAll",this.localName),this._unbindAllJob=this.job(this._unbindAllJob,this.unbindAll,0))},unbindAll:function(){this._unbound||(this.closeObservers(),this.closeNamedObservers(),this._unbound=!0)},cancelUnbindAll:function(){return this._unbound?void(b.unbind&&console.warn("[%s] already unbound, cannot cancel unbindAll",this.localName)):(b.unbind&&console.log("[%s] cancelUnbindAll",this.localName),void(this._unbindAllJob&&(this._unbindAllJob=this._unbindAllJob.stop())))}},d=/\{\{([^{}]*)}}/;a.bindPattern=d,a.api.instance.mdv=c}(Polymer),function(a){function b(a){return a.hasOwnProperty("PolymerBase")}function c(){}var d={PolymerBase:!0,job:function(a,b,c){if("string"!=typeof a)return Polymer.job.call(this,a,b,c);var d="___"+a;this[d]=Polymer.job.call(this,this[d],b,c)},"super":Polymer.super,created:function(){},ready:function(){},createdCallback:function(){this.templateInstance&&this.templateInstance.model&&console.warn("Attributes on "+this.localName+" were data bound prior to Polymer upgrading the element. This may result in incorrect binding types."),this.created(),this.prepareElement(),this.ownerDocument.isStagingDocument||this.makeElementReady()},prepareElement:function(){return this._elementPrepared?void console.warn("Element already prepared",this.localName):(this._elementPrepared=!0,this.shadowRoots={},this.createPropertyObserver(),this.openPropertyObserver(),this.copyInstanceAttributes(),this.takeAttributes(),void this.addHostListeners())},makeElementReady:function(){this._readied||(this._readied=!0,this.createComputedProperties(),this.parseDeclarations(this.__proto__),this.removeAttribute("unresolved"),this.ready())},attachedCallback:function(){this.cancelUnbindAll(),this.attached&&this.attached(),this.enteredView&&this.enteredView(),this.hasBeenAttached||(this.hasBeenAttached=!0,this.domReady&&this.async("domReady"))},detachedCallback:function(){this.preventDispose||this.asyncUnbindAll(),this.detached&&this.detached(),this.leftView&&this.leftView()},enteredViewCallback:function(){this.attachedCallback()},leftViewCallback:function(){this.detachedCallback()},enteredDocumentCallback:function(){this.attachedCallback()},leftDocumentCallback:function(){this.detachedCallback()},parseDeclarations:function(a){a&&a.element&&(this.parseDeclarations(a.__proto__),a.parseDeclaration.call(this,a.element))},parseDeclaration:function(a){var b=this.fetchTemplate(a);if(b){var c=this.shadowFromTemplate(b);this.shadowRoots[a.name]=c}},fetchTemplate:function(a){return a.querySelector("template")},shadowFromTemplate:function(a){if(a){var b=this.createShadowRoot(),c=this.instanceTemplate(a);return b.appendChild(c),this.shadowRootReady(b,a),b}},lightFromTemplate:function(a,b){if(a){this.eventController=this;var c=this.instanceTemplate(a);return b?this.insertBefore(c,b):this.appendChild(c),this.shadowRootReady(this),c}},shadowRootReady:function(a){this.marshalNodeReferences(a)},marshalNodeReferences:function(a){var b=this.$=this.$||{};if(a)for(var c,d=a.querySelectorAll("[id]"),e=0,f=d.length;f>e&&(c=d[e]);e++)b[c.id]=c},attributeChangedCallback:function(a){"class"!==a&&"style"!==a&&this.attributeToProperty(a,this.getAttribute(a)),this.attributeChanged&&this.attributeChanged.apply(this,arguments)},onMutation:function(a,b){var c=new MutationObserver(function(a){b.call(this,c,a),c.disconnect()}.bind(this));c.observe(a,{childList:!0,subtree:!0})}};c.prototype=d,d.constructor=c,a.Base=c,a.isBase=b,a.api.instance.base=d}(Polymer),function(a){function b(a){return a.__proto__}function c(a,b){var c="",d=!1;b&&(c=b.localName,d=b.hasAttribute("is"));var e=Platform.ShadowCSS.makeScopeSelector(c,d);return Platform.ShadowCSS.shimCssText(a,e)}var d=(window.logFlags||{},window.ShadowDOMPolyfill),e="element",f="controller",g={STYLE_SCOPE_ATTRIBUTE:e,installControllerStyles:function(){var a=this.findStyleScope();if(a&&!this.scopeHasNamedStyle(a,this.localName)){for(var c=b(this),d="";c&&c.element;)d+=c.element.cssTextForScope(f),c=b(c);d&&this.installScopeCssText(d,a)}},installScopeStyle:function(a,b,c){var c=c||this.findStyleScope(),b=b||"";if(c&&!this.scopeHasNamedStyle(c,this.localName+b)){var d="";if(a instanceof Array)for(var e,f=0,g=a.length;g>f&&(e=a[f]);f++)d+=e.textContent+"\n\n";else d=a.textContent;this.installScopeCssText(d,c,b)}},installScopeCssText:function(a,b,e){if(b=b||this.findStyleScope(),e=e||"",b){d&&(a=c(a,b.host));var g=this.element.cssTextToScopeStyle(a,f);Polymer.applyStyleToScope(g,b),this.styleCacheForScope(b)[this.localName+e]=!0}},findStyleScope:function(a){for(var b=a||this;b.parentNode;)b=b.parentNode;return b},scopeHasNamedStyle:function(a,b){var c=this.styleCacheForScope(a);
return c[b]},styleCacheForScope:function(a){if(d){var b=a.host?a.host.localName:a.localName;return h[b]||(h[b]={})}return a._scopeStyles=a._scopeStyles||{}}},h={};a.api.instance.styles=g}(Polymer),function(a){function b(a,b){if("string"!=typeof a){var c=b||document._currentScript;if(b=a,a=c&&c.parentNode&&c.parentNode.getAttribute?c.parentNode.getAttribute("name"):"",!a)throw"Element name could not be inferred."}if(f[a])throw"Already registered (Polymer) prototype for element "+a;e(a,b),d(a)}function c(a,b){i[a]=b}function d(a){i[a]&&(i[a].registerWhenReady(),delete i[a])}function e(a,b){return j[a]=b||{}}function f(a){return j[a]}function g(a,b){if("string"!=typeof b)return!1;var c=HTMLElement.getPrototypeForTag(b),d=c&&c.constructor;return d?CustomElements.instanceof?CustomElements.instanceof(a,d):a instanceof d:!1}var h=a.extend,i=(a.api,{}),j={};a.getRegisteredPrototype=f,a.waitingForPrototype=c,a.instanceOfType=g,window.Polymer=b,h(Polymer,a),Platform.consumeDeclarations&&Platform.consumeDeclarations(function(a){if(a)for(var c,d=0,e=a.length;e>d&&(c=a[d]);d++)b.apply(null,c)})}(Polymer),function(a){var b={resolveElementPaths:function(a){Polymer.urlResolver.resolveDom(a)},addResolvePathApi:function(){var a=this.getAttribute("assetpath")||"",b=new URL(a,this.ownerDocument.baseURI);this.prototype.resolvePath=function(a,c){var d=new URL(a,c||b);return d.href}}};a.api.declaration.path=b}(Polymer),function(a){function b(a,b){var c=new URL(a.getAttribute("href"),b).href;return"@import '"+c+"';"}function c(a,b){if(a){b===document&&(b=document.head),i&&(b=document.head);var c=d(a.textContent),e=a.getAttribute(h);e&&c.setAttribute(h,e);var f=b.firstElementChild;if(b===document.head){var g="style["+h+"]",j=document.head.querySelectorAll(g);j.length&&(f=j[j.length-1].nextElementSibling)}b.insertBefore(c,f)}}function d(a,b){b=b||document,b=b.createElement?b:b.ownerDocument;var c=b.createElement("style");return c.textContent=a,c}function e(a){return a&&a.__resource||""}function f(a,b){return q?q.call(a,b):void 0}var g=(window.logFlags||{},a.api.instance.styles),h=g.STYLE_SCOPE_ATTRIBUTE,i=window.ShadowDOMPolyfill,j="style",k="@import",l="link[rel=stylesheet]",m="global",n="polymer-scope",o={loadStyles:function(a){var b=this.fetchTemplate(),c=b&&this.templateContent();if(c){this.convertSheetsToStyles(c);var d=this.findLoadableStyles(c);if(d.length){var e=b.ownerDocument.baseURI;return Polymer.styleResolver.loadStyles(d,e,a)}}a&&a()},convertSheetsToStyles:function(a){for(var c,e,f=a.querySelectorAll(l),g=0,h=f.length;h>g&&(c=f[g]);g++)e=d(b(c,this.ownerDocument.baseURI),this.ownerDocument),this.copySheetAttributes(e,c),c.parentNode.replaceChild(e,c)},copySheetAttributes:function(a,b){for(var c,d=0,e=b.attributes,f=e.length;(c=e[d])&&f>d;d++)"rel"!==c.name&&"href"!==c.name&&a.setAttribute(c.name,c.value)},findLoadableStyles:function(a){var b=[];if(a)for(var c,d=a.querySelectorAll(j),e=0,f=d.length;f>e&&(c=d[e]);e++)c.textContent.match(k)&&b.push(c);return b},installSheets:function(){this.cacheSheets(),this.cacheStyles(),this.installLocalSheets(),this.installGlobalStyles()},cacheSheets:function(){this.sheets=this.findNodes(l),this.sheets.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})},cacheStyles:function(){this.styles=this.findNodes(j+"["+n+"]"),this.styles.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})},installLocalSheets:function(){var a=this.sheets.filter(function(a){return!a.hasAttribute(n)}),b=this.templateContent();if(b){var c="";if(a.forEach(function(a){c+=e(a)+"\n"}),c){var f=d(c,this.ownerDocument);b.insertBefore(f,b.firstChild)}}},findNodes:function(a,b){var c=this.querySelectorAll(a).array(),d=this.templateContent();if(d){var e=d.querySelectorAll(a).array();c=c.concat(e)}return b?c.filter(b):c},installGlobalStyles:function(){var a=this.styleForScope(m);c(a,document.head)},cssTextForScope:function(a){var b="",c="["+n+"="+a+"]",d=function(a){return f(a,c)},g=this.sheets.filter(d);g.forEach(function(a){b+=e(a)+"\n\n"});var h=this.styles.filter(d);return h.forEach(function(a){b+=a.textContent+"\n\n"}),b},styleForScope:function(a){var b=this.cssTextForScope(a);return this.cssTextToScopeStyle(b,a)},cssTextToScopeStyle:function(a,b){if(a){var c=d(a);return c.setAttribute(h,this.getAttribute("name")+"-"+b),c}}},p=HTMLElement.prototype,q=p.matches||p.matchesSelector||p.webkitMatchesSelector||p.mozMatchesSelector;a.api.declaration.styles=o,a.applyStyleToScope=c}(Polymer),function(a){var b=(window.logFlags||{},a.api.instance.events),c=b.EVENT_PREFIX,d={};["webkitAnimationStart","webkitAnimationEnd","webkitTransitionEnd","DOMFocusOut","DOMFocusIn","DOMMouseScroll"].forEach(function(a){d[a.toLowerCase()]=a});var e={parseHostEvents:function(){var a=this.prototype.eventDelegates;this.addAttributeDelegates(a)},addAttributeDelegates:function(a){for(var b,c=0;b=this.attributes[c];c++)this.hasEventPrefix(b.name)&&(a[this.removeEventPrefix(b.name)]=b.value.replace("{{","").replace("}}","").trim())},hasEventPrefix:function(a){return a&&"o"===a[0]&&"n"===a[1]&&"-"===a[2]},removeEventPrefix:function(a){return a.slice(f)},findController:function(a){for(;a.parentNode;){if(a.eventController)return a.eventController;a=a.parentNode}return a.host},getEventHandler:function(a,b,c){var d=this;return function(e){a&&a.PolymerBase||(a=d.findController(b));var f=[e,e.detail,e.currentTarget];a.dispatchMethod(a,c,f)}},prepareEventBinding:function(a,b){if(this.hasEventPrefix(b)){var c=this.removeEventPrefix(b);c=d[c]||c;var e=this;return function(b,d,f){function g(){return"{{ "+a+" }}"}var h=e.getEventHandler(void 0,d,a);return PolymerGestures.addEventListener(d,c,h),f?void 0:{open:g,discardChanges:g,close:function(){PolymerGestures.removeEventListener(d,c,h)}}}}}},f=c.length;a.api.declaration.events=e}(Polymer),function(a){var b={inferObservers:function(a){var b,c=a.observe;for(var d in a)"Changed"===d.slice(-7)&&(c||(c=a.observe={}),b=d.slice(0,-7),c[b]=c[b]||d)},explodeObservers:function(a){var b=a.observe;if(b){var c={};for(var d in b)for(var e,f=d.split(" "),g=0;e=f[g];g++)c[e]=b[d];a.observe=c}},optimizePropertyMaps:function(a){if(a.observe){var b=a._observeNames=[];for(var c in a.observe)for(var d,e=c.split(" "),f=0;d=e[f];f++)b.push(d)}if(a.publish){var b=a._publishNames=[];for(var c in a.publish)b.push(c)}if(a.computed){var b=a._computedNames=[];for(var c in a.computed)b.push(c)}},publishProperties:function(a,b){var c=a.publish;c&&(this.requireProperties(c,a,b),a._publishLC=this.lowerCaseMap(c))},requireProperties:function(a,b){b.reflect=b.reflect||{};for(var c in a){var d=a[c];d&&void 0!==d.reflect&&(b.reflect[c]=Boolean(d.reflect),d=d.value),void 0!==d&&(b[c]=d)}},lowerCaseMap:function(a){var b={};for(var c in a)b[c.toLowerCase()]=c;return b},createPropertyAccessor:function(a,b){var c=this.prototype,d=a+"_",e=a+"Observable_";c[d]=c[a],Object.defineProperty(c,a,{get:function(){var a=this[e];return a&&a.deliver(),this[d]},set:function(c){if(b)return this[d];var f=this[e];if(f)return void f.setValue(c);var g=this[d];return this[d]=c,this.emitPropertyChangeRecord(a,c,g),c},configurable:!0})},createPropertyAccessors:function(a){var b=a._computedNames;if(b&&b.length)for(var c,d=0,e=b.length;e>d&&(c=b[d]);d++)this.createPropertyAccessor(c,!0);var b=a._publishNames;if(b&&b.length)for(var c,d=0,e=b.length;e>d&&(c=b[d]);d++)a.computed&&a.computed[c]||this.createPropertyAccessor(c)}};a.api.declaration.properties=b}(Polymer),function(a){var b="attributes",c=/\s|,/,d={inheritAttributesObjects:function(a){this.inheritObject(a,"publishLC"),this.inheritObject(a,"_instanceAttributes")},publishAttributes:function(a){var d=this.getAttribute(b);if(d)for(var e,f=a.publish||(a.publish={}),g=d.split(c),h=0,i=g.length;i>h;h++)e=g[h].trim(),e&&void 0===f[e]&&(f[e]=void 0)},accumulateInstanceAttributes:function(){for(var a,b=this.prototype._instanceAttributes,c=this.attributes,d=0,e=c.length;e>d&&(a=c[d]);d++)this.isInstanceAttribute(a.name)&&(b[a.name]=a.value)},isInstanceAttribute:function(a){return!this.blackList[a]&&"on-"!==a.slice(0,3)},blackList:{name:1,"extends":1,constructor:1,noscript:1,assetpath:1,"cache-csstext":1}};d.blackList[b]=1,a.api.declaration.attributes=d}(Polymer),function(a){var b=a.api.declaration.events,c=new PolymerExpressions,d=c.prepareBinding;c.prepareBinding=function(a,e,f){return b.prepareEventBinding(a,e,f)||d.call(c,a,e,f)};var e={syntax:c,fetchTemplate:function(){return this.querySelector("template")},templateContent:function(){var a=this.fetchTemplate();return a&&a.content},installBindingDelegate:function(a){a&&(a.bindingDelegate=this.syntax)}};a.api.declaration.mdv=e}(Polymer),function(a){function b(a){if(!Object.__proto__){var b=Object.getPrototypeOf(a);a.__proto__=b,d(b)&&(b.__proto__=Object.getPrototypeOf(b))}}var c=a.api,d=a.isBase,e=a.extend,f=window.ShadowDOMPolyfill,g={register:function(a,b){this.buildPrototype(a,b),this.registerPrototype(a,b),this.publishConstructor()},buildPrototype:function(b,c){var d=a.getRegisteredPrototype(b),e=this.generateBasePrototype(c);this.desugarBeforeChaining(d,e),this.prototype=this.chainPrototypes(d,e),this.desugarAfterChaining(b,c)},desugarBeforeChaining:function(a,b){a.element=this,this.publishAttributes(a,b),this.publishProperties(a,b),this.inferObservers(a),this.explodeObservers(a)},chainPrototypes:function(a,c){this.inheritMetaData(a,c);var d=this.chainObject(a,c);return b(d),d},inheritMetaData:function(a,b){this.inheritObject("observe",a,b),this.inheritObject("publish",a,b),this.inheritObject("reflect",a,b),this.inheritObject("_publishLC",a,b),this.inheritObject("_instanceAttributes",a,b),this.inheritObject("eventDelegates",a,b)},desugarAfterChaining:function(a,b){this.optimizePropertyMaps(this.prototype),this.createPropertyAccessors(this.prototype),this.installBindingDelegate(this.fetchTemplate()),this.installSheets(),this.resolveElementPaths(this),this.accumulateInstanceAttributes(),this.parseHostEvents(),this.addResolvePathApi(),f&&Platform.ShadowCSS.shimStyling(this.templateContent(),a,b),this.prototype.registerCallback&&this.prototype.registerCallback(this)},publishConstructor:function(){var a=this.getAttribute("constructor");a&&(window[a]=this.ctor)},generateBasePrototype:function(a){var b=this.findBasePrototype(a);if(!b){var b=HTMLElement.getPrototypeForTag(a);b=this.ensureBaseApi(b),h[a]=b}return b},findBasePrototype:function(a){return h[a]},ensureBaseApi:function(a){if(a.PolymerBase)return a;var b=Object.create(a);return c.publish(c.instance,b),this.mixinMethod(b,a,c.instance.mdv,"bind"),b},mixinMethod:function(a,b,c,d){var e=function(a){return b[d].apply(this,a)};a[d]=function(){return this.mixinSuper=e,c[d].apply(this,arguments)}},inheritObject:function(a,b,c){var d=b[a]||{};b[a]=this.chainObject(d,c[a])},registerPrototype:function(a,b){var c={prototype:this.prototype},d=this.findTypeExtension(b);d&&(c.extends=d),HTMLElement.register(a,this.prototype),this.ctor=document.registerElement(a,c)},findTypeExtension:function(a){if(a&&a.indexOf("-")<0)return a;var b=this.findBasePrototype(a);return b.element?this.findTypeExtension(b.element.extends):void 0}},h={};g.chainObject=Object.__proto__?function(a,b){return a&&b&&a!==b&&(a.__proto__=b),a}:function(a,b){if(a&&b&&a!==b){var c=Object.create(b);a=e(c,a)}return a},c.declaration.prototype=g}(Polymer),function(a){function b(a){return document.contains(a)?j:i}function c(){return i.length?i[0]:j[0]}function d(a){f.waitToReady=!0,Platform.endOfMicrotask(function(){HTMLImports.whenImportsReady(function(){f.addReadyCallback(a),f.waitToReady=!1,f.check()})})}function e(a){if(void 0===a)return void f.ready();var b=setTimeout(function(){f.ready()},a);Polymer.whenReady(function(){clearTimeout(b)})}var f={wait:function(a){a.__queue||(a.__queue={},g.push(a))},enqueue:function(a,c,d){var e=a.__queue&&!a.__queue.check;return e&&(b(a).push(a),a.__queue.check=c,a.__queue.go=d),0!==this.indexOf(a)},indexOf:function(a){var c=b(a).indexOf(a);return c>=0&&document.contains(a)&&(c+=HTMLImports.useNative||HTMLImports.ready?i.length:1e9),c},go:function(a){var b=this.remove(a);b&&(a.__queue.flushable=!0,this.addToFlushQueue(b),this.check())},remove:function(a){var c=this.indexOf(a);if(0===c)return b(a).shift()},check:function(){var a=this.nextElement();return a&&a.__queue.check.call(a),this.canReady()?(this.ready(),!0):void 0},nextElement:function(){return c()},canReady:function(){return!this.waitToReady&&this.isEmpty()},isEmpty:function(){for(var a,b=0,c=g.length;c>b&&(a=g[b]);b++)if(a.__queue&&!a.__queue.flushable)return;return!0},addToFlushQueue:function(a){h.push(a)},flush:function(){if(!this.flushing){this.flushing=!0;for(var a;h.length;)a=h.shift(),a.__queue.go.call(a),a.__queue=null;this.flushing=!1}},ready:function(){var a=CustomElements.ready;CustomElements.ready=!1,this.flush(),CustomElements.useNative||CustomElements.upgradeDocumentTree(document),CustomElements.ready=a,Platform.flush(),requestAnimationFrame(this.flushReadyCallbacks)},addReadyCallback:function(a){a&&k.push(a)},flushReadyCallbacks:function(){if(k)for(var a;k.length;)(a=k.shift())()},waitingFor:function(){for(var a,b=[],c=0,d=g.length;d>c&&(a=g[c]);c++)a.__queue&&!a.__queue.flushable&&b.push(a);return b},waitToReady:!0},g=[],h=[],i=[],j=[],k=[];a.elements=g,a.waitingFor=f.waitingFor.bind(f),a.forceReady=e,a.queue=f,a.whenReady=a.whenPolymerReady=d}(Polymer),function(a){function b(a){return Boolean(HTMLElement.getPrototypeForTag(a))}function c(a){return a&&a.indexOf("-")>=0}var d=a.extend,e=a.api,f=a.queue,g=a.whenReady,h=a.getRegisteredPrototype,i=a.waitingForPrototype,j=d(Object.create(HTMLElement.prototype),{createdCallback:function(){this.getAttribute("name")&&this.init()},init:function(){this.name=this.getAttribute("name"),this.extends=this.getAttribute("extends"),f.wait(this),this.loadResources(),this.registerWhenReady()},registerWhenReady:function(){this.registered||this.waitingForPrototype(this.name)||this.waitingForQueue()||this.waitingForResources()||f.go(this)},_register:function(){c(this.extends)&&!b(this.extends)&&console.warn("%s is attempting to extend %s, an unregistered element or one that was not registered with Polymer.",this.name,this.extends),this.register(this.name,this.extends),this.registered=!0},waitingForPrototype:function(a){return h(a)?void 0:(i(a,this),this.handleNoScript(a),!0)},handleNoScript:function(a){this.hasAttribute("noscript")&&!this.noscript&&(this.noscript=!0,Polymer(a))},waitingForResources:function(){return this._needsResources},waitingForQueue:function(){return f.enqueue(this,this.registerWhenReady,this._register)},loadResources:function(){this._needsResources=!0,this.loadStyles(function(){this._needsResources=!1,this.registerWhenReady()}.bind(this))}});e.publish(e.declaration,j),g(function(){document.body.removeAttribute("unresolved"),document.dispatchEvent(new CustomEvent("polymer-ready",{bubbles:!0}))}),document.registerElement("polymer-element",{prototype:j})}(Polymer),function(a){function b(a,b){a?(document.head.appendChild(a),d(b)):b&&b()}function c(a,c){if(a&&a.length){for(var d,e,f=document.createDocumentFragment(),g=0,h=a.length;h>g&&(d=a[g]);g++)e=document.createElement("link"),e.rel="import",e.href=d,f.appendChild(e);b(f,c)}else c&&c()}var d=a.whenPolymerReady;a.import=c,a.importElements=b}(Polymer),function(){var a=document.createElement("polymer-element");a.setAttribute("name","auto-binding"),a.setAttribute("extends","template"),a.init(),Polymer("auto-binding",{createdCallback:function(){this.syntax=this.bindingDelegate=this.makeSyntax(),Polymer.whenPolymerReady(function(){this.model=this,this.setAttribute("bind",""),this.async(function(){this.marshalNodeReferences(this.parentNode),this.fire("template-bound")})}.bind(this))},makeSyntax:function(){var a=Object.create(Polymer.api.declaration.events),b=this;a.findController=function(){return b.model};var c=new PolymerExpressions,d=c.prepareBinding;return c.prepareBinding=function(b,e,f){return a.prepareEventBinding(b,e,f)||d.call(c,b,e,f)},c}})}();
//# sourceMappingURL=polymer.js.map
window._TV_IS_COMPILED = true;
var global=this;
this.tv=function(){function d(){if(!b){var a=document.createElement("div");a.style.backgroundColor="white";a.style.border="3px solid red";a.style.boxSizing="border-box";a.style.color="black";a.style.display="-webkit-flex";a.style.height="100%";a.style.left=0;a.style.padding="8px";a.style.position="fixed";a.style.top=0;a.style.webkitFlexDirection="column";a.style.width="100%";b=document.createElement("div");b.style.webkitFlex="1 1 auto";b.style.overflow="auto";a.appendChild(b);document.body?document.body.appendChild(a):
setTimeout(function(){document.body.appendChild(a)},150)}}function a(a,e){e instanceof Error&&(e=e.stack);d();var c=document.createElement("div");c.innerHTML='<h2 id="message"></h2><pre id="details"></pre>';c.querySelector("#message").textContent=a;c.querySelector("#details").textContent=e;b.appendChild(c);f.push({title:a,details:e})}function c(){g=!1;var b=e.slice();e=[];b.forEach(function(b){b.call(global)})}if(window.tv)return console.warn("Base was multiply initialized. First init wins."),window.tv;
var b=void 0,f=[],e=[],h=!1,g=!1;return{initialize:function(){if(!window._TRACE_VIEWER_IS_COMPILED){var b=parseInt(window.navigator.appVersion.match(/Chrome\/(\d+)\./)[1],10),e=window.navigator.appVersion.match("77.34.5");36>b&&!e&&a("Invalid Chrome version","A Chrome version of 36 or higher is required for trace-viewer development. Please upgrade your version of Chrome and try again.")}tv.doc=document;tv.isMac=/Mac/.test(navigator.platform);tv.isWindows=/Win/.test(navigator.platform);tv.isChromeOS=
/CrOS/.test(navigator.userAgent);tv.isLinux=/Linux/.test(navigator.userAgent);addEventListener("polymer-ready",function(){h=!0;g||(g=!0,setTimeout(c,32))})},exportTo:function(b,a){var e;e=b.split(".");for(var f=global,c;e.length&&(c=e.shift());)f=c in f?f[c]:f[c]={};e=f;var f=a(),h;for(h in f)(c=Object.getOwnPropertyDescriptor(f,h))&&Object.defineProperty(e,h,c)},showPanic:a,hasPanic:function(){return 0!==f.length},getPanicText:function(){return f.map(function(b){return b.title}).join(", ")},onPolymerReady:function(b){e.push(b);
h&&!g&&(g=!0,setTimeout(c,32))}}}();tv.initialize();"use strict";
tv.exportTo("tv.ui",function(){return{decorate:function(d,a){var c;c="string"==typeof d?tv.doc.querySelectorAll(d):[d];for(var b=0,f;f=c[b];b++)f instanceof a||a.decorate(f)},define:function(d,a,c){function b(){if(a&&b.prototype.__proto__!=a.prototype)throw Error(d+" prototye's __proto__ field is messed up. It MUST be the prototype of "+a.tagName);var c;c=void 0===e?tv.doc.createElement(f):tv.doc.createElementNS(e,f);b.decorate.call(this,c,arguments);return c}if("function"==typeof d)throw Error("Passing functions as className is deprecated. Please use (className, opt_parentConstructor) to subclass");
d=d.toLowerCase();if(a&&!a.tagName)throw Error("opt_parentConstructor was not created by tv.ui.define");var f=d,e=void 0;if(a){if(c)throw Error("Must not specify tagNS if parentConstructor is given");for(c=a;c&&c.tagName;)f=c.tagName,e=c.tagNS,c=c.parentConstructor}else e=c;b.decorate=function(a,e){a.__proto__=b.prototype;a.decorate.apply(a,e);a.constructor=b};b.className=d;b.tagName=f;b.tagNS=e;b.parentConstructor=a?a:void 0;b.toString=function(){return!b.parentConstructor?b.tagName:b.parentConstructor.toString()+
"::"+b.className};return b},elementIsChildOf:function(d,a){if(d==a)return!1;for(var c=d;c.parentNode;){if(c==a)return!0;c=c.parentNode}return!1}}});"use strict";
tv.exportTo("tv",function(){function d(b,a){if(b instanceof Object)if(b instanceof Array)for(var e=0;e<b.length;e++)a(b,e,b[e]),d(b[e],a);else for(e in b){var c=b[e];a(b,e,c);d(c,a)}}function a(b){return b}function c(b,c,e){c=c||a;for(var h=0;h<b.length;h++)if(c.call(e,b[h],h))return h;return-1}return{asArray:function(b){for(var a=[],e=0;e<b.length;e++)a.push(b[e]);return a},concatenateArrays:function(){for(var b=[],a=0;a<arguments.length;a++){if(!(arguments[a]instanceof Array))throw Error("Arguments "+
a+"is not an array");b.push.apply(b,arguments[a])}return b},concatenateObjects:function(){for(var b={},a=0;a<arguments.length;a++){var e=arguments[a],c;for(c in e)b[c]=e[c]}return b},compareArrays:function(b,a,e){for(var c=Math.min(b.length,a.length),d=0;d<c;d++){var k=e(b[d],a[d]);if(k)return k}return b.length==a.length?0:void 0===b[d]?-1:1},comparePossiblyUndefinedValues:function(b,a,e){return void 0!==b&&void 0!==a?e(b,a):void 0!==b?-1:void 0!==a?1:0},dictionaryLength:function(b){var a=0,e;for(e in b)a++;
return a},dictionaryKeys:function(b){var a=[],e;for(e in b)a.push(e);return a},dictionaryValues:function(b){var a=[],e;for(e in b)a.push(b[e]);return a},iterItems:function(b,a,e){e=e||this;for(var c in b)a.call(e,c,b[c])},iterObjectFieldsRecursively:d,findFirstIndexInArray:c,findFirstInArray:function(b,a,e){a=c(b,a,a);return-1===a?void 0:b[a]}}});if(!GLMAT_EPSILON)var GLMAT_EPSILON=1E-6;if(!GLMAT_ARRAY_TYPE)var GLMAT_ARRAY_TYPE="undefined"!==typeof Float32Array?Float32Array:Array;
var glMatrix={setMatrixArrayType:function(d){GLMAT_ARRAY_TYPE=d}};"undefined"!==typeof exports&&(exports.glMatrix=glMatrix);
var mat2d={create:function(){var d=new GLMAT_ARRAY_TYPE(6);d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;return d},clone:function(d){var a=new GLMAT_ARRAY_TYPE(6);a[0]=d[0];a[1]=d[1];a[2]=d[2];a[3]=d[3];a[4]=d[4];a[5]=d[5];return a},copy:function(d,a){d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=a[3];d[4]=a[4];d[5]=a[5];return d},identity:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;return d},invert:function(d,a){var c=a[0],b=a[1],f=a[2],e=a[3],h=a[4],g=a[5],k=c*e-b*f;if(!k)return null;k=1/k;d[0]=e*k;
d[1]=-b*k;d[2]=-f*k;d[3]=c*k;d[4]=(f*g-e*h)*k;d[5]=(b*h-c*g)*k;return d},determinant:function(d){return d[0]*d[3]-d[1]*d[2]},multiply:function(d,a,c){var b=a[0],f=a[1],e=a[2],h=a[3],g=a[4];a=a[5];var k=c[0],l=c[1],m=c[2],n=c[3],p=c[4];c=c[5];d[0]=b*k+f*m;d[1]=b*l+f*n;d[2]=e*k+h*m;d[3]=e*l+h*n;d[4]=k*g+m*a+p;d[5]=l*g+n*a+c;return d}};mat2d.mul=mat2d.multiply;
mat2d.rotate=function(d,a,c){var b=a[0],f=a[1],e=a[2],h=a[3],g=a[4];a=a[5];var k=Math.sin(c);c=Math.cos(c);d[0]=b*c+f*k;d[1]=-b*k+f*c;d[2]=e*c+h*k;d[3]=-e*k+c*h;d[4]=c*g+k*a;d[5]=c*a-k*g;return d};mat2d.scale=function(d,a,c){var b=c[0];c=c[1];d[0]=a[0]*b;d[1]=a[1]*c;d[2]=a[2]*b;d[3]=a[3]*c;d[4]=a[4]*b;d[5]=a[5]*c;return d};mat2d.translate=function(d,a,c){d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=a[3];d[4]=a[4]+c[0];d[5]=a[5]+c[1];return d};
mat2d.str=function(d){return"mat2d("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+")"};"undefined"!==typeof exports&&(exports.mat2d=mat2d);
var mat4={create:function(){var d=new GLMAT_ARRAY_TYPE(16);d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},clone:function(d){var a=new GLMAT_ARRAY_TYPE(16);a[0]=d[0];a[1]=d[1];a[2]=d[2];a[3]=d[3];a[4]=d[4];a[5]=d[5];a[6]=d[6];a[7]=d[7];a[8]=d[8];a[9]=d[9];a[10]=d[10];a[11]=d[11];a[12]=d[12];a[13]=d[13];a[14]=d[14];a[15]=d[15];return a},copy:function(d,a){d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=a[3];d[4]=a[4];d[5]=a[5];d[6]=
a[6];d[7]=a[7];d[8]=a[8];d[9]=a[9];d[10]=a[10];d[11]=a[11];d[12]=a[12];d[13]=a[13];d[14]=a[14];d[15]=a[15];return d},identity:function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d},transpose:function(d,a){if(d===a){var c=a[1],b=a[2],f=a[3],e=a[6],h=a[7],g=a[11];d[1]=a[4];d[2]=a[8];d[3]=a[12];d[4]=c;d[6]=a[9];d[7]=a[13];d[8]=b;d[9]=e;d[11]=a[14];d[12]=f;d[13]=h;d[14]=g}else d[0]=a[0],d[1]=a[4],d[2]=a[8],d[3]=a[12],
d[4]=a[1],d[5]=a[5],d[6]=a[9],d[7]=a[13],d[8]=a[2],d[9]=a[6],d[10]=a[10],d[11]=a[14],d[12]=a[3],d[13]=a[7],d[14]=a[11],d[15]=a[15];return d},invert:function(d,a){var c=a[0],b=a[1],f=a[2],e=a[3],h=a[4],g=a[5],k=a[6],l=a[7],m=a[8],n=a[9],p=a[10],q=a[11],r=a[12],t=a[13],u=a[14],v=a[15],z=c*g-b*h,H=c*k-f*h,F=c*l-e*h,G=b*k-f*g,C=b*l-e*g,A=f*l-e*k,B=m*t-n*r,w=m*u-p*r,K=m*v-q*r,P=n*u-p*t,J=n*v-q*t,ca=p*v-q*u,R=z*ca-H*J+F*P+G*K-C*w+A*B;if(!R)return null;R=1/R;d[0]=(g*ca-k*J+l*P)*R;d[1]=(f*J-b*ca-e*P)*R;d[2]=
(t*A-u*C+v*G)*R;d[3]=(p*C-n*A-q*G)*R;d[4]=(k*K-h*ca-l*w)*R;d[5]=(c*ca-f*K+e*w)*R;d[6]=(u*F-r*A-v*H)*R;d[7]=(m*A-p*F+q*H)*R;d[8]=(h*J-g*K+l*B)*R;d[9]=(b*K-c*J-e*B)*R;d[10]=(r*C-t*F+v*z)*R;d[11]=(n*F-m*C-q*z)*R;d[12]=(g*w-h*P-k*B)*R;d[13]=(c*P-b*w+f*B)*R;d[14]=(t*H-r*G-u*z)*R;d[15]=(m*G-n*H+p*z)*R;return d},adjoint:function(d,a){var c=a[0],b=a[1],f=a[2],e=a[3],h=a[4],g=a[5],k=a[6],l=a[7],m=a[8],n=a[9],p=a[10],q=a[11],r=a[12],t=a[13],u=a[14],v=a[15];d[0]=g*(p*v-q*u)-n*(k*v-l*u)+t*(k*q-l*p);d[1]=-(b*
(p*v-q*u)-n*(f*v-e*u)+t*(f*q-e*p));d[2]=b*(k*v-l*u)-g*(f*v-e*u)+t*(f*l-e*k);d[3]=-(b*(k*q-l*p)-g*(f*q-e*p)+n*(f*l-e*k));d[4]=-(h*(p*v-q*u)-m*(k*v-l*u)+r*(k*q-l*p));d[5]=c*(p*v-q*u)-m*(f*v-e*u)+r*(f*q-e*p);d[6]=-(c*(k*v-l*u)-h*(f*v-e*u)+r*(f*l-e*k));d[7]=c*(k*q-l*p)-h*(f*q-e*p)+m*(f*l-e*k);d[8]=h*(n*v-q*t)-m*(g*v-l*t)+r*(g*q-l*n);d[9]=-(c*(n*v-q*t)-m*(b*v-e*t)+r*(b*q-e*n));d[10]=c*(g*v-l*t)-h*(b*v-e*t)+r*(b*l-e*g);d[11]=-(c*(g*q-l*n)-h*(b*q-e*n)+m*(b*l-e*g));d[12]=-(h*(n*u-p*t)-m*(g*u-k*t)+r*(g*p-
k*n));d[13]=c*(n*u-p*t)-m*(b*u-f*t)+r*(b*p-f*n);d[14]=-(c*(g*u-k*t)-h*(b*u-f*t)+r*(b*k-f*g));d[15]=c*(g*p-k*n)-h*(b*p-f*n)+m*(b*k-f*g);return d},determinant:function(d){var a=d[0],c=d[1],b=d[2],f=d[3],e=d[4],h=d[5],g=d[6],k=d[7],l=d[8],m=d[9],n=d[10],p=d[11],q=d[12],r=d[13],t=d[14];d=d[15];return(a*h-c*e)*(n*d-p*t)-(a*g-b*e)*(m*d-p*r)+(a*k-f*e)*(m*t-n*r)+(c*g-b*h)*(l*d-p*q)-(c*k-f*h)*(l*t-n*q)+(b*k-f*g)*(l*r-m*q)},multiply:function(d,a,c){var b=a[0],f=a[1],e=a[2],h=a[3],g=a[4],k=a[5],l=a[6],m=a[7],
n=a[8],p=a[9],q=a[10],r=a[11],t=a[12],u=a[13],v=a[14];a=a[15];var z=c[0],H=c[1],F=c[2],G=c[3];d[0]=z*b+H*g+F*n+G*t;d[1]=z*f+H*k+F*p+G*u;d[2]=z*e+H*l+F*q+G*v;d[3]=z*h+H*m+F*r+G*a;z=c[4];H=c[5];F=c[6];G=c[7];d[4]=z*b+H*g+F*n+G*t;d[5]=z*f+H*k+F*p+G*u;d[6]=z*e+H*l+F*q+G*v;d[7]=z*h+H*m+F*r+G*a;z=c[8];H=c[9];F=c[10];G=c[11];d[8]=z*b+H*g+F*n+G*t;d[9]=z*f+H*k+F*p+G*u;d[10]=z*e+H*l+F*q+G*v;d[11]=z*h+H*m+F*r+G*a;z=c[12];H=c[13];F=c[14];G=c[15];d[12]=z*b+H*g+F*n+G*t;d[13]=z*f+H*k+F*p+G*u;d[14]=z*e+H*l+F*q+G*
v;d[15]=z*h+H*m+F*r+G*a;return d}};mat4.mul=mat4.multiply;
mat4.translate=function(d,a,c){var b=c[0],f=c[1];c=c[2];var e,h,g,k,l,m,n,p,q,r,t,u;a===d?(d[12]=a[0]*b+a[4]*f+a[8]*c+a[12],d[13]=a[1]*b+a[5]*f+a[9]*c+a[13],d[14]=a[2]*b+a[6]*f+a[10]*c+a[14],d[15]=a[3]*b+a[7]*f+a[11]*c+a[15]):(e=a[0],h=a[1],g=a[2],k=a[3],l=a[4],m=a[5],n=a[6],p=a[7],q=a[8],r=a[9],t=a[10],u=a[11],d[0]=e,d[1]=h,d[2]=g,d[3]=k,d[4]=l,d[5]=m,d[6]=n,d[7]=p,d[8]=q,d[9]=r,d[10]=t,d[11]=u,d[12]=e*b+l*f+q*c+a[12],d[13]=h*b+m*f+r*c+a[13],d[14]=g*b+n*f+t*c+a[14],d[15]=k*b+p*f+u*c+a[15]);return d};
mat4.scale=function(d,a,c){var b=c[0],f=c[1];c=c[2];d[0]=a[0]*b;d[1]=a[1]*b;d[2]=a[2]*b;d[3]=a[3]*b;d[4]=a[4]*f;d[5]=a[5]*f;d[6]=a[6]*f;d[7]=a[7]*f;d[8]=a[8]*c;d[9]=a[9]*c;d[10]=a[10]*c;d[11]=a[11]*c;d[12]=a[12];d[13]=a[13];d[14]=a[14];d[15]=a[15];return d};
mat4.rotate=function(d,a,c,b){var f=b[0],e=b[1];b=b[2];var h=Math.sqrt(f*f+e*e+b*b),g,k,l,m,n,p,q,r,t,u,v,z,H,F,G,C,A,B,w,K;if(Math.abs(h)<GLMAT_EPSILON)return null;h=1/h;f*=h;e*=h;b*=h;g=Math.sin(c);k=Math.cos(c);l=1-k;c=a[0];h=a[1];m=a[2];n=a[3];p=a[4];q=a[5];r=a[6];t=a[7];u=a[8];v=a[9];z=a[10];H=a[11];F=f*f*l+k;G=e*f*l+b*g;C=b*f*l-e*g;A=f*e*l-b*g;B=e*e*l+k;w=b*e*l+f*g;K=f*b*l+e*g;f=e*b*l-f*g;e=b*b*l+k;d[0]=c*F+p*G+u*C;d[1]=h*F+q*G+v*C;d[2]=m*F+r*G+z*C;d[3]=n*F+t*G+H*C;d[4]=c*A+p*B+u*w;d[5]=h*A+
q*B+v*w;d[6]=m*A+r*B+z*w;d[7]=n*A+t*B+H*w;d[8]=c*K+p*f+u*e;d[9]=h*K+q*f+v*e;d[10]=m*K+r*f+z*e;d[11]=n*K+t*f+H*e;a!==d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]);return d};
mat4.rotateX=function(d,a,c){var b=Math.sin(c);c=Math.cos(c);var f=a[4],e=a[5],h=a[6],g=a[7],k=a[8],l=a[9],m=a[10],n=a[11];a!==d&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]);d[4]=f*c+k*b;d[5]=e*c+l*b;d[6]=h*c+m*b;d[7]=g*c+n*b;d[8]=k*c-f*b;d[9]=l*c-e*b;d[10]=m*c-h*b;d[11]=n*c-g*b;return d};
mat4.rotateY=function(d,a,c){var b=Math.sin(c);c=Math.cos(c);var f=a[0],e=a[1],h=a[2],g=a[3],k=a[8],l=a[9],m=a[10],n=a[11];a!==d&&(d[4]=a[4],d[5]=a[5],d[6]=a[6],d[7]=a[7],d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]);d[0]=f*c-k*b;d[1]=e*c-l*b;d[2]=h*c-m*b;d[3]=g*c-n*b;d[8]=f*b+k*c;d[9]=e*b+l*c;d[10]=h*b+m*c;d[11]=g*b+n*c;return d};
mat4.rotateZ=function(d,a,c){var b=Math.sin(c);c=Math.cos(c);var f=a[0],e=a[1],h=a[2],g=a[3],k=a[4],l=a[5],m=a[6],n=a[7];a!==d&&(d[8]=a[8],d[9]=a[9],d[10]=a[10],d[11]=a[11],d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]);d[0]=f*c+k*b;d[1]=e*c+l*b;d[2]=h*c+m*b;d[3]=g*c+n*b;d[4]=k*c-f*b;d[5]=l*c-e*b;d[6]=m*c-h*b;d[7]=n*c-g*b;return d};
mat4.fromRotationTranslation=function(d,a,c){var b=a[0],f=a[1],e=a[2],h=a[3],g=b+b,k=f+f,l=e+e;a=b*g;var m=b*k,b=b*l,n=f*k,f=f*l,e=e*l,g=h*g,k=h*k,h=h*l;d[0]=1-(n+e);d[1]=m+h;d[2]=b-k;d[3]=0;d[4]=m-h;d[5]=1-(a+e);d[6]=f+g;d[7]=0;d[8]=b+k;d[9]=f-g;d[10]=1-(a+n);d[11]=0;d[12]=c[0];d[13]=c[1];d[14]=c[2];d[15]=1;return d};
mat4.fromQuat=function(d,a){var c=a[0],b=a[1],f=a[2],e=a[3],h=c+c,g=b+b,k=f+f,l=c*h,m=c*g,c=c*k,n=b*g,b=b*k,f=f*k,h=e*h,g=e*g,e=e*k;d[0]=1-(n+f);d[1]=m+e;d[2]=c-g;d[3]=0;d[4]=m-e;d[5]=1-(l+f);d[6]=b+h;d[7]=0;d[8]=c+g;d[9]=b-h;d[10]=1-(l+n);d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return d};
mat4.frustum=function(d,a,c,b,f,e,h){var g=1/(c-a),k=1/(f-b),l=1/(e-h);d[0]=2*e*g;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2*e*k;d[6]=0;d[7]=0;d[8]=(c+a)*g;d[9]=(f+b)*k;d[10]=(h+e)*l;d[11]=-1;d[12]=0;d[13]=0;d[14]=2*(h*e)*l;d[15]=0;return d};mat4.perspective=function(d,a,c,b,f){a=1/Math.tan(a/2);var e=1/(b-f);d[0]=a/c;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=a;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=(f+b)*e;d[11]=-1;d[12]=0;d[13]=0;d[14]=2*f*b*e;d[15]=0;return d};
mat4.ortho=function(d,a,c,b,f,e,h){var g=1/(a-c),k=1/(b-f),l=1/(e-h);d[0]=-2*g;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=-2*k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=2*l;d[11]=0;d[12]=(a+c)*g;d[13]=(f+b)*k;d[14]=(h+e)*l;d[15]=1;return d};
mat4.lookAt=function(d,a,c,b){var f,e,h,g,k,l,m,n,p=a[0],q=a[1];a=a[2];h=b[0];g=b[1];e=b[2];m=c[0];b=c[1];f=c[2];if(Math.abs(p-m)<GLMAT_EPSILON&&Math.abs(q-b)<GLMAT_EPSILON&&Math.abs(a-f)<GLMAT_EPSILON)return mat4.identity(d);c=p-m;b=q-b;m=a-f;n=1/Math.sqrt(c*c+b*b+m*m);c*=n;b*=n;m*=n;f=g*m-e*b;e=e*c-h*m;h=h*b-g*c;(n=Math.sqrt(f*f+e*e+h*h))?(n=1/n,f*=n,e*=n,h*=n):h=e=f=0;g=b*h-m*e;k=m*f-c*h;l=c*e-b*f;(n=Math.sqrt(g*g+k*k+l*l))?(n=1/n,g*=n,k*=n,l*=n):l=k=g=0;d[0]=f;d[1]=g;d[2]=c;d[3]=0;d[4]=e;d[5]=
k;d[6]=b;d[7]=0;d[8]=h;d[9]=l;d[10]=m;d[11]=0;d[12]=-(f*p+e*q+h*a);d[13]=-(g*p+k*q+l*a);d[14]=-(c*p+b*q+m*a);d[15]=1;return d};mat4.str=function(d){return"mat4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+", "+d[9]+", "+d[10]+", "+d[11]+", "+d[12]+", "+d[13]+", "+d[14]+", "+d[15]+")"};"undefined"!==typeof exports&&(exports.mat4=mat4);
var vec2={create:function(){var d=new GLMAT_ARRAY_TYPE(2);d[0]=0;d[1]=0;return d},clone:function(d){var a=new GLMAT_ARRAY_TYPE(2);a[0]=d[0];a[1]=d[1];return a},fromValues:function(d,a){var c=new GLMAT_ARRAY_TYPE(2);c[0]=d;c[1]=a;return c},copy:function(d,a){d[0]=a[0];d[1]=a[1];return d},set:function(d,a,c){d[0]=a;d[1]=c;return d},add:function(d,a,c){d[0]=a[0]+c[0];d[1]=a[1]+c[1];return d},subtract:function(d,a,c){d[0]=a[0]-c[0];d[1]=a[1]-c[1];return d}};vec2.sub=vec2.subtract;
vec2.multiply=function(d,a,c){d[0]=a[0]*c[0];d[1]=a[1]*c[1];return d};vec2.mul=vec2.multiply;vec2.divide=function(d,a,c){d[0]=a[0]/c[0];d[1]=a[1]/c[1];return d};vec2.div=vec2.divide;vec2.min=function(d,a,c){d[0]=Math.min(a[0],c[0]);d[1]=Math.min(a[1],c[1]);return d};vec2.max=function(d,a,c){d[0]=Math.max(a[0],c[0]);d[1]=Math.max(a[1],c[1]);return d};vec2.scale=function(d,a,c){d[0]=a[0]*c;d[1]=a[1]*c;return d};vec2.distance=function(d,a){var c=a[0]-d[0],b=a[1]-d[1];return Math.sqrt(c*c+b*b)};
vec2.dist=vec2.distance;vec2.squaredDistance=function(d,a){var c=a[0]-d[0],b=a[1]-d[1];return c*c+b*b};vec2.sqrDist=vec2.squaredDistance;vec2.length=function(d){var a=d[0];d=d[1];return Math.sqrt(a*a+d*d)};vec2.len=vec2.length;vec2.squaredLength=function(d){var a=d[0];d=d[1];return a*a+d*d};vec2.sqrLen=vec2.squaredLength;vec2.negate=function(d,a){d[0]=-a[0];d[1]=-a[1];return d};vec2.normalize=function(d,a){var c=a[0],b=a[1],c=c*c+b*b;0<c&&(c=1/Math.sqrt(c),d[0]=a[0]*c,d[1]=a[1]*c);return d};
vec2.dot=function(d,a){return d[0]*a[0]+d[1]*a[1]};vec2.cross=function(d,a,c){a=a[0]*c[1]-a[1]*c[0];d[0]=d[1]=0;d[2]=a;return d};vec2.lerp=function(d,a,c,b){var f=a[0];a=a[1];d[0]=f+b*(c[0]-f);d[1]=a+b*(c[1]-a);return d};vec2.transformMat2=function(d,a,c){var b=a[0];a=a[1];d[0]=c[0]*b+c[2]*a;d[1]=c[1]*b+c[3]*a;return d};vec2.transformMat2d=function(d,a,c){var b=a[0];a=a[1];d[0]=c[0]*b+c[2]*a+c[4];d[1]=c[1]*b+c[3]*a+c[5];return d};
vec2.transformMat3=function(d,a,c){var b=a[0];a=a[1];d[0]=c[0]*b+c[3]*a+c[6];d[1]=c[1]*b+c[4]*a+c[7];return d};vec2.transformMat4=function(d,a,c){var b=a[0];a=a[1];d[0]=c[0]*b+c[4]*a+c[12];d[1]=c[1]*b+c[5]*a+c[13];return d};vec2.forEach=function(){var d=vec2.create();return function(a,c,b,f,e,h){c||(c=2);b||(b=0);for(f=f?Math.min(f*c+b,a.length):a.length;b<f;b+=c)d[0]=a[b],d[1]=a[b+1],e(d,d,h),a[b]=d[0],a[b+1]=d[1];return a}}();vec2.str=function(d){return"vec2("+d[0]+", "+d[1]+")"};
"undefined"!==typeof exports&&(exports.vec2=vec2);
var vec3={create:function(){var d=new GLMAT_ARRAY_TYPE(3);d[0]=0;d[1]=0;d[2]=0;return d},clone:function(d){var a=new GLMAT_ARRAY_TYPE(3);a[0]=d[0];a[1]=d[1];a[2]=d[2];return a},fromValues:function(d,a,c){var b=new GLMAT_ARRAY_TYPE(3);b[0]=d;b[1]=a;b[2]=c;return b},copy:function(d,a){d[0]=a[0];d[1]=a[1];d[2]=a[2];return d},set:function(d,a,c,b){d[0]=a;d[1]=c;d[2]=b;return d},add:function(d,a,c){d[0]=a[0]+c[0];d[1]=a[1]+c[1];d[2]=a[2]+c[2];return d},subtract:function(d,a,c){d[0]=a[0]-c[0];d[1]=a[1]-
c[1];d[2]=a[2]-c[2];return d}};vec3.sub=vec3.subtract;vec3.multiply=function(d,a,c){d[0]=a[0]*c[0];d[1]=a[1]*c[1];d[2]=a[2]*c[2];return d};vec3.mul=vec3.multiply;vec3.divide=function(d,a,c){d[0]=a[0]/c[0];d[1]=a[1]/c[1];d[2]=a[2]/c[2];return d};vec3.div=vec3.divide;vec3.min=function(d,a,c){d[0]=Math.min(a[0],c[0]);d[1]=Math.min(a[1],c[1]);d[2]=Math.min(a[2],c[2]);return d};vec3.max=function(d,a,c){d[0]=Math.max(a[0],c[0]);d[1]=Math.max(a[1],c[1]);d[2]=Math.max(a[2],c[2]);return d};
vec3.scale=function(d,a,c){d[0]=a[0]*c;d[1]=a[1]*c;d[2]=a[2]*c;return d};vec3.distance=function(d,a){var c=a[0]-d[0],b=a[1]-d[1],f=a[2]-d[2];return Math.sqrt(c*c+b*b+f*f)};vec3.dist=vec3.distance;vec3.squaredDistance=function(d,a){var c=a[0]-d[0],b=a[1]-d[1],f=a[2]-d[2];return c*c+b*b+f*f};vec3.sqrDist=vec3.squaredDistance;vec3.length=function(d){var a=d[0],c=d[1];d=d[2];return Math.sqrt(a*a+c*c+d*d)};vec3.len=vec3.length;vec3.squaredLength=function(d){var a=d[0],c=d[1];d=d[2];return a*a+c*c+d*d};
vec3.sqrLen=vec3.squaredLength;vec3.negate=function(d,a){d[0]=-a[0];d[1]=-a[1];d[2]=-a[2];return d};vec3.normalize=function(d,a){var c=a[0],b=a[1],f=a[2],c=c*c+b*b+f*f;0<c&&(c=1/Math.sqrt(c),d[0]=a[0]*c,d[1]=a[1]*c,d[2]=a[2]*c);return d};vec3.dot=function(d,a){return d[0]*a[0]+d[1]*a[1]+d[2]*a[2]};vec3.cross=function(d,a,c){var b=a[0],f=a[1];a=a[2];var e=c[0],h=c[1];c=c[2];d[0]=f*c-a*h;d[1]=a*e-b*c;d[2]=b*h-f*e;return d};
vec3.lerp=function(d,a,c,b){var f=a[0],e=a[1];a=a[2];d[0]=f+b*(c[0]-f);d[1]=e+b*(c[1]-e);d[2]=a+b*(c[2]-a);return d};vec3.transformMat4=function(d,a,c){var b=a[0],f=a[1];a=a[2];d[0]=c[0]*b+c[4]*f+c[8]*a+c[12];d[1]=c[1]*b+c[5]*f+c[9]*a+c[13];d[2]=c[2]*b+c[6]*f+c[10]*a+c[14];return d};
vec3.transformQuat=function(d,a,c){var b=a[0],f=a[1],e=a[2];a=c[0];var h=c[1],g=c[2];c=c[3];var k=c*b+h*e-g*f,l=c*f+g*b-a*e,m=c*e+a*f-h*b,b=-a*b-h*f-g*e;d[0]=k*c+b*-a+l*-g-m*-h;d[1]=l*c+b*-h+m*-a-k*-g;d[2]=m*c+b*-g+k*-h-l*-a;return d};vec3.forEach=function(){var d=vec3.create();return function(a,c,b,f,e,h){c||(c=3);b||(b=0);for(f=f?Math.min(f*c+b,a.length):a.length;b<f;b+=c)d[0]=a[b],d[1]=a[b+1],d[2]=a[b+2],e(d,d,h),a[b]=d[0],a[b+1]=d[1],a[b+2]=d[2];return a}}();
vec3.str=function(d){return"vec3("+d[0]+", "+d[1]+", "+d[2]+")"};"undefined"!==typeof exports&&(exports.vec3=vec3);
var vec4={create:function(){var d=new GLMAT_ARRAY_TYPE(4);d[0]=0;d[1]=0;d[2]=0;d[3]=0;return d},clone:function(d){var a=new GLMAT_ARRAY_TYPE(4);a[0]=d[0];a[1]=d[1];a[2]=d[2];a[3]=d[3];return a},fromValues:function(d,a,c,b){var f=new GLMAT_ARRAY_TYPE(4);f[0]=d;f[1]=a;f[2]=c;f[3]=b;return f},copy:function(d,a){d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=a[3];return d},set:function(d,a,c,b,f){d[0]=a;d[1]=c;d[2]=b;d[3]=f;return d},add:function(d,a,c){d[0]=a[0]+c[0];d[1]=a[1]+c[1];d[2]=a[2]+c[2];d[3]=a[3]+c[3];
return d},subtract:function(d,a,c){d[0]=a[0]-c[0];d[1]=a[1]-c[1];d[2]=a[2]-c[2];d[3]=a[3]-c[3];return d}};vec4.sub=vec4.subtract;vec4.multiply=function(d,a,c){d[0]=a[0]*c[0];d[1]=a[1]*c[1];d[2]=a[2]*c[2];d[3]=a[3]*c[3];return d};vec4.mul=vec4.multiply;vec4.divide=function(d,a,c){d[0]=a[0]/c[0];d[1]=a[1]/c[1];d[2]=a[2]/c[2];d[3]=a[3]/c[3];return d};vec4.div=vec4.divide;vec4.min=function(d,a,c){d[0]=Math.min(a[0],c[0]);d[1]=Math.min(a[1],c[1]);d[2]=Math.min(a[2],c[2]);d[3]=Math.min(a[3],c[3]);return d};
vec4.max=function(d,a,c){d[0]=Math.max(a[0],c[0]);d[1]=Math.max(a[1],c[1]);d[2]=Math.max(a[2],c[2]);d[3]=Math.max(a[3],c[3]);return d};vec4.scale=function(d,a,c){d[0]=a[0]*c;d[1]=a[1]*c;d[2]=a[2]*c;d[3]=a[3]*c;return d};vec4.distance=function(d,a){var c=a[0]-d[0],b=a[1]-d[1],f=a[2]-d[2],e=a[3]-d[3];return Math.sqrt(c*c+b*b+f*f+e*e)};vec4.dist=vec4.distance;vec4.squaredDistance=function(d,a){var c=a[0]-d[0],b=a[1]-d[1],f=a[2]-d[2],e=a[3]-d[3];return c*c+b*b+f*f+e*e};vec4.sqrDist=vec4.squaredDistance;
vec4.length=function(d){var a=d[0],c=d[1],b=d[2];d=d[3];return Math.sqrt(a*a+c*c+b*b+d*d)};vec4.len=vec4.length;vec4.squaredLength=function(d){var a=d[0],c=d[1],b=d[2];d=d[3];return a*a+c*c+b*b+d*d};vec4.sqrLen=vec4.squaredLength;vec4.negate=function(d,a){d[0]=-a[0];d[1]=-a[1];d[2]=-a[2];d[3]=-a[3];return d};vec4.normalize=function(d,a){var c=a[0],b=a[1],f=a[2],e=a[3],c=c*c+b*b+f*f+e*e;0<c&&(c=1/Math.sqrt(c),d[0]=a[0]*c,d[1]=a[1]*c,d[2]=a[2]*c,d[3]=a[3]*c);return d};
vec4.dot=function(d,a){return d[0]*a[0]+d[1]*a[1]+d[2]*a[2]+d[3]*a[3]};vec4.lerp=function(d,a,c,b){var f=a[0],e=a[1],h=a[2];a=a[3];d[0]=f+b*(c[0]-f);d[1]=e+b*(c[1]-e);d[2]=h+b*(c[2]-h);d[3]=a+b*(c[3]-a);return d};vec4.transformMat4=function(d,a,c){var b=a[0],f=a[1],e=a[2];a=a[3];d[0]=c[0]*b+c[4]*f+c[8]*e+c[12]*a;d[1]=c[1]*b+c[5]*f+c[9]*e+c[13]*a;d[2]=c[2]*b+c[6]*f+c[10]*e+c[14]*a;d[3]=c[3]*b+c[7]*f+c[11]*e+c[15]*a;return d};
vec4.transformQuat=function(d,a,c){var b=a[0],f=a[1],e=a[2];a=c[0];var h=c[1],g=c[2];c=c[3];var k=c*b+h*e-g*f,l=c*f+g*b-a*e,m=c*e+a*f-h*b,b=-a*b-h*f-g*e;d[0]=k*c+b*-a+l*-g-m*-h;d[1]=l*c+b*-h+m*-a-k*-g;d[2]=m*c+b*-g+k*-h-l*-a;return d};vec4.forEach=function(){var d=vec4.create();return function(a,c,b,f,e,h){c||(c=4);b||(b=0);for(f=f?Math.min(f*c+b,a.length):a.length;b<f;b+=c)d[0]=a[b],d[1]=a[b+1],d[2]=a[b+2],d[3]=a[b+3],e(d,d,h),a[b]=d[0],a[b+1]=d[1],a[b+2]=d[2],a[b+3]=d[3];return a}}();
vec4.str=function(d){return"vec4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"};"undefined"!==typeof exports&&(exports.vec4=vec4);"use strict";
tv.exportTo("tv",function(){var d=vec2.create(),a=vec2.create(),c=vec4.create();mat2d.create();vec2.createFromArray=function(b){if(2!=b.length)throw Error("Should be length 2");var a=vec2.create();vec2.set(a,b[0],b[1]);return a};vec2.createXY=function(b,a){var e=vec2.create();vec2.set(e,b,a);return e};vec2.toString=function(b){return"["+b[0]+", "+b[1]+"]"};vec2.addTwoScaledUnitVectors=function(b,c,e,h,g){vec2.scale(d,c,e);vec2.scale(a,h,g);vec2.add(b,d,a)};vec3.createXYZ=function(b,a,e){var c=vec3.create();
vec3.set(c,b,a,e);return c};vec3.toString=function(b){return"vec3("+b[0]+", "+b[1]+", "+b[2]+")"};mat2d.translateXY=function(b,a,e){vec2.set(d,a,e);mat2d.translate(b,b,d)};mat2d.scaleXY=function(b,a,e){vec2.set(d,a,e);mat2d.scale(b,b,d)};vec4.unitize=function(b,a){b[0]=a[0]/a[3];b[1]=a[1]/a[3];b[2]=a[2]/a[3];b[3]=1;return b};vec2.copyFromVec4=function(b,a){vec4.unitize(c,a);vec2.copy(b,c)};return{}});"use strict";
tv.exportTo("tv",function(){function d(){this.height=this.width=this.y=this.x=0}d.fromXYWH=function(a,c,b,f){var e=new d;e.x=a;e.y=c;e.width=b;e.height=f;return e};d.fromArray=function(a){if(4!=a.length)throw Error("ary.length must be 4");var c=new d;c.x=a[0];c.y=a[1];c.width=a[2];c.height=a[3];return c};d.prototype={__proto__:Object.prototype,get left(){return this.x},get top(){return this.y},get right(){return this.x+this.width},get bottom(){return this.y+this.height},toString:function(){return"Rect("+
this.x+", "+this.y+", "+this.width+", "+this.height+")"},toArray:function(){return[this.x,this.y,this.width,this.height]},clone:function(){var a=new d;a.x=this.x;a.y=this.y;a.width=this.width;a.height=this.height;return a},enlarge:function(a){var c=new d;this.enlargeFast(c,a);return c},enlargeFast:function(a,c){a.x=this.x-c;a.y=this.y-c;a.width=this.width+2*c;a.height=this.height+2*c;return a},size:function(){return{width:this.width,height:this.height}},scale:function(a){var c=new d;this.scaleFast(c,
a);return c},scaleSize:function(a){return d.fromXYWH(this.x,this.y,this.width*a,this.height*a)},scaleFast:function(a,c){a.x=this.x*c;a.y=this.y*c;a.width=this.width*c;a.height=this.height*c;return a},translate:function(a){var c=new d;this.translateFast(c,a);return c},translateFast:function(a,c){a.x=this.x+c[0];a.y=this.x+c[1];a.width=this.width;a.height=this.height;return a},asUVRectInside:function(a){var c=new d;c.x=(this.x-a.x)/a.width;c.y=(this.y-a.y)/a.height;c.width=this.width/a.width;c.height=
this.height/a.height;return c},intersects:function(a){var c;c=1&this.x<a.right;c&=this.right>a.x;c&=this.y<a.bottom;return c&=this.bottom>a.y},equalTo:function(a){return a&&this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height}};return{Rect:d}});"use strict";
tv.exportTo("tv",function(){return{addSingletonGetter:function(d){d.getInstance=function(){return d.instance_||(d.instance_=new d)}},tracedFunction:function(d,a,c){return function(){console.time(a);try{d.apply(c,arguments)}finally{console.timeEnd(a)}}},normalizeException:function(d){return"string"==typeof d?{message:d,stack:["<unknown>"]}:{message:d.message,stack:d.stack?d.stack:["<unknown>"]}},instantiateTemplate:function(d,a){a=a||document;var c=a.querySelector(d);if(!c)throw Error("Element not found");
return c.createInstance()},stackTrace:function(){var d=Error().stack+"",d=d.split("\n");return d.slice(2)},windowRectForElement:function(d){var a=[d.offsetLeft,d.offsetTop],c=[d.offsetWidth,d.offsetHeight];for(d=d.offsetParent;d;)a[0]+=d.offsetLeft,a[1]+=d.offsetTop,d=d.offsetParent;return tv.Rect.fromXYWH(a[0],a[1],c[0],c[1])},scrollIntoViewIfNeeded:function(d){var a=d.parentElement.getBoundingClientRect(),c=d.getBoundingClientRect();c.top<a.top?d.scrollIntoView(!0):c.bottom>a.bottom&&d.scrollIntoView(!1)},
clamp:function(d,a,c){return Math.min(Math.max(d,a),c)},lerp:function(d,a,c){return a+d*(c-a)},deg2rad:function(d){return Math.PI*d/180},getUsingPath:function(d,a){for(var c=d.split("."),b=a,f;c.length&&(f=c.shift());)if(c.length)if(f in b)b=b[f];else break;else return b[f]}}});"use strict";
tv.exportTo("tv",function(){function d(){return d}function a(){return a}function c(b,a){b.storage_=a;b.get=function(a,c,f){a=b.namespace_(a,f);var d=b.storage_.getItem(a);if(null===d||void 0===d)return c;try{return JSON.parse(d).value}catch(l){return b.storage_.removeItem(b.namespace_(a,f)),c}};b.set=function(a,c,f){if(void 0===c)throw Error("Settings.set: value must not be undefined");c=JSON.stringify({value:c});b.storage_.setItem(b.namespace_(a,f),c)};b.keys=function(a){var c=[];a=a||"";for(var f=
0;f<b.storage_.length;f++){var d=b.storage_.key(f);b.isnamespaced_(d,a)&&c.push(b.unnamespace_(d,a))}return c};b.isnamespaced_=function(a,c){return 0==a.indexOf(b.normalize_(c))};b.namespace_=function(a,c){return b.normalize_(c)+a};b.unnamespace_=function(a,c){return a.replace(b.normalize_(c),"")};b.normalize_=function(a){return b.NAMESPACE+(a?a+".":"")};b.setAlternativeStorageInstance=function(a){b.storage_=a};b.getAlternativeStorageInstance=function(){return b.storage_===localStorage?void 0:b.storage_};
b.NAMESPACE="trace-viewer"}document.head.addEventListener("tv-unittest-will-run",function(){d.setAlternativeStorageInstance(global.sessionStorage)});c(d,localStorage);c(a,sessionStorage);return{Settings:d,SessionSettings:a}});"use strict";
tv.exportTo("tv.ui",function(){function d(b){var a=document.createElement("span");b&&(b.className&&(a.className=b.className),b.textContent&&(a.textContent=b.textContent),b.parent&&b.parent.appendChild(a),b.bold&&(a.style.fontWeight="bold"));return a}function a(b,a){return b instanceof Array&&a instanceof Array?b.length===a.length&&JSON.stringify(b)===JSON.stringify(a):b===a}function c(b,a){var c=d({className:"edit-categories"});c.textContent="Edit categories";c.classList.add("labeled-option");c.addEventListener("click",
function(){a.onClickEditCategories()});return c}var b=1;return{createSpan:d,createDiv:function(b){var a=document.createElement("div");b&&(b.className&&(a.className=b.className),b.parent&&b.parent.appendChild(a));return a},createScopedStyle:function(b){var a=document.createElement("style");a.scoped=!0;a.innerHTML=b;return a},createSelector:function(b,c,h,d,k,l){function m(a){a=r.selectedOptions[0].targetPropertyValue;tv.Settings.set(h,a,l);b[c]=a}for(var n,p=0;p<k.length;p++){var q=k[p];if(a(q.value,
d)){n=p;break}}if(void 0===n)throw Error("defaultValue must be in the items list");var r=document.createElement("select");r.addEventListener("change",m);for(p=0;p<k.length;p++){var q=k[p],t=document.createElement("option");t.textContent=q.label;t.targetPropertyValue=q.value;r.appendChild(t)}b.__lookupSetter__("selectedIndex");r.__defineGetter__("selectedValue",function(b){return r.children[r.selectedIndex].targetPropertyValue});r.__defineSetter__("selectedValue",function(b){for(var c=0;c<r.children.length;c++)if(a(r.children[c].targetPropertyValue,
b)){r.selectedIndex!=c&&(r.selectedIndex=c,m());return}throw Error("Not a valid value");});k=tv.Settings.get(h,d,l);q=!1;for(p=0;p<r.children.length;p++)if(a(r.children[p].targetPropertyValue,k)){q=!0;b[c]=k;r.selectedIndex=p;break}q||(r.selectedIndex=n,b[c]=d);return r},createOptionGroup:function(b,e,h,g,k){function l(){var a=[];this.value.length&&(a=this.value.split(","));tv.Settings.set(h,a);b[e]=a}var m=d({className:"labeled-option-group"});g=tv.Settings.get(h,g);for(var n=0;n<k.length;++n){var p=
k[n],q="category-preset-"+n,r=document.createElement("input");r.type="radio";r.setAttribute("id",q);r.setAttribute("name","category-presets-group");r.setAttribute("value",p.value);r.addEventListener("change",l.bind(r,b,e,h));a(g,p.value)&&(r.checked=!0);var t=document.createElement("label");t.textContent=p.label;t.setAttribute("for",q);p=d({className:"labeled-option"});p.appendChild(r);p.appendChild(t);p.__defineSetter__("checked",function(b){r.checked!==!!b&&(r.checked=!!b,l())});p.__defineGetter__("checked",
function(){return r.checked});m.appendChild(p)}m.appendChild(c(m,b));g.length||m.classList.add("categories-expanded");b[e]=g;return m},createCheckBox:function(a,c,h,g,k){function l(){tv.Settings.set(h,m.checked);a&&(a[c]=m.checked)}var m=document.createElement("input");m.type="checkbox";g=tv.Settings.get(h,g);m.checked=!!g;a&&(a[c]=g);m.addEventListener("change",l);g="#checkbox-"+b++;var n=d({className:"labeled-checkbox"});m.setAttribute("id",g);var p=document.createElement("label");p.textContent=
k;p.setAttribute("for",g);n.appendChild(m);n.appendChild(p);n.__defineSetter__("checked",function(b){m.checked!==!!b&&(m.checked=!!b,l())});n.__defineGetter__("checked",function(){return m.checked});return n},isElementAttachedToDocument:function(b){for(var a=b;a.parentNode;)a=a.parentNode;return a==b.ownerDocument}}});"use strict";
tv.exportTo("tv",function(){function d(){}d.prototype={addEventListener:function(a,b){this.listeners_||(this.listeners_=Object.create(null));if(a in this.listeners_){var f=this.listeners_[a];0>f.indexOf(b)&&f.push(b)}else this.listeners_[a]=[b]},removeEventListener:function(a,b){if(this.listeners_&&a in this.listeners_){var f=this.listeners_[a],e=f.indexOf(b);0<=e&&(1==f.length?delete this.listeners_[a]:f.splice(e,1))}},dispatchEvent:function(a){if(!this.listeners_)return!0;var b=this;a.__defineGetter__("target",
function(){return b});var f=a.preventDefault;a.preventDefault=function(){f.call(this);this.rawReturnValue=!1};var e=a.type,h=0;if(e in this.listeners_)for(var e=this.listeners_[e].concat(),d=0,k;k=e[d];d++)h=k.handleEvent?h|!1===k.handleEvent.call(k,a):h|!1===k.call(this,a);return!h&&a.rawReturnValue},hasEventListener:function(a){return void 0!==this.listeners_[a]}};var a={decorate:function(c){for(var b in a)if("decorate"!=b){var f=a[b];"function"===typeof f&&(c[b]=f)}c.listenerCounts_={}},addEventListener:function(a,
b,f){this.__proto__.addEventListener.call(this,a,b,f);void 0===this.listenerCounts_[a]&&(this.listenerCounts_[a]=0);this.listenerCounts_[a]++},removeEventListener:function(a,b,f){this.__proto__.removeEventListener.call(this,a,b,f);this.listenerCounts_[a]--},hasEventListener:function(a){return 0<this.listenerCounts_[a]}};return{EventTarget:d,EventTargetHelper:a}});"use strict";
tv.exportTo("tv",function(){function d(a,c,b){var f=tv.doc.createEvent("Event");f.initEvent(a,!!c,!!b);f.__proto__=global.Event.prototype;return f}d.prototype={__proto__:global.Event.prototype};return{Event:d,dispatchSimpleEvent:function(a,c,b,f){c=new d(c,b,f);return a.dispatchEvent(c)}}});"use strict";
tv.exportTo("tv",function(){function d(b,a,c,f,d,m){d=new tv.Event(a+"Change",d,m);d.propertyName=a;d.newValue=c;d.oldValue=f;var n;d.throwError=function(b){n=b};b.dispatchEvent(d);if(n)throw n;}function a(b){return b.replace(/([A-Z])/g,"-$1").toLowerCase()}function c(b,c){switch(c){case f.JS:var d=b+"_tv_";return function(){return this[d]};case f.ATTR:var k=a(b);return function(){return this.getAttribute(k)};case f.BOOL_ATTR:return k=a(b),function(){return this.hasAttribute(k)}}}function b(b,c,g,
k,l){switch(c){case f.JS:var m=b+"_tv_";return function(a){var c=this[m];a!==c&&(this[m]=a,g&&g.call(this,a,c),d(this,b,a,c,k,l))};case f.ATTR:var n=a(b);return function(a){var c=this.getAttribute(n);a!==c&&(void 0==a?this.removeAttribute(n):this.setAttribute(n,a),g&&g.call(this,a,c),d(this,b,a,c,k,l))};case f.BOOL_ATTR:return n=a(b),function(a){var c=this.getAttribute(n)===b;a!==c&&(a?this.setAttribute(n,b):this.removeAttribute(n),g&&g.call(this,a,c),d(this,b,a,c,k,l))}}}var f={JS:"js",ATTR:"attr",
BOOL_ATTR:"boolAttr"};return{PropertyKind:f,defineProperty:function(a,d,g,k,l,m){console.error("Don't use tv.defineProperty");"function"==typeof a&&(a=a.prototype);g=g||f.JS;a.__lookupGetter__(d)||a.__defineGetter__(d,c(d,g));a.__lookupSetter__(d)||a.__defineSetter__(d,b(d,g,k,l,m))},dispatchPropertyChange:d,setPropertyAndDispatchChange:function(b,a,c){var f=b[a];b[a+"_"]=c;f!==c&&tv.dispatchPropertyChange(b,a,c,f,!0,!1)}}});"use strict";
tv.exportTo("tv.ui",function(){var d=document.currentScript.ownerDocument,a=tv.ui.define("overlay");a.prototype={__proto__:HTMLDivElement.prototype,decorate:function(){this.classList.add("overlay");this.parentEl_=this.ownerDocument.body;this.visible_=!1;this.userCanClose_=!0;this.onKeyDown_=this.onKeyDown_.bind(this);this.onClick_=this.onClick_.bind(this);this.onFocusIn_=this.onFocusIn_.bind(this);this.onDocumentClick_=this.onDocumentClick_.bind(this);this.onClose_=this.onClose_.bind(this);this.addEventListener("visibleChange",
tv.ui.Overlay.prototype.onVisibleChange_.bind(this),!0);this.shadow_=(this.createShadowRoot||this.webkitCreateShadowRoot).call(this);this.shadow_.appendChild(tv.instantiateTemplate("#overlay-template",d));this.closeBtn_=this.shadow_.querySelector("close-button");this.closeBtn_.addEventListener("click",this.onClose_);this.shadow_.querySelector("overlay-frame").addEventListener("click",this.onClick_);this.observer_=new WebKitMutationObserver(this.didButtonBarMutate_.bind(this));this.observer_.observe(this.shadow_.querySelector("button-bar"),
{childList:!0});Object.defineProperty(this,"title",{get:function(){return this.shadow_.querySelector("title").textContent},set:function(a){this.shadow_.querySelector("title").textContent=a}})},set userCanClose(a){this.userCanClose_=a;this.closeBtn_.style.display=a?"block":"none"},get buttons(){return this.shadow_.querySelector("button-bar")},get visible(){return this.visible_},set visible(a){this.visible_!==a&&tv.setPropertyAndDispatchChange(this,"visible",a)},onVisibleChange_:function(){this.visible_?
this.show_():this.hide_()},show_:function(){this.parentEl_.appendChild(this);this.userCanClose_&&(this.addEventListener("keydown",this.onKeyDown_.bind(this)),this.addEventListener("click",this.onDocumentClick_.bind(this)));this.parentEl_.addEventListener("focusin",this.onFocusIn_);this.tabIndex=0;var a=void 0,b=this.querySelectorAll("button, input, list, select, a");0<b.length&&(b[0]===this.closeBtn_?1<b.length&&(a=b[1]):a=b[0]);void 0===a&&(a=this);a.focus()},hide_:function(){this.parentEl_.removeChild(this);
this.parentEl_.removeEventListener("focusin",this.onFocusIn_);this.closeBtn_&&this.closeBtn_.removeEventListener(this.onClose_);document.removeEventListener("keydown",this.onKeyDown_);document.removeEventListener("click",this.onDocumentClick_)},onClose_:function(a){this.visible=!1;("keydown"!=a.type||"keydown"===a.type&&27===a.keyCode)&&a.stopPropagation();a.preventDefault();tv.dispatchSimpleEvent(this,"closeclick")},onFocusIn_:function(a){a.target!==this&&(window.setTimeout(function(){this.focus()},
0),a.preventDefault(),a.stopPropagation())},didButtonBarMutate_:function(a){0<this.buttons.children.length?this.shadow_.querySelector("button-bar").style.display=void 0:this.shadow_.querySelector("button-bar").style.display="none"},onKeyDown_:function(a){if(9===a.keyCode&&a.shiftKey&&a.target===this)a.preventDefault();else if(27===a.keyCode)this.onClose_(a)},onClick_:function(a){a.stopPropagation()},onDocumentClick_:function(a){if(this.userCanClose_)this.onClose_(a)}};a.showError=function(c,b){var f=
new a;f.title="Error";f.textContent=c;if(b){var e=tv.normalizeException(b),d=document.createElement("pre");d.textContent=e.stack;d.style.paddingLeft="8px";d.style.margin=0;f.appendChild(d)}e=document.createElement("button");e.textContent="OK";e.addEventListener("click",function(){f.visible=!1});f.buttons.appendChild(e);f.visible=!0;return f};return{Overlay:a}});"use strict";
tv.exportTo("tv.ui",function(){var d=tv.ui.define("x-drag-handle");d.prototype={__proto__:HTMLDivElement.prototype,decorate:function(){this.lastMousePos_=0;this.onMouseMove_=this.onMouseMove_.bind(this);this.onMouseUp_=this.onMouseUp_.bind(this);this.addEventListener("mousedown",this.onMouseDown_);this.target_=void 0;this.horizontal=!0;this.observer_=new WebKitMutationObserver(this.didTargetMutate_.bind(this));this.targetSizesByModeKey_={}},get modeKey_(){return""==this.target_.className?".":this.target_.className},
get target(){return this.target_},set target(a){this.observer_.disconnect();(this.target_=a)&&this.observer_.observe(this.target_,{attributes:!0,attributeFilter:["class"]})},get horizontal(){return this.horizontal_},set horizontal(a){this.className=(this.horizontal_=a)?"horizontal-drag-handle":"vertical-drag-handle"},get vertical(){return!this.horizontal_},set vertical(a){this.horizontal=!a},forceMutationObserverFlush_:function(){var a=this.observer_.takeRecords();a.length&&this.didTargetMutate_(a)},
didTargetMutate_:function(a){a=this.targetSizesByModeKey_[this.modeKey_];void 0!==a?this.setTargetSize_(a):this.target_.style[this.targetStyleKey_]=""},get targetStyleKey_(){return this.horizontal_?"height":"width"},getTargetSize_:function(){var a=this.targetStyleKey_;this.target_.style[a]||(this.target_.style[a]=window.getComputedStyle(this.target_)[a]);a=parseInt(this.target_.style[a]);return this.targetSizesByModeKey_[this.modeKey_]=a},setTargetSize_:function(a){this.target_.style[this.targetStyleKey_]=
a+"px";this.targetSizesByModeKey_[this.modeKey_]=a},applyDelta_:function(a){var c=this.getTargetSize_();this.setTargetSize_(this.target_===this.nextElementSibling?c+a:c-a)},onMouseMove_:function(a){var c=this.horizontal_?a.clientY:a.clientX;this.applyDelta_(this.lastMousePos_-c);this.lastMousePos_=c;a.preventDefault();return!0},onMouseDown_:function(a){if(this.target_)return this.forceMutationObserverFlush_(),this.lastMousePos_=this.horizontal_?a.clientY:a.clientX,document.addEventListener("mousemove",
this.onMouseMove_),document.addEventListener("mouseup",this.onMouseUp_),a.preventDefault(),!0},onMouseUp_:function(a){document.removeEventListener("mousemove",this.onMouseMove_);document.removeEventListener("mouseup",this.onMouseUp_);a.preventDefault()}};return{DragHandle:d}});"use strict";tv.exportTo("tracing.analysis",function(){return{tsRound:function(d){return Math.round(1E3*d)/1E3}}});"use strict";tv.exportTo("tv",function(){var d=1;return{GUID:{allocate:function(){return d++}}}});"use strict";
tv.exportTo("tv",function(){function d(){this.isEmpty_=!0;this.max_=this.min_=void 0}d.prototype={__proto__:Object.prototype,reset:function(){this.isEmpty_=!0;this.max_=this.min_=void 0},get isEmpty(){return this.isEmpty_},addRange:function(a){a.isEmpty||(this.addValue(a.min),this.addValue(a.max))},addValue:function(a){this.isEmpty_?(this.min_=this.max_=a,this.isEmpty_=!1):(this.max_=Math.max(this.max_,a),this.min_=Math.min(this.min_,a))},set min(a){this.isEmpty_=!1;this.min_=a},get min(){return this.isEmpty_?
void 0:this.min_},get max(){return this.isEmpty_?void 0:this.max_},set max(a){this.isEmpty_=!1;this.max_=a},get range(){return this.isEmpty_?void 0:this.max_-this.min_},get center(){return 0.5*(this.min_+this.max_)},equals:function(a){return this.isEmpty&&a.isEmpty?!0:this.isEmpty!=a.isEmpty?!1:this.min===a.min&&this.max===a.max},containsRange:function(a){return this.isEmpty||a.isEmpty?!1:this.min<=a.min&&this.max>=a.max},containsExplicitRange:function(a,c){return this.isEmpty?!1:this.min<=a&&this.max>=
c},intersectsRange:function(a){return this.isEmpty||a.isEmpty?!1:!(a.max<this.min||a.min>this.max)},intersectsExplicitRange:function(a,c){return this.isEmpty?!1:!(c<this.min||a>this.max)}};d.compareByMinTimes=function(a,c){return!a.isEmpty&&!c.isEmpty?a.min_-c.min_:a.isEmpty&&!c.isEmpty?-1:!a.isEmpty&&c.isEmpty?1:0};return{Range:d}});"use strict";
tv.exportTo("tv",function(){function d(b,a){return void 0===b?a:void 0===a?b:Math.max(b,a)}function a(b,a){this.beginPositionCb_=b;this.endPositionCb_=a;this.root_=void 0;this.size_=0}function c(a,c,d,g){this.lowValue_=d;this.data_=[{start:a,end:c,high:g,low:d}];this.colour_=b.RED;this.maxHighRight_=this.maxHighLeft_=this.rightNode_=this.leftNode_=this.parentNode_=void 0}a.prototype={insert:function(a,e){var d=this.beginPositionCb_(a),g=this.endPositionCb_(e||a),d=new c(a,e||a,d,g);this.size_++;this.root_=
this.insertNode_(this.root_,d);this.root_.colour=b.BLACK},insertNode_:function(b,a){if(void 0===b)return a;b.leftNode&&(b.leftNode.isRed&&b.rightNode&&b.rightNode.isRed)&&this.flipNodeColour_(b);a.key<b.key?b.leftNode=this.insertNode_(b.leftNode,a):a.key===b.key?b.merge(a):b.rightNode=this.insertNode_(b.rightNode,a);if(b.rightNode&&b.rightNode.isRed&&(void 0===b.leftNode||!b.leftNode.isRed))b=this.rotateLeft_(b);b.leftNode&&(b.leftNode.isRed&&b.leftNode.leftNode&&b.leftNode.leftNode.isRed)&&(b=this.rotateRight_(b));
return b},rotateRight_:function(a){var c=a.leftNode;a.leftNode=c.rightNode;c.rightNode=a;c.colour=a.colour;a.colour=b.RED;return c},rotateLeft_:function(a){var c=a.rightNode;a.rightNode=c.leftNode;c.leftNode=a;c.colour=a.colour;a.colour=b.RED;return c},flipNodeColour_:function(b){b.colour=this.flipColour_(b.colour);b.leftNode.colour=this.flipColour_(b.leftNode.colour);b.rightNode.colour=this.flipColour_(b.rightNode.colour)},flipColour_:function(a){return a===b.RED?b.BLACK:b.RED},updateHighValues:function(){this.updateHighValues_(this.root_)},
updateHighValues_:function(b){if(void 0!==b)return b.maxHighLeft=this.updateHighValues_(b.leftNode),b.maxHighRight=this.updateHighValues_(b.rightNode),d(d(b.maxHighLeft,b.highValue),b.maxHighRight)},findIntersection:function(b,a){if(void 0===b||void 0===a)throw Error("lowValue and highValue must be defined");if("number"!==typeof b||"number"!==typeof a)throw Error("lowValue and highValue must be numbers");return void 0===this.root_?[]:this.findIntersection_(this.root_,b,a)},findIntersection_:function(b,
a,c){var d=[];if(b.lowValue>=c)return!b.hasLeftNode?[]:this.findIntersection_(b.leftNode,a,c);b.maxHighLeft>a&&(d=d.concat(this.findIntersection_(b.leftNode,a,c)));if(b.highValue>a)for(var k=b.data.length-1;0<=k&&!(b.data[k].high<a);--k)d.unshift([b.data[k].start,b.data[k].end]);b.hasRightNode&&(d=d.concat(this.findIntersection_(b.rightNode,a,c)));return d},get size(){return this.size_},get root(){return this.root_},dump_:function(){return void 0===this.root_?[]:this.dumpNode_(this.root_)},dumpNode_:function(b){var a=
{};b.hasLeftNode&&(a.left=this.dumpNode_(b.leftNode));a.node=b.dump();b.hasRightNode&&(a.right=this.dumpNode_(b.rightNode));return a}};var b={RED:"red",BLACK:"black"};c.prototype={get colour(){return this.colour_},set colour(b){this.colour_=b},get key(){return this.lowValue_},get lowValue(){return this.lowValue_},get highValue(){return this.data_[this.data_.length-1].high},set leftNode(b){this.leftNode_=b},get leftNode(){return this.leftNode_},get hasLeftNode(){return void 0!==this.leftNode_},set rightNode(b){this.rightNode_=
b},get rightNode(){return this.rightNode_},get hasRightNode(){return void 0!==this.rightNode_},set parentNode(b){this.parentNode_=b},get parentNode(){return this.parentNode_},get isRootNode(){return void 0===this.parentNode_},set maxHighLeft(b){this.maxHighLeft_=b},get maxHighLeft(){return this.maxHighLeft_},set maxHighRight(b){this.maxHighRight_=b},get maxHighRight(){return this.maxHighRight_},get data(){return this.data_},get isRed(){return this.colour_===b.RED},merge:function(b){this.data_=this.data_.concat(b.data);
this.data_.sort(function(b,a){return b.high-a.high})},dump:function(){return 1===this.data_.length?[this.data_[0].low,this.data[0].high]:this.data_.map(function(b){return[b.low,b.high]})}};return{IntervalTree:a}});"use strict";
tv.exportTo("tracing",function(){function d(){}function a(b){this.text_=b.toLowerCase();if(!b.length)throw Error("Filter text is empty.");}function c(b){this.text_=b;if(!b.length)throw Error("Filter text is empty.");}d.prototype={__proto__:Object.prototype,matchCounter:function(b){return!0},matchCpu:function(b){return!0},matchProcess:function(b){return!0},matchSlice:function(b){return!0},matchThread:function(b){return!0}};a.prototype={__proto__:d.prototype,matchSlice:function(b){return void 0===b.title?
!1:-1!==b.title.toLowerCase().indexOf(this.text_)}};c.prototype={__proto__:d.prototype,matchSlice:function(b){return b.title===this.text_}};return{TitleFilter:a,ExactTitleFilter:c}});"use strict";
tv.exportTo("tracing.importer",function(){function d(){}d.prototype={__proto__:Object.prototype,isTraceDataContainer:function(){return!1},extractSubtraces:function(){return[]},importEvents:function(){},importSampleData:function(){},finalizeImport:function(){},joinRefs:function(){}};d.importers_=[];d.register=function(a,c){if(void 0!==d.indexOfImporter_(a))throw Error("Handler already registered for "+a);d.importers_.push({constructor:a,options:c||{}})};d.indexOfImporter_=function(a){for(var c=0;c<
d.importers_.length;c++)if(d.importers_[c].constructor==a)return c};d.unregister=function(a){a=d.indexOfImporter_(a);if(void 0===a)throw Error(typeName+" not registered");d.importers_.splice(a,1)};d.findImporterFor=function(a){for(var c=0;c<d.importers_.length;++c)if(d.importers_[c].constructor.canImport(a))return d.importers_[c].constructor};return{Importer:d}});"use strict";
tv.exportTo("tracing.importer",function(){function d(a){this.importPriority=0}var a=tracing.importer.Importer;d.canImport=function(a){return a instanceof Array&&0==a.length?!0:"string"===typeof a||a instanceof String?0==a.length:!1};d.prototype={__proto__:a.prototype};a.register(d);return{EmptyImporter:d}});"use strict";
tv.exportTo("tv",function(){function d(){if(!m)if(m=!0,window.requestAnimationFrame)window.requestAnimationFrame(c);else{var b=Date.now()-window.performance.now();window.webkitRequestAnimationFrame(function(a){c(a-b)})}}function a(b,a){try{b.callback.call(b.context,a)}catch(c){tv.onAnimationFrameError(c,b.stack)}}function c(b){var c=b+10;m=!1;var e=h;l=g;h=[];g=[];for(var f=e.length||l.length,t=0;t<e.length;t++)a(e[t],b);for(;0<l.length;)a(l.shift(),b);l=void 0;if(!f)for(;0<k.length&&!(a(k.shift()),
window.performance.now()>=c););0<k.length&&d()}function b(){if(!e)return"";var b=tv.stackTrace();b.shift();return b.join("\n")}function f(a,c){g.push({callback:a,context:c||window,stack:b()});d()}var e=!1,h=[],g=[],k=[],l=void 0,m=!1;return{onAnimationFrameError:function(b,a){a&&console.log(a);b.message?console.error(b.message,b.stack):console.error(b)},requestPreAnimationFrame:function(a,c){h.push({callback:a,context:c||window,stack:b()});d()},requestAnimationFrame:f,requestAnimationFrameInThisFrameIfPossible:function(a,
c){l?l.push({callback:a,context:c||window,stack:b()}):f(a,c)},requestIdleCallback:function(a,c){k.push({callback:a,context:c||window,stack:b()});d()},forcePendingRAFTasksToRun:function(b){m&&c(b)}}});"use strict";
tv.exportTo("tracing.importer",function(){function d(a,c){if(void 0===c)throw Error("Almost certainly, you meant to pass a thisArg.");this.runCb_=a;this.thisArg_=c;this.afterTask_=void 0;this.subTasks_=[]}d.prototype={subTask:function(a,c){a instanceof d?this.subTasks_.push(a):this.subTasks_.push(new d(a,c));return this.subTasks_[this.subTasks_.length-1]},run:function(){this.runCb_.call(this.thisArg_,this);var a=this.subTasks_;this.subTasks_=void 0;if(!a.length)return this.afterTask_;for(var c=1;c<
a.length;c++)a[c-1].afterTask_=a[c];a[a.length-1].afterTask_=this.afterTask_;return a[0]},after:function(a,c){if(this.afterTask_)throw Error("Has an after task already");return this.afterTask_=a instanceof d?a:new d(a,c)}};d.RunSynchronously=function(a){for(;a;)a=a.run()};d.RunWhenIdle=function(a){return new Promise(function(c,b){function f(){try{e=e.run()}catch(a){b(a);console.error(a.stack);return}e?tv.requestIdleCallback(f):c()}var e=a;tv.requestIdleCallback(f)})};return{Task:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(){this.guid_=tv.GUID.allocate();this.selectionState=a.NONE}var a={NONE:0,SELECTED:1,HIGHLIGHTED:2,DIMMED:3},c={};d.prototype={get guid(){return this.guid_},get selected(){return this.selectionState===a.SELECTED}};d.decorateSubtype=function(b){if(void 0!==b.register||void 0!==b.unregister||void 0!==b.getConstructor)throw Error("Already decorated: "+b);b.categoryToConstructorMap_={};b.nameToConstructorMap_={};b.register=function(a,c){if(b.nameToConstructorMap_[a])throw Error("Constructor already registered for "+
a);b.nameToConstructorMap_[a]=c};b.unregister=function(a){delete b.nameToConstructorMap_[a]};b.registerCategory=function(a,c){if(b.categoryToConstructorMap_[a])throw Error("Constructor already registered for "+a);b.categoryToConstructorMap_[a]=c};b.unregisterCategory=function(a,c){delete b.categoryToConstructorMap_[a]};b.getConstructor=function(a,e){var d;d=c[a];void 0===d&&(d=a.split(","),c[a]=d);for(var g=0;g<d.length;g++){var k=d[g];if(b.categoryToConstructorMap_[k])return b.categoryToConstructorMap_[k]}return b.nameToConstructorMap_[e]?
b.nameToConstructorMap_[e]:b}};return{Event:d,SelectionState:a}});"use strict";tv.exportTo("tracing.trace_model",function(){function d(a){tracing.trace_model.Event.call(this);this.start=a;this.duration=0}d.prototype={__proto__:tracing.trace_model.Event.prototype,get end(){return this.start+this.duration},addBoundsToRange:function(a){a.addValue(this.start);a.addValue(this.end)},bounds:function(a){var c=Math.round(1E3*this.end),b=Math.round(1E3*a.end);return this.start<=a.start&&c>=b}};return{TimedEvent:d}});
"use strict";tv.exportTo("tracing.trace_model",function(){function d(a,c,b,f,e,d,g,k){tracing.trace_model.TimedEvent.call(this,f);this.category=a||"";this.title=c;this.colorId=b;this.args=e;this.didNotFinish=!1;void 0!==d&&(this.duration=d);void 0!==g&&(this.cpuStart=g);void 0!==k&&(this.cpuDuration=k)}d.prototype={__proto__:tracing.trace_model.TimedEvent.prototype,get analysisTypeName(){return this.title}};return{Slice:d}});"use strict";
tv.exportTo("tv",function(){function d(a,b,f){if(0==a.length)return 1;for(var e=0,d=a.length-1,g,k,l=-1;e<=d;)g=Math.floor((e+d)/2),k=b(a[g])-f,0>k?e=g+1:(0<k||(l=g),d=g-1);return-1!=l?l:e}function a(a,b,f,e,h,g){if(0!=a.length&&!(e>h)){var k=d(a,b,e);if(-1!=k&&(0<k&&b(a[k-1])+f(a[k-1],k-1)>=e&&g(a[k-1]),k!=a.length))for(f=a.length;k<f&&!(b(a[k])>=h);k++)g(a[k])}}return{findLowIndexInSortedArray:d,findLowIndexInSortedIntervals:function(a,b,f,e){var h=d(a,b,e);return 0==h?e>=b(a[0])&&e<b(a[0])+f(a[0],
0)?0:-1:h<a.length?e>=b(a[h])&&e<b(a[h])+f(a[h],h)?h:e>=b(a[h-1])&&e<b(a[h-1])+f(a[h-1],h-1)?h-1:a.length:h==a.length?e>=b(a[h-1])&&e<b(a[h-1])+f(a[h-1],h-1)?h-1:a.length:a.length},iterateOverIntersectingIntervals:a,getIntersectingIntervals:function(c,b,f,e,d){var g=[];a(c,b,f,e,d,function(b){g.push(b)});return g},findClosestElementInSortedArray:function(a,b,f,e){if(0===a.length)return null;var h=d(a,b,f),g=0<h?h-1:0;h===a.length&&(h-=1);var k=Math.abs(f-b(a[g]));b=Math.abs(f-b(a[h]));return k>e&&
b>e?null:a[k<b?g:h]},findClosestIntervalInSortedIntervals:function(a,b,f,e,h){if(0===a.length)return null;var g=d(a,b,e);0<g&&(g-=1);var k=a[g],l=k;e>f(k)&&g+1<a.length&&(l=a[g+1]);a=Math.abs(e-b(l));f=Math.abs(e-f(k));return a>h&&f>h?null:a<f?l:k}}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,c,b){tracing.trace_model.Event.call(this);this.series_=a;this.timestamp_=c;this.value_=b}d.groupByTimestamp=function(a){for(var c={},b=0;b<a.length;b++){var f=a[b],e=f.timestamp;c[e]||(c[e]=[]);c[e].push(f)}a=tv.dictionaryKeys(c);a.sort();f=[];for(b=0;b<a.length;b++)e=a[b],e=c[e],e.sort(function(b,a){return b.series.seriesIndex-a.series.seriesIndex}),f.push(e);return f};d.prototype={__proto__:tracing.trace_model.Event.prototype,get series(){return this.series_},
get timestamp(){return this.timestamp_},get value(){return this.value_},set timestamp(a){this.timestamp_=a},addBoundsToRange:function(a){a.addValue(this.timestamp)},toJSON:function(){for(var a={},c=Object.keys(this),b=0;b<c.length;b++){var f=c[b];"function"!=typeof this[f]&&(a[f]="series_"==f?this[f].guid:this[f])}return a},getSampleIndex:function(){return tv.findLowIndexInSortedArray(this.series.timestamps,function(a){return a},this.timestamp_)}};return{CounterSample:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,b){this.guid_=tv.GUID.allocate();this.name_=a;this.color_=b;this.timestamps_=[];this.samples_=[];this.seriesIndex=this.counter=void 0}var a=tracing.trace_model.CounterSample;d.prototype={__proto__:Object.prototype,toJSON:function(){for(var a={},b=Object.keys(this),f=0;f<b.length;f++){var e=b[f];"function"!=typeof this[e]&&(a[e]="counter"==e?this[e].guid:this[e])}return a},get length(){return this.timestamps_.length},get name(){return this.name_},
get color(){return this.color_},get samples(){return this.samples_},get timestamps(){return this.timestamps_},getSample:function(a){return this.samples_[a]},getTimestamp:function(a){return this.timestamps_[a]},addCounterSample:function(c,b){this.timestamps_.push(c);var f=new a(this,c,b);this.samples_.push(f);return f},getStatistics:function(a){for(var b=0,f=Number.MAX_VALUE,e=-Number.MAX_VALUE,d=0;d<a.length;++d)var g=this.getSample(a[d]).value,b=b+g,f=Math.min(g,f),e=Math.max(g,e);return{min:f,max:e,
avg:b/a.length,start:this.getSample(a[0]).value,end:this.getSample(a.length-1).value}},shiftTimestampsForward:function(a){for(var b=0;b<this.timestamps_.length;++b)this.timestamps_[b]+=a,this.samples_[b].timestamp=this.timestamps_[b]},iterateAllEvents:function(a,b){this.samples_.forEach(a,b)}};return{CounterSeries:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,c,b,f){this.guid_=tv.GUID.allocate();this.parent=a;this.id=c;this.category=b||"";this.name=f;this.series_=[];this.totals=[];this.bounds=new tv.Range}d.prototype={__proto__:Object.prototype,get guid(){return this.guid_},toJSON:function(){for(var a={},c=Object.keys(this),b=0;b<c.length;b++){var f=c[b];"function"!=typeof this[f]&&(a[f]="parent"==f?this[f].guid:this[f])}return a},set timestamps(a){throw Error("Bad counter API. No cookie.");},set seriesNames(a){throw Error("Bad counter API. No cookie.");
},set seriesColors(a){throw Error("Bad counter API. No cookie.");},set samples(a){throw Error("Bad counter API. No cookie.");},addSeries:function(a){a.counter=this;a.seriesIndex=this.series_.length;this.series_.push(a);return a},getSeries:function(a){return this.series_[a]},get series(){return this.series_},get numSeries(){return this.series_.length},get numSamples(){return 0===this.series_.length?0:this.series_[0].length},get timestamps(){return 0===this.series_.length?[]:this.series_[0].timestamps},
getSampleStatistics:function(a){a.sort();var c=[];this.series_.forEach(function(b){c.push(b.getStatistics(a))});return c},shiftTimestampsForward:function(a){for(var c=0;c<this.series_.length;++c)this.series_[c].shiftTimestampsForward(a)},updateBounds:function(){this.totals=[];this.maxTotal=0;this.bounds.reset();if(0!==this.series_.length){var a=this.series_[0],c=this.series_[this.series_.length-1];this.bounds.addValue(a.getTimestamp(0));this.bounds.addValue(c.getTimestamp(c.length-1));this.maxTotal=
-Infinity;for(var b=0;b<a.length;++b){var f=0;this.series_.forEach(function(a){f+=a.getSample(b).value;this.totals.push(f)}.bind(this));this.maxTotal=Math.max(f,this.maxTotal)}}},iterateAllEvents:function(a,c){for(var b=0;b<this.series_.length;b++)this.series_[b].iterateAllEvents(a,c)}};d.compare=function(a,c){var b=a.parent.compareTo(c);if(0!=b)return b;b=a.name.localeCompare(c.name);return 0==b?a.tid-c.tid:b};return{Counter:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(b,a,c,d,l,m){f.apply(this,arguments);this.cpu=this.threadThatWasRunning=void 0}function a(b,a,c,d,l,m,n){f.call(this,a,c,d,l,m,n);this.thread=b;this.cpuOnWhichThreadWasRunning=void 0}function c(b,a){if(void 0===b||void 0===a)throw Error("Missing arguments");this.kernel=b;this.cpuNumber=a;this.slices=[];this.counters={};this.bounds=new tv.Range;this.lastActiveArgs_=this.lastActiveName_=this.lastActiveThread_=this.lastActiveTimestamp_=this.samples_=
void 0}var b=tracing.trace_model.Counter,f=tracing.trace_model.Slice;d.prototype={__proto__:f.prototype,get analysisTypeName(){return"tracing.analysis.CpuSlice"},toJSON:function(){for(var b={},a=Object.keys(this),c=0;c<a.length;c++){var f=a[c];"function"!=typeof this[f]&&("cpu"==f||"threadThatWasRunning"==f?this[f]&&(b[f]=this[f].guid):b[f]=this[f])}return b},getAssociatedTimeslice:function(){if(this.threadThatWasRunning)for(var b=this.threadThatWasRunning.timeSlices,a=0;a<b.length;a++){var c=b[a];
if(c.start===this.start&&c.duration===this.duration)return c}}};a.prototype={__proto__:f.prototype,get analysisTypeName(){return"tracing.analysis.ThreadTimeSlice"},toJSON:function(){for(var b={},a=Object.keys(this),c=0;c<a.length;c++){var f=a[c];"function"!=typeof this[f]&&("thread"==f||"cpuOnWhichThreadWasRunning"==f?this[f]&&(b[f]=this[f].guid):b[f]=this[f])}return b},getAssociatedCpuSlice:function(){if(this.cpuOnWhichThreadWasRunning)for(var b=this.cpuOnWhichThreadWasRunning.slices,a=0;a<b.length;a++){var c=
b[a];if(c.start===this.start&&c.duration===this.duration)return c}},getCpuSliceThatTookCpu:function(){if(!this.cpuOnWhichThreadWasRunning){for(var b=this.thread.indexOfTimeSlice(this),a;0<=b;){var c=this.thread.timeSlices[b];if(c.cpuOnWhichThreadWasRunning){a=c.getAssociatedCpuSlice();break}else b--}if(a&&(b=a.cpu,c=b.indexOf(a),(b=b.slices[c+1])&&1E-5>Math.abs(b.start-a.end)))return b}}};c.prototype={getOrCreateCounter:function(a,c){var f;f=a.length?a+"."+c:c;this.counters[f]||(this.counters[f]=
new b(this,f,a,c));return this.counters[f]},shiftTimestampsForward:function(b){for(var a=0;a<this.slices.length;a++)this.slices[a].start+=b;for(var c in this.counters)this.counters[c].shiftTimestampsForward(b)},updateBounds:function(){this.bounds.reset();this.slices.length&&(this.bounds.addValue(this.slices[0].start),this.bounds.addValue(this.slices[this.slices.length-1].end));for(var b in this.counters)this.counters[b].updateBounds(),this.bounds.addRange(this.counters[b].bounds);this.samples_&&this.samples_.length&&
(this.bounds.addValue(this.samples_[0].start),this.bounds.addValue(this.samples_[this.samples_.length-1].end))},createSubSlices:function(){this.samples_=this.kernel.model.samples.filter(function(b){return b.cpu==this},this)},addCategoriesToDict:function(b){for(var a=0;a<this.slices.length;a++)b[this.slices[a].category]=!0;for(var c in this.counters)b[this.counters[c].category]=!0;for(a=0;a<this.samples_.length;a++)b[this.samples_[a].category]=!0},get userFriendlyName(){return"CPU "+this.cpuNumber},
toJSON:function(){for(var b={},a=Object.keys(this),c=0;c<a.length;c++){var f=a[c];"function"!=typeof this[f]&&"kernel"!=f&&(b[f]=this[f])}return b},indexOf:function(b){var a=tv.findLowIndexInSortedArray(this.slices,function(b){return b.start},b.start);return this.slices[a]!==b?void 0:a},iterateAllEvents:function(b,a){this.slices.forEach(b,a);for(var c in this.counters)this.counters[c].iterateAllEvents(b,a)},closeActiveThread:function(b,a){if(!(void 0==this.lastActiveThread_||0==this.lastActiveThread_)){if(b<
this.lastActiveTimestamp_)throw Error("The end timestamp of a thread running on CPU "+this.cpuNumber+" is before its start timestamp.");for(var c in a)this.lastActiveArgs_[c]=a[c];c=b-this.lastActiveTimestamp_;c=new tracing.trace_model.CpuSlice("",this.lastActiveName_,tv.ui.getStringColorId(this.lastActiveName_),this.lastActiveTimestamp_,this.lastActiveArgs_,c);c.cpu=this;this.slices.push(c);this.lastActiveArgs_=this.lastActiveName_=this.lastActiveThread_=this.lastActiveTimestamp_=void 0}},switchActiveThread:function(b,
a,c,f,d){this.closeActiveThread(b,a);this.lastActiveTimestamp_=b;this.lastActiveThread_=c;this.lastActiveName_=f;this.lastActiveArgs_=d},get samples(){return this.samples_}};c.compare=function(b,a){return b.cpuNumber-a.cpuNumber};return{Cpu:c,CpuSlice:d,ThreadTimeSlice:a}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,c,b){tracing.trace_model.Event.call(this);this.objectInstance=a;this.ts=c;this.args=b}d.prototype={__proto__:tracing.trace_model.Event.prototype,preInitialize:function(){},initialize:function(){},addBoundsToRange:function(a){a.addValue(this.ts)}};tracing.trace_model.Event.decorateSubtype(d);return{ObjectSnapshot:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,c,b,f,e,d){tracing.trace_model.Event.call(this);this.parent=a;this.id=c;this.category=b;this.baseTypeName=d?d:f;this.name=f;this.creationTs=e;this.creationTsWasExplicit=!1;this.deletionTs=Number.MAX_VALUE;this.deletionTsWasExplicit=!1;this.colorId=0;this.bounds=new tv.Range;this.snapshots=[];this.hasImplicitSnapshots=!1}d.prototype={__proto__:tracing.trace_model.Event.prototype,get typeName(){return this.name},addBoundsToRange:function(a){a.addRange(this.bounds)},
addSnapshot:function(a,c,b,f){if(a<this.creationTs)throw Error("Snapshots must be >= instance.creationTs");if(a>=this.deletionTs)throw Error("Snapshots cannot be added after an objects deletion timestamp.");var e;if(0<this.snapshots.length){e=this.snapshots[this.snapshots.length-1];if(e.ts==a)throw Error("Snapshots already exists at this time!");if(a<e.ts)throw Error("Snapshots must be added in increasing timestamp order");}if(b&&this.name!=b){if(!f)throw Error("Must provide base type name for name update");
if(this.baseTypeName!=f)throw Error("Cannot update type name: base types dont match");this.name=b}a=new (tracing.trace_model.ObjectSnapshot.getConstructor(this.category,this.name))(this,a,c);this.snapshots.push(a);return a},wasDeleted:function(a){var c;if(0<this.snapshots.length&&(c=this.snapshots[this.snapshots.length-1],c.ts>a))throw Error("Instance cannot be deleted at ts="+a+". A snapshot exists that is older.");this.deletionTs=a;this.deletionTsWasExplicit=!0},preInitialize:function(){for(var a=
0;a<this.snapshots.length;a++)this.snapshots[a].preInitialize()},initialize:function(){for(var a=0;a<this.snapshots.length;a++)this.snapshots[a].initialize()},getSnapshotAt:function(a){if(a<this.creationTs){if(this.creationTsWasExplicit)throw Error("ts must be within lifetime of this instance");return this.snapshots[0]}if(a>this.deletionTs)throw Error("ts must be within lifetime of this instance");var c=this.snapshots;a=tv.findLowIndexInSortedIntervals(c,function(b){return b.ts},function(b,a){return a==
c.length-1?c[a].objectInstance.deletionTs:c[a+1].ts-c[a].ts},a);return 0>a?this.snapshots[0]:a>=this.snapshots.length?this.snapshots[this.snapshots.length-1]:this.snapshots[a]},updateBounds:function(){this.bounds.reset();this.bounds.addValue(this.creationTs);this.deletionTs!=Number.MAX_VALUE?this.bounds.addValue(this.deletionTs):0<this.snapshots.length&&this.bounds.addValue(this.snapshots[this.snapshots.length-1].ts)},shiftTimestampsForward:function(a){this.creationTs+=a;this.deletionTs!=Number.MAX_VALUE&&
(this.deletionTs+=a);this.snapshots.forEach(function(c){c.ts+=a})}};tracing.trace_model.Event.decorateSubtype(d);return{ObjectInstance:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,c,b){this.createObjectInstanceFunction_=a;this.parent=c;this.id=b;this.instances=[]}d.prototype={idWasCreated:function(a,c,b){if(0==this.instances.length)return this.instances.push(this.createObjectInstanceFunction_(this.parent,this.id,a,c,b)),this.instances[0].creationTsWasExplicit=!0,this.instances[0];var f=this.instances[this.instances.length-1];if(b<f.deletionTs)throw Error("Mutation of the TimeToObjectInstanceMap must be done in ascending timestamp order.");
f=this.createObjectInstanceFunction_(this.parent,this.id,a,c,b);f.creationTsWasExplicit=!0;this.instances.push(f);return f},addSnapshot:function(a,c,b,f,e){0==this.instances.length&&this.instances.push(this.createObjectInstanceFunction_(this.parent,this.id,a,c,b,e));var d=tv.findLowIndexInSortedIntervals(this.instances,function(b){return b.creationTs},function(b){return b.deletionTs-b.creationTs},b);if(0>d){d=this.instances[0];if(b>d.deletionTs||d.creationTsWasExplicit)throw Error("At the provided timestamp, no instance was still alive");
if(0!=d.snapshots.length)throw Error("Cannot shift creationTs forward, snapshots have been added. First snap was at ts="+d.snapshots[0].ts+" and creationTs was "+d.creationTs);d.creationTs=b}else if(d>=this.instances.length)if(d=this.instances[this.instances.length-1],b>=d.deletionTs)d=this.createObjectInstanceFunction_(this.parent,this.id,a,c,b,e),this.instances.push(d);else{for(var g,d=this.instances.length-1;0<=d;d--){a=this.instances[d];if(b>=a.deletionTs)break;!1==a.creationTsWasExplicit&&0==
a.snapshots.length&&(g=d)}if(void 0===g)throw Error("Cannot add snapshot. No instance was alive that was mutable.");d=this.instances[g];d.creationTs=b}else d=this.instances[d];return d.addSnapshot(b,f,c,e)},get lastInstance(){return 0==this.instances.length?void 0:this.instances[this.instances.length-1]},idWasDeleted:function(a,c,b){0==this.instances.length&&this.instances.push(this.createObjectInstanceFunction_(this.parent,this.id,a,c,b));var f=this.instances[this.instances.length-1];if(b<f.creationTs)throw Error("Cannot delete a id before it was crated");
if(f.deletionTs==Number.MAX_VALUE)return f.wasDeleted(b),f;if(b<f.deletionTs)throw Error("id was already deleted earlier.");f=this.createObjectInstanceFunction_(this.parent,this.id,a,c,b);this.instances.push(f);f.wasDeleted(b);return f},getInstanceAt:function(a){a=tv.findLowIndexInSortedIntervals(this.instances,function(a){return a.creationTs},function(a){return a.deletionTs-a.creationTs},a);return 0>a?this.instances[0].creationTsWasExplicit?void 0:this.instances[0]:a>=this.instances.length?void 0:
this.instances[a]},logToConsole:function(){for(var a=0;a<this.instances.length;a++){var c=this.instances[a],b="",f="";c.creationTsWasExplicit&&(b="(explicitC)");c.deletionTsWasExplicit&&(f="(explicit)");console.log(c.creationTs,b,c.deletionTs,f,c.category,c.name,c.snapshots.length+" snapshots")}}};return{TimeToObjectInstanceMap:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a){this.parent=a;this.bounds=new tv.Range;this.instanceMapsById_={};this.instancesByTypeName_={};this.createObjectInstance_=this.createObjectInstance_.bind(this)}d.prototype={__proto__:Object.prototype,createObjectInstance_:function(a,c,b,f,e,d){a=new (tracing.trace_model.ObjectInstance.getConstructor(b,f))(a,c,b,f,e,d);c=a.typeName;b=this.instancesByTypeName_[c];b||(b=[],this.instancesByTypeName_[c]=b);b.push(a);return a},getOrCreateInstanceMap_:function(a){var c=
this.instanceMapsById_[a];if(c)return c;c=new tracing.trace_model.TimeToObjectInstanceMap(this.createObjectInstance_,this.parent,a);return this.instanceMapsById_[a]=c},idWasCreated:function(a,c,b,f){return this.getOrCreateInstanceMap_(a).idWasCreated(c,b,f)},addSnapshot:function(a,c,b,f,e,d){a=this.getOrCreateInstanceMap_(a).addSnapshot(c,b,f,e,d);if(a.objectInstance.category!=c)throw Error("Added snapshot name="+b+" with cat="+c+" impossible. It instance was created/snapshotted with cat="+a.objectInstance.category+
" name="+a.objectInstance.name);if(d&&a.objectInstance.baseTypeName!=d)throw Error("Could not add snapshot with baseTypeName="+d+". It was previously created with name="+a.objectInstance.baseTypeName);if(a.objectInstance.name!=b)throw Error("Could not add snapshot with name="+b+". It was previously created with name="+a.objectInstance.name);return a},idWasDeleted:function(a,c,b,f){if(a=this.getOrCreateInstanceMap_(a).idWasDeleted(c,b,f)){if(a.category!=c)throw Error("Deleting object "+a.name+" with a different category than when it was created. It previous had cat="+
a.category+" but the delete command had cat="+c);if(a.baseTypeName!=b)throw Error("Deletion requested for name="+b+" could not proceed: An existing object with baseTypeName="+a.baseTypeName+" existed.");}},autoDeleteObjects:function(a){tv.iterItems(this.instanceMapsById_,function(c,b){var f=b.lastInstance;f.deletionTs==Number.MAX_VALUE&&(b.idWasDeleted(f.category,f.name,a),f.deletionTsWasExplicit=!1)})},getObjectInstanceAt:function(a,c){var b=this.instanceMapsById_[a];return!b?void 0:b.getInstanceAt(c)},
getSnapshotAt:function(a,c){var b=this.getObjectInstanceAt(a,c);return!b?void 0:b.getSnapshotAt(c)},iterObjectInstances:function(a,c){c=c||this;tv.iterItems(this.instanceMapsById_,function(b,f){f.instances.forEach(a,c)})},getAllObjectInstances:function(){var a=[];this.iterObjectInstances(function(c){a.push(c)});return a},getAllInstancesNamed:function(a){return this.instancesByTypeName_[a]},getAllInstancesByTypeName:function(){return this.instancesByTypeName_},preInitializeAllObjects:function(){this.iterObjectInstances(function(a){a.preInitialize()})},
initializeAllObjects:function(){this.iterObjectInstances(function(a){a.initialize()})},initializeInstances:function(){this.iterObjectInstances(function(a){a.initialize()})},updateBounds:function(){this.bounds.reset();this.iterObjectInstances(function(a){a.updateBounds();this.bounds.addRange(a.bounds)},this)},shiftTimestampsForward:function(a){this.iterObjectInstances(function(c){c.shiftTimestampsForward(a)})},addCategoriesToDict:function(a){this.iterObjectInstances(function(c){a[c.category]=!0})},
toJSON:function(){return{}},iterateAllEvents:function(a,c){this.iterObjectInstances(function(b){a.call(this,b);b.snapshots.forEach(a)},c)}};return{ObjectCollection:d}});"use strict";
tv.exportTo("tv.ui",function(){function d(b){return"rgb("+b.r+","+b.g+","+b.b+")"}function a(b){for(var a=0,c=0;c<b.length;++c)a=(a+37*a+11*b.charCodeAt(c))%4294967295;return a}var c=[{r:138,g:113,b:152},{r:175,g:112,b:133},{r:127,g:135,b:225},{r:93,g:81,b:137},{r:116,g:143,b:119},{r:178,g:214,b:122},{r:87,g:109,b:147},{r:119,g:155,b:95},{r:114,g:180,b:160},{r:132,g:85,b:103},{r:157,g:210,b:150},{r:148,g:94,b:86},{r:164,g:108,b:138},{r:139,g:191,b:150},{r:110,g:99,b:145},{r:80,g:129,b:109},{r:125,
g:140,b:149},{r:93,g:124,b:132},{r:140,g:85,b:140},{r:104,g:163,b:162},{r:132,g:141,b:178},{r:131,g:105,b:147},{r:135,g:183,b:98},{r:152,g:134,b:177},{r:141,g:188,b:141},{r:133,g:160,b:210},{r:126,g:186,b:148},{r:112,g:198,b:205},{r:180,g:122,b:195},{r:203,g:144,b:152},{r:182,g:125,b:143},{r:126,g:200,b:148},{r:133,g:160,b:210},{r:240,g:240,b:240},{r:199,g:155,b:125}],b=c.length-5,f=c.length,e=c.concat(c.map(function(b){var a;a=240<=b.r&&240<=b.g&&240<=b.b?-0.2:0.45;return{r:Math.min(255,b.r+Math.floor(b.r*
a)),g:Math.min(255,b.g+Math.floor(b.g*a)),b:Math.min(255,b.b+Math.floor(b.b*a))}})),h=e.map(d),g={};return{colorToRGBString:d,colorToRGBAString:function(b,a){return"rgba("+b.r+","+b.g+","+b.b+","+a+")"},getRawColorPalette:function(){return e},getColorPalette:function(){return h},paletteProperties:{numRegularColorIds:b,highlightIdBoost:f},getColorPaletteHighlightIdBoost:function(){return f},getColorIdByName:function(a){if("iowait"==a)return b;if("running"==a)return b+1;if("runnable"==a)return b+2;
if("sleeping"==a)return b+3;if("UNKNOWN"==a)return b+4;throw Error("Unrecognized color ")+a;},getStringHash:a,getStringColorId:function(c){if(void 0===g[c]){var e=a(c);g[c]=e%b}return g[c]}}});"use strict";
tv.exportTo("tracing",function(){var d=tv.ui.getRawColorPalette(),a=tv.ui.getColorPalette(),c=tracing.trace_model.SelectionState;return{EventPresenter:{getAlpha_:function(b){return b.selectionState===c.DIMMED?0.3:1},getColorIdOffset_:function(b){return b.selectionState===c.SELECTED?tv.ui.paletteProperties.highlightIdBoost:0},getTextColor:function(b){return b.selectionState===c.DIMMED?"rgb(60,60,60)":"rgb(0,0,0)"},getSliceColorId:function(b){return b.colorId+this.getColorIdOffset_(b)},getSliceAlpha:function(b,
a){var c=this.getAlpha_(b);a&&(c*=0.3);return c},getInstantSliceColor:function(b){var a=b.colorId+this.getColorIdOffset_(b);return tv.ui.colorToRGBAString(d[a],this.getAlpha_(b))},getObjectInstanceColor:function(b){b=b.colorId+this.getColorIdOffset_(b);return tv.ui.colorToRGBAString(d[b],0.25)},getObjectSnapshotColor:function(b){b=b.objectInstance.colorId+this.getColorIdOffset_(b);return a[b]},getCounterSeriesColor:function(b,a,c){a={selectionState:a};return tv.ui.colorToRGBAString(d[b+this.getColorIdOffset_(a)],
this.getAlpha_(a)*(void 0!==c?c:1))},getBarSnapshotColor:function(b,a){var c=(b.objectInstance.colorId+a)%tv.ui.paletteProperties.numRegularColorIds,c=c+this.getColorIdOffset_(b);return tv.ui.colorToRGBAString(d[c],this.getAlpha_(b))}}}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(c,b,f){this.guid_=tv.GUID.allocate();this.parentThread_=c;this.sliceConstructor=b||a;this.openPartialSlices_=[];this.slices=[];this.bounds=new tv.Range;this.topLevelSlices=[];this.name_=f}var a=tracing.trace_model.Slice;d.prototype={__proto__:Object.prototype,get guid(){return this.guid_},get parentThread(){return this.parentThrad_},get model(){return this.parentThread_.parent.model},getSettingsKey:function(){if(this.name_){var a=this.parentThread_.getSettingsKey();
return!a?void 0:a+"."+this.name}},get length(){return this.slices.length},pushSlice:function(a){this.slices.push(a);return a},pushSlices:function(a){this.slices.push.apply(this.slices,a)},pushInstantEvent:function(a){this.slices.push(a)},beginSlice:function(a,b,f,e,d){if(this.openPartialSlices_.length&&f<this.openPartialSlices_[this.openPartialSlices_.length-1].start)throw Error("Slices must be added in increasing timestamp order");var g=tv.ui.getStringColorId(b);a=new this.sliceConstructor(a,b,g,
f,e?e:{},null,d);this.openPartialSlices_.push(a);a.didNotFinish=!0;this.pushSlice(a);return a},isTimestampValidForBeginOrEnd:function(a){return!this.openPartialSlices_.length?!0:a>=this.openPartialSlices_[this.openPartialSlices_.length-1].start},get openSliceCount(){return this.openPartialSlices_.length},get mostRecentlyOpenedPartialSlice(){return!this.openPartialSlices_.length?void 0:this.openPartialSlices_[this.openPartialSlices_.length-1]},endSlice:function(a,b){if(!this.openSliceCount)throw Error("endSlice called without an open slice");
var f=this.openPartialSlices_[this.openSliceCount-1];this.openPartialSlices_.splice(this.openSliceCount-1,1);if(a<f.start)throw Error("Slice "+f.title+" end time is before its start.");f.duration=a-f.start;f.didNotFinish=!1;b&&void 0!==f.cpuStart&&(f.cpuDuration=b-f.cpuStart);return f},pushCompleteSlice:function(a,b,f,e,d,g,k){var l=tv.ui.getStringColorId(b);a=new this.sliceConstructor(a,b,l,f,k?k:{},e,d,g);void 0===e&&(a.didNotFinish=!0);this.pushSlice(a);return a},autoCloseOpenSlices:function(a){a||
(this.updateBounds(),a=this.bounds.max);for(var b=0;b<this.slices.length;b++){var f=this.slices[b];f.didNotFinish&&(f.duration=a-f.start)}this.openPartialSlices_=[]},shiftTimestampsForward:function(a){for(var b=0;b<this.slices.length;b++){var f=this.slices[b];f.start+=a}},updateBounds:function(){this.bounds.reset();for(var a=0;a<this.slices.length;a++)this.bounds.addValue(this.slices[a].start),this.bounds.addValue(this.slices[a].end)},copySlice:function(a){var b=new this.sliceConstructor(a.category,
a.title,a.colorId,a.start,a.args,a.duration,a.cpuStart,a.cpuDuration);b.didNotFinish=a.didNotFinish;return b},iterateAllEvents:function(a,b){this.slices.forEach(a,b)},toJSON:function(){return{}},createSubSlices:function(){function a(b,e){if(b.bounds(e)){if(b.subSlices&&0<b.subSlices.length&&a(b.subSlices[b.subSlices.length-1],e))return!0;b.selfTime||(b.selfTime=b.duration);!b.cpuSelfTime&&b.cpuDuration&&(b.cpuSelfTime=b.cpuDuration);e.parentSlice=b;b.subSlices||(b.subSlices=[]);b.subSlices.push(e);
b.selfTime-=e.duration;e.cpuDuration&&(b.cpuSelfTime-=e.cpuDuration);return!0}return!1}if(this.slices.length){for(var b=[],f=0;f<this.slices.length;f++)this.slices[f].subSlices&&this.slices[f].subSlices.splice(0,this.slices[f].subSlices.length),b.push(f);var e=this.slices;b.sort(function(b,a){var c=e[b],f=e[a];return c.start!=f.start?c.start-f.start:b-a});var d=this.slices[b[0]];this.topLevelSlices=[];this.topLevelSlices.push(d);for(f=1;f<b.length;f++){var g=this.slices[b[f]];a(d,g)||(d=g,this.topLevelSlices.push(d))}}}};
d.merge=function(a,b){if(0<a.openPartialSlices_.length)throw Error("groupA has open partial slices");if(0<b.openPartialSlices_.length)throw Error("groupB has open partial slices");if(a.parentThread!=b.parentThread)throw Error("Different parent threads. Cannot merge");for(var f=new d(a.parentThread),e=a.slices,h=b.slices,g=0,k=0,l=[],m=[],n=function(b){for(var a=0;a<m.length;a++){var c=m[a],e=c.end;if(b<c.start||e<b)throw Error("slice should not be split");var d=f.copySlice(c);d.start=b;d.duration=
e-b;-1==d.title.indexOf(" (cont.)")&&(d.title+=" (cont.)");c.duration=b-c.start;m[a]=d;f.pushSlice(d)}},p=function(b){for(;0<l.length||0<m.length;){var a=l[l.length-1],c=m[m.length-1],a=a&&a.end,c=c&&c.end;if((void 0===a||a>b)&&(void 0===c||c>b))break;void 0===c||a<c?(n(a),l.pop()):m.pop()}};g<e.length||k<h.length;){var q=e[g],r=h[k];void 0===q||void 0!==r&&q.start>r.start?(q=f.copySlice(r),r=!0,k++):(q=f.copySlice(q),r=!1,g++);p(q.start);f.pushSlice(q);r?m.push(q):(n(q.start),l.push(q))}p();return f};
return{SliceGroup:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,c,b,f,e){tracing.trace_model.Slice.apply(this,arguments)}d.prototype={__proto__:tracing.trace_model.Slice.prototype,toJSON:function(){for(var a={},c=Object.keys(this),b=0;b<c.length;b++){var f=c[b];"function"!=typeof this[f]&&(a[f]="startThread"==f||"endThread"==f?this[f].guid:this[f])}return a},id:void 0,startThread:void 0,endThread:void 0,subSlices:void 0,get viewSubGroupTitle(){return this.title}};tracing.trace_model.Event.decorateSubtype(d);return{AsyncSlice:d}});
"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,c){this.parentThread_=a;this.guid_=tv.GUID.allocate();this.slices=[];this.bounds=new tv.Range;this.name_=c;this.viewSubGroups_=void 0}d.prototype={__proto__:Object.prototype,get guid(){return this.guid_},get parentThread(){return this.parentThread_},get model(){return this.parentThread_.parent.model},getSettingsKey:function(){if(this.name_){var a=this.parentThread_.getSettingsKey();return!a?void 0:a+"."+this.name_}},push:function(a){this.slices.push(a)},get length(){return this.slices.length},
shiftTimestampsForward:function(a){for(var c=0;c<this.slices.length;c++){var b=this.slices[c];b.start+=a;var f=function(b){if(!(void 0===b||0===b.length))for(var c=0;c<b.length;c++)b[c].start+=a,f(b[c].subSlices)};f(b.subSlices)}},updateBounds:function(){this.bounds.reset();for(var a=0;a<this.slices.length;a++)this.bounds.addValue(this.slices[a].start),this.bounds.addValue(this.slices[a].end)},get viewSubGroups(){if(void 0===this.viewSubGroups_){for(var a="",a=void 0!==this.name?this.name+".":"",
c={},b=0;b<this.slices.length;++b){var f=this.slices[b],e=f.viewSubGroupTitle;c[e]||(c[e]=new d(this.parentThread_,a+e));c[e].slices.push(f)}this.viewSubGroups_=tv.dictionaryValues(c)}return this.viewSubGroups_},iterateAllEvents:function(a,c){for(var b=0;b<this.slices.length;b++){var f=this.slices[b];a.call(c,f);f.subSlices&&f.subSlices.forEach(a,c)}},toJSON:function(){return{}}};return{AsyncSliceGroup:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(b,a,f,d,l,m,n,p){c.call(this,b,a,f,d,l,m,n,p);this.subSlices=[]}function a(a,c){function g(b,a,c,e,f,h,g,u){d.call(this,b,a,c,e,f,h,g,u);this.parentThread=k}this.guid_=tv.GUID.allocate();if(!a)throw Error("Parent must be provided.");this.parent=a;this.sortIndex=0;this.tid=c;this.samples_=this.name=void 0;var k=this;g.prototype={__proto__:d.prototype};this.sliceGroup=new b(this,g,"slices");this.timeSlices=void 0;this.kernelSliceGroup=new b(this,
void 0,"kernel-slices");this.asyncSliceGroup=new f(this,"async-slices");this.bounds=new tv.Range}var c=tracing.trace_model.Slice,b=tracing.trace_model.SliceGroup,f=tracing.trace_model.AsyncSliceGroup;d.prototype={__proto__:c.prototype};a.prototype={get guid(){return this.guid_},compareTo:function(b){return a.compare(this,b)},toJSON:function(){for(var b={},a=Object.keys(this),c=0;c<a.length;c++){var f=a[c];"function"!=typeof this[f]&&(b[f]="parent"==f?this[f].guid:this[f])}return b},shiftTimestampsForward:function(b){this.sliceGroup.shiftTimestampsForward(b);
if(this.timeSlices)for(var a=0;a<this.timeSlices.length;a++)this.timeSlices[a].start+=b;this.kernelSliceGroup.shiftTimestampsForward(b);this.asyncSliceGroup.shiftTimestampsForward(b)},get isEmpty(){return this.sliceGroup.length||this.sliceGroup.openSliceCount||this.timeSlices&&this.timeSlices.length||this.kernelSliceGroup.length||this.asyncSliceGroup.length||this.samples_.length?!1:!0},updateBounds:function(){this.bounds.reset();this.sliceGroup.updateBounds();this.bounds.addRange(this.sliceGroup.bounds);
this.kernelSliceGroup.updateBounds();this.bounds.addRange(this.kernelSliceGroup.bounds);this.asyncSliceGroup.updateBounds();this.bounds.addRange(this.asyncSliceGroup.bounds);this.timeSlices&&this.timeSlices.length&&(this.bounds.addValue(this.timeSlices[0].start),this.bounds.addValue(this.timeSlices[this.timeSlices.length-1].end));this.samples_&&this.samples_.length&&(this.bounds.addValue(this.samples_[0].start),this.bounds.addValue(this.samples_[this.samples_.length-1].end))},addCategoriesToDict:function(b){for(var a=
0;a<this.sliceGroup.length;a++)b[this.sliceGroup.slices[a].category]=!0;for(a=0;a<this.kernelSliceGroup.length;a++)b[this.kernelSliceGroup.slices[a].category]=!0;for(a=0;a<this.asyncSliceGroup.length;a++)b[this.asyncSliceGroup.slices[a].category]=!0;if(this.samples_)for(a=0;a<this.samples_.length;a++)b[this.samples_[a].category]=!0},autoCloseOpenSlices:function(b){this.sliceGroup.autoCloseOpenSlices(b);this.kernelSliceGroup.autoCloseOpenSlices(b)},mergeKernelWithUserland:function(){if(0<this.kernelSliceGroup.length){var a=
b.merge(this.sliceGroup,this.kernelSliceGroup);this.sliceGroup.slices=a.slices;this.kernelSliceGroup=new b(this);this.updateBounds()}},createSubSlices:function(){this.sliceGroup.createSubSlices();this.samples_=this.parent.model.samples.filter(function(b){return b.thread==this},this)},get userFriendlyName(){return this.name||this.tid},get userFriendlyDetails(){return"tid: "+this.tid+(this.name?", name: "+this.name:"")},getSettingsKey:function(){if(this.name){var b=this.parent.getSettingsKey();return!b?
void 0:b+"."+this.name}},indexOfTimeSlice:function(b){var a=tv.findLowIndexInSortedArray(this.timeSlices,function(b){return b.start},b.start);return this.timeSlices[a]!==b?void 0:a},iterateAllEvents:function(b,a){this.sliceGroup.iterateAllEvents(b,a);this.kernelSliceGroup.iterateAllEvents(b,a);this.asyncSliceGroup.iterateAllEvents(b,a);this.timeSlices&&this.timeSlices.length&&this.timeSlices.forEach(b,a)},iterateAllPersistableObjects:function(b){b(this);this.sliceGroup.length&&b(this.sliceGroup);
this.asyncSliceGroup.viewSubGroups.forEach(b)},get samples(){return this.samples_}};a.compare=function(b,a){var c=b.parent.compareTo(a.parent);return c||(c=b.sortIndex-a.sortIndex)?c:(c=tv.comparePossiblyUndefinedValues(b.name,a.name,function(b,a){return b.localeCompare(a)}))?c:b.tid-a.tid};return{ThreadSlice:d,Thread:a}});"use strict";
tv.exportTo("tracing",function(){function d(a){this.model=a;this.objectsByKey_=[];this.nonuniqueKeys_=[];this.buildObjectsByKeyMap_();this.removeNonuniqueKeysFromSettings_();this.ephemeralSettingsByGUID_={}}var a=tv.Settings;d.prototype={buildObjectsByKeyMap_:function(){var a=[];this.model.iterateAllPersistableObjects(function(b){a.push(b)});for(var b={},f=0;f<a.length;f++){var e=a[f],d=e.getSettingsKey();d&&(b[d]=void 0===b[d]?e:"nonuniqueKey")}var g={};tv.dictionaryKeys(b).forEach(function(a){"nonuniqueKey"===
b[a]&&(delete b[a],g[a]=!0)});this.nonuniqueKeys=g;this.objectsByKey_=b},removeNonuniqueKeysFromSettings_:function(){var c=a.get("trace_model_settings",{}),b=!1;tv.dictionaryKeys(c).forEach(function(a){this.nonuniqueKeys[a]&&(b=!0,delete c[a])},this);b&&a.set("trace_model_settings",c)},hasUniqueSettingKey:function(a){a=a.getSettingsKey();return!a?!1:void 0!==this.objectsByKey_[a]},getSettingFor:function(c,b,f){var e=c.getSettingsKey();if(!e||!this.objectsByKey_[e])return b=this.getEphemeralSettingsFor_(c)[b],
void 0!==b?b:f;c=a.get("trace_model_settings",{});c[e]||(c[e]={});b=c[e][b];return void 0!==b?b:f},setSettingFor:function(c,b,f){var e=c.getSettingsKey();!e||!this.objectsByKey_[e]?this.getEphemeralSettingsFor_(c)[b]=f:(c=a.get("trace_model_settings",{}),c[e]||(c[e]={}),c[e][b]!==f&&(c[e][b]=f,a.set("trace_model_settings",c)))},getEphemeralSettingsFor_:function(a){if(void 0===a.guid)throw Error("Only objects with GUIDs can be persisted");void 0===this.ephemeralSettingsByGUID_[a.guid]&&(this.ephemeralSettingsByGUID_[a.guid]=
{});return this.ephemeralSettingsByGUID_[a.guid]}};return{TraceModelSettings:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a){if(!a)throw Error("Must provide a model");this.guid_=tv.GUID.allocate();this.model=a;this.threads={};this.counters={};this.objects=new tracing.trace_model.ObjectCollection(this);this.bounds=new tv.Range;this.sortIndex=0}var a=tracing.trace_model.Thread,c=tracing.trace_model.Counter;d.compare=function(a,c){return a.sortIndex-c.sortIndex};d.prototype={get guid(){return this.guid_},get numThreads(){var a=0,c;for(c in this.threads)a++;return a},
toJSON:function(){for(var a={},c=Object.keys(this),e=0;e<c.length;e++){var d=c[e];"function"!=typeof this[d]&&"model"!=d&&(a[d]=this[d])}return a},shiftTimestampsForward:function(a){for(var c in this.threads)this.threads[c].shiftTimestampsForward(a);for(var e in this.counters)this.counters[e].shiftTimestampsForward(a);this.objects.shiftTimestampsForward(a)},autoCloseOpenSlices:function(a){for(var c in this.threads)this.threads[c].autoCloseOpenSlices(a)},autoDeleteObjects:function(a){this.objects.autoDeleteObjects(a)},
preInitializeObjects:function(){this.objects.preInitializeAllObjects()},initializeObjects:function(){this.objects.initializeAllObjects()},mergeKernelWithUserland:function(){for(var a in this.threads)this.threads[a].mergeKernelWithUserland()},updateBounds:function(){this.bounds.reset();for(var a in this.threads)this.threads[a].updateBounds(),this.bounds.addRange(this.threads[a].bounds);for(var c in this.counters)this.counters[c].updateBounds(),this.bounds.addRange(this.counters[c].bounds);this.objects.updateBounds();
this.bounds.addRange(this.objects.bounds)},addCategoriesToDict:function(a){for(var c in this.threads)this.threads[c].addCategoriesToDict(a);for(var e in this.counters)a[this.counters[e].category]=!0;this.objects.addCategoriesToDict(a)},findAllThreadsNamed:function(a){var c=[],e;for(e in this.threads){var d=this.threads[e];d.name==a&&c.push(d)}return c},pruneEmptyContainers:function(){var a={},c;for(c in this.threads){var e=this.threads[c];e.isEmpty||(a[c]=e)}this.threads=a},getThread:function(a){return this.threads[a]},
getOrCreateThread:function(b){this.threads[b]||(this.threads[b]=new a(this,b));return this.threads[b]},getOrCreateCounter:function(a,f){var e=a+"."+f;this.counters[e]||(this.counters[e]=new c(this,e,a,f));return this.counters[e]},getSettingsKey:function(){throw Error("Not implemented");},createSubSlices:function(){for(var a in this.threads)this.threads[a].createSubSlices()},iterateAllEvents:function(a,c){for(var e in this.threads)this.threads[e].iterateAllEvents(a,c);for(var d in this.counters)this.counters[d].iterateAllEvents(a,
c);this.objects.iterateAllEvents(a,c)},iterateAllPersistableObjects:function(a){a(this);for(var c in this.threads)this.threads[c].iterateAllPersistableObjects(a)}};return{ProcessBase:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a){if(void 0===a)throw Error("model must be provided");c.call(this,a);this.cpus={};this.softwareMeasuredCpuCount_=void 0}var a=tracing.trace_model.Cpu,c=tracing.trace_model.ProcessBase;d.compare=function(a,c){return 0};d.prototype={__proto__:c.prototype,compareTo:function(a){return d.compare(this,a)},get userFriendlyName(){return"Kernel"},get userFriendlyDetails(){return"Kernel"},getOrCreateCpu:function(b){this.cpus[b]||(this.cpus[b]=new a(this,
b));return this.cpus[b]},get softwareMeasuredCpuCount(){return this.softwareMeasuredCpuCount_},set softwareMeasuredCpuCount(a){if(void 0!==this.softwareMeasuredCpuCount_&&this.softwareMeasuredCpuCount_!==a)throw Error("Cannot change the softwareMeasuredCpuCount once it is set");this.softwareMeasuredCpuCount_=a},get bestGuessAtCpuCount(){var a=tv.dictionaryLength(this.cpus);return 0!==a?a:this.softwareMeasuredCpuCount},shiftTimestampsForward:function(a){c.prototype.shiftTimestampsForward.call(this);
for(var f in this.cpus)this.cpus[f].shiftTimestampsForward(a)},updateBounds:function(){c.prototype.updateBounds.call(this);for(var a in this.cpus){var f=this.cpus[a];f.updateBounds();this.bounds.addRange(f.bounds)}},createSubSlices:function(){c.prototype.createSubSlices.call(this);for(var a in this.cpus)this.cpus[a].createSubSlices()},addCategoriesToDict:function(a){c.prototype.addCategoriesToDict.call(this,a);for(var f in this.cpus)this.cpus[f].addCategoriesToDict(a)},getSettingsKey:function(){return"kernel"},
iterateAllEvents:function(a,f){for(var e in this.cpus)this.cpus[e].iterateAllEvents(a,f);c.prototype.iterateAllEvents.call(this,a,f)}};return{Kernel:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,b){if(void 0===a)throw Error("model must be provided");if(void 0===b)throw Error("pid must be provided");tracing.trace_model.ProcessBase.call(this,a);this.pid=b;this.name=void 0;this.labels=[];this.instantEvents=[]}var a=tracing.trace_model.ProcessBase;d.compare=function(a,b){var f=tracing.trace_model.ProcessBase.compare(a,b);return f||(f=tv.comparePossiblyUndefinedValues(a.name,b.name,function(a,b){return a.localeCompare(b)}))?f:(f=tv.compareArrays(a.labels,
b.labels,function(a,b){return a.localeCompare(b)}))?f:a.pid-b.pid};d.prototype={__proto__:tracing.trace_model.ProcessBase.prototype,compareTo:function(a){return d.compare(this,a)},pushInstantEvent:function(a){this.instantEvents.push(a)},addLabelIfNeeded:function(a){for(var b=0;b<this.labels.length;b++)if(this.labels[b]===a)return;this.labels.push(a)},get userFriendlyName(){var a;a=this.name?this.name+" (pid "+this.pid+")":"Process "+this.pid;this.labels.length&&(a+=": "+this.labels.join(", "));return a},
get userFriendlyDetails(){return this.name?this.name+" (pid "+this.pid+")":"pid: "+this.pid},getSettingsKey:function(){return!this.name?void 0:!this.labels.length?"processes."+this.name:"processes."+this.name+"."+this.labels.join(".")},shiftTimestampsForward:function(a){for(var b in this.instantEvents)this.instantEvents[b].start+=a;tracing.trace_model.ProcessBase.prototype.shiftTimestampsForward.apply(this,arguments)},iterateAllEvents:function(c,b){this.instantEvents.forEach(c,b);a.prototype.iterateAllEvents.call(this,
c,b)}};return{Process:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,c,b,f,e,d,g){tracing.trace_model.TimedEvent.call(this,f);this.title=b;this.cpu=a;this.thread=c;this.leafStackFrame=e;this.weight=d;this.args=g||{}}d.prototype={__proto__:tracing.trace_model.TimedEvent.prototype,get colorId(){return this.leafStackFrame.colorId},get stackTrace(){for(var a=[],c=this.leafStackFrame;c;)a.push(c),c=c.parentFrame;a.reverse();return a},getUserFriendlyStackTrace:function(){return this.stackTrace.map(function(a){return a.category+": "+
a.title})},toJSON:function(){return{}}};return{Sample:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,c,b,f,e){if(void 0===c)throw Error("id must be given");this.parentFrame_=a;this.id=c;this.category=b||"";this.title=f;this.colorId=e;this.children=[];this.parentFrame_&&this.parentFrame_.addChild(this)}d.prototype={get parentFrame(){return this.parentFrame_},set parentFrame(a){this.parentFrame_&&this.parentFrame_.removeChild(this);(this.parentFrame_=a)&&this.parentFrame_.addChild(this)},addChild:function(a){this.children.push(a)},removeChild:function(a){a=
this.children.indexOf(a.id);if(-1==a)throw Error("omg");this.children.splice(a,1)},removeAllChildren:function(){for(var a=0;a<this.children.length;a++)this.children[a].parentFrame_=void 0;this.children.splice(0,this.children.length)},toJSON:function(){return{}}};return{StackFrame:d}});"use strict";
tv.exportTo("tracing",function(){function d(a,f){this.kernel=new c(this);this.processes={};this.metadata=[];this.categories=[];this.bounds=new tv.Range;this.instantEvents=[];this.flowEvents=[];this.stackFrames={};this.samples=[];this.flowIntervalTree=new tv.IntervalTree(function(a){return a.start},function(a){return a.start});this.importWarnings_=[];this.reportedImportWarnings_={};a&&this.importTraces([a],f)}var a=tracing.trace_model.Process,c=tracing.trace_model.Kernel;d.prototype={__proto__:tv.EventTarget.prototype,
get numProcesses(){var a=0,c;for(c in this.processes)a++;return a},getProcess:function(a){return this.processes[a]},getOrCreateProcess:function(b){this.processes[b]||(this.processes[b]=new a(this,b));return this.processes[b]},pushInstantEvent:function(a){this.instantEvents.push(a)},addStackFrame:function(a){if(this.stackFrames[a.id])throw Error("Stack frame already exists");return this.stackFrames[a.id]=a},updateCategories_:function(){var a={};this.kernel.addCategoriesToDict(a);for(var c in this.processes)this.processes[c].addCategoriesToDict(a);
this.categories=[];for(var e in a)""!=e&&this.categories.push(e)},updateBounds:function(){this.bounds.reset();this.kernel.updateBounds();this.bounds.addRange(this.kernel.bounds);for(var a in this.processes)this.processes[a].updateBounds(),this.bounds.addRange(this.processes[a].bounds)},shiftWorldToZero:function(){if(!this.bounds.isEmpty){var a=this.bounds.min;this.kernel.shiftTimestampsForward(-a);for(var c in this.instantEvents)this.instantEvents[c].start-=a;for(var e in this.processes)this.processes[e].shiftTimestampsForward(-a);
for(c=0;c<this.samples.length;c++)this.samples[c].start-=a;this.updateBounds()}},getAllThreads:function(){var a=[],c;for(c in this.kernel.threads)a.push(d.threads[c]);for(var e in this.processes){var d=this.processes[e];for(c in d.threads)a.push(d.threads[c])}return a},getAllProcesses:function(){var a=[],c;for(c in this.processes)a.push(this.processes[c]);return a},getAllCounters:function(){var a=[];a.push.apply(a,tv.dictionaryValues(this.kernel.counters));for(var c in this.processes){var e=this.processes[c],
d;for(d in e.counters)a.push(e.counters[d])}return a},findAllThreadsNamed:function(a){var c=[];c.push.apply(c,this.kernel.findAllThreadsNamed(a));for(var e in this.processes)c.push.apply(c,this.processes[e].findAllThreadsNamed(a));return c},createImporter_:function(a){var c=tracing.importer.Importer.findImporterFor(a);if(!c)throw Error("Could not find an importer for the provided eventData.");return new c(this,a)},importTraces:function(a,c,e,d){a=this.createImportTracesTask({update:function(a){}},
a,c,e,d);tracing.importer.Task.RunSynchronously(a)},importTracesWithProgressDialog:function(a,c,e,d){var g=tv.ui.Overlay();g.title="Importing...";g.userCanClose=!1;g.msgEl=document.createElement("div");g.appendChild(g.msgEl);g.msgEl.style.margin="20px";g.update=function(a){this.msgEl.textContent=a};g.visible=!0;a=this.createImportTracesTask(g,a,c,e,d);a=tracing.importer.Task.RunWhenIdle(a);a.then(function(){g.visible=!1},function(a){g.visible=!1});return a},hasEventDataDecoder_:function(a){if(0===
a.length)return!1;for(var c=0;c<a.length;++c)if(!a[c].isTraceDataContainer())return!0;return!1},createImportTracesTask:function(a,c,e,d,g){if(this.importing_)throw Error("Already importing.");void 0===e&&(e=!0);void 0===d&&(d=!0);this.importing_=!0;var k=new tracing.importer.Task(function(){a.update("I will now import your traces for you...")},this),l,m=[];l=k.after(function(){c=c.slice(0);a.update("Creating importers...");for(var e=0;e<c.length;++e)m.push(this.createImporter_(c[e]));for(e=0;e<m.length;e++)for(var d=
m[e].extractSubtraces(),h=0;h<d.length;h++)try{c.push(d[h]),m.push(this.createImporter_(d[h]))}catch(g){console.warn(g.name+": "+g.message)}if(c.length&&!this.hasEventDataDecoder_(m))throw Error("Could not find an importer for the provided eventData.");m.sort(function(a,b){return a.importPriority-b.importPriority})},this);l=l.after(function(c){m.forEach(function(e,f){c.subTask(function(){a.update("Importing "+(f+1)+" of "+m.length);e.importEvents(0<f)},this)},this)},this);g&&(l=l.after(function(a){g(this)},
this));l=l.after(function(c){m.forEach(function(c,e){a.update("Importing sample data "+(e+1)+"/"+m.length);c.importSampleData()},this)},this);l=l.after(function(){a.update("Autoclosing open slices...");this.samples.sort(function(a,b){return a.start-b.start});this.updateBounds();this.kernel.autoCloseOpenSlices(this.bounds.max);for(var c in this.processes)this.processes[c].autoCloseOpenSlices(this.bounds.max);this.kernel.createSubSlices();for(c in this.processes)this.processes[c].createSubSlices()},
this);l=l.after(function(c){m.forEach(function(c,e){a.update("Finalizing import "+(e+1)+"/"+m.length);c.finalizeImport()},this)},this);l=l.after(function(){a.update("Initializing objects (step 1/2)...");for(var c in this.processes)this.processes[c].preInitializeObjects()},this);d&&(l=l.after(function(){a.update("Pruning empty containers...");this.kernel.pruneEmptyContainers();for(var c in this.processes)this.processes[c].pruneEmptyContainers()},this));l=l.after(function(){a.update("Merging kernel with userland...");
for(var c in this.processes)this.processes[c].mergeKernelWithUserland()},this);l=l.after(function(){a.update("Computing final world bounds...");this.updateBounds();this.updateCategories_();e&&this.shiftWorldToZero()},this);l=l.after(function(){a.update("Building flow event map...");for(var c=0;c<this.flowEvents.length;++c){var e=this.flowEvents[c];this.flowIntervalTree.insert(e[0],e[1])}this.flowIntervalTree.updateHighValues()},this);l=l.after(function(){a.update("Joining object refs...");for(var c=
0;c<m.length;c++)m[c].joinRefs()},this);l=l.after(function(){a.update("Cleaning up undeleted objects...");for(var c in this.processes)this.processes[c].autoDeleteObjects(this.bounds.max)},this);l=l.after(function(){a.update("Initializing objects (step 2/2)...");for(var c in this.processes)this.processes[c].initializeObjects()},this);l.after(function(){this.importing_=!1},this);return k},importWarning:function(a){this.importWarnings_.push(a);!0!==this.reportedImportWarnings_[a.type]&&(console.warn(a.message),
this.reportedImportWarnings_[a.type]=!0)},get hasImportWarnings(){return 0<this.importWarnings_.length},get importWarnings(){return this.importWarnings_},iterateAllEvents:function(a,c){this.instantEvents.forEach(a,c);this.kernel.iterateAllEvents(a,c);for(var e in this.processes)this.processes[e].iterateAllEvents(a,c);this.samples.forEach(a,c)},iterateAllPersistableObjects:function(a){this.kernel.iterateAllPersistableObjects(a);for(var c in this.processes)this.processes[c].iterateAllPersistableObjects(a)}};
return{TraceModel:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,b,c,f,d){tracing.trace_model.TimedEvent.call(this);this.category=a||"";this.title=b;this.colorId=c;this.start=f;this.args=d;this.type=void 0}function a(a,b,c,k,l){d.apply(this,arguments);this.type=f.GLOBAL}function c(a,b,c,k,l){d.apply(this,arguments);this.type=f.PROCESS}function b(a,b,c,k,l){d.apply(this,arguments);this.type=f.THREAD}var f={GLOBAL:1,PROCESS:2,THREAD:3};d.prototype={__proto__:tracing.trace_model.TimedEvent.prototype,selected:!1};
a.prototype={__proto__:d.prototype};c.prototype={__proto__:d.prototype};b.prototype={__proto__:d.prototype};return{GlobalInstantEvent:a,ProcessInstantEvent:c,ThreadInstantEvent:b,InstantEventType:f,InstantEvent:d}});"use strict";
tv.exportTo("tracing.trace_model",function(){function d(a,c,b,f,e,d){tracing.trace_model.TimedEvent.call(this,e);this.category=a||"";this.title=b;this.colorId=f;this.start=e;this.args=d;this.id=c;this.previousFlowEvent_=this.nextFlowEvent_=void 0}d.prototype={__proto__:tracing.trace_model.TimedEvent.prototype,set nextFlowEvent(a){this.nextFlowEvent_=a},set previousFlowEvent(a){this.previousFlowEvent_=a},get nextFlowEvent(){return this.nextFlowEvent_},get previousFlowEvent(){return this.previousFlowEvent_}};
return{FlowEvent:d}});"use strict";
tv.exportTo("tracing",function(){function d(a){this.sunburst_zoom_level=void 0;this.bounds_dirty_=!0;this.bounds_=new tv.Range;this.length_=0;this.guid_=tv.GUID.allocate();this.pushed_guids_={};if(a)for(var c=0;c<a.length;c++)this.push(a[c])}var a=tv.Event.bind(void 0,"requestSelectionChange",!0,!1),c=[{constructor:tracing.trace_model.Slice,name:"slice",pluralName:"slices"},{constructor:tracing.trace_model.InstantEvent,name:"instantEvent",pluralName:"instantEvents"},{constructor:tracing.trace_model.CounterSample,
name:"counterSample",pluralName:"counterSamples"},{constructor:tracing.trace_model.ObjectSnapshot,name:"objectSnapshot",pluralName:"objectSnapshots"},{constructor:tracing.trace_model.ObjectInstance,name:"objectInstance",pluralName:"objectInstances"},{constructor:tracing.trace_model.Sample,name:"sample",pluralName:"samples"},{constructor:tracing.trace_model.FlowEvent,name:"flowEvent",pluralName:"flowEvents"}];d.prototype={__proto__:Object.prototype,get bounds(){if(this.bounds_dirty_){this.bounds_.reset();
for(var a=0;a<this.length_;a++)this[a].addBoundsToRange(this.bounds_);this.bounds_dirty_=!1}return this.bounds_},get duration(){return this.bounds_.isEmpty?0:this.bounds_.max-this.bounds_.min},get length(){return this.length_},get guid(){return this.guid_},clear:function(){for(var a=0;a<this.length_;++a)delete this[a];this.length_=0;this.bounds_dirty_=!0},push:function(a){if(void 0==a.guid)throw Error("Event must have a GUID");if(this.pushed_guids_[a.guid])return a;this.pushed_guids_[a.guid]=!0;this[this.length_++]=
a;this.bounds_dirty_=!0;return a},addSelection:function(a){for(var c=0;c<a.length;c++)this.push(a[c])},subSelection:function(a,c){c=c||1;var e=new d;e.bounds_dirty_=!0;if(0>a||a+c>this.length_)throw Error("Index out of bounds");for(var h=a;h<a+c;h++)e.push(this[h]);return e},getEventsOrganizedByType:function(a){var f={};c.forEach(function(a){f[a.pluralName]=new d;void 0!==this.sunburst_zoom_level&&(f[a.pluralName].sunburst_zoom_level=this.sunburst_zoom_level)},this);for(var e=0;e<this.length_;e++){var h=
this[e];c.forEach(function(a){h instanceof a.constructor&&f[a.pluralName].push(h)})}if(a){a={};for(var g in f)0<f[g].length&&(a[g]=f[g]);return a}return f},enumEventsOfType:function(a,c){for(var e=0;e<this.length_;e++)this[e]instanceof a&&c(this[e])},getShiftedSelection:function(a,c){for(var e=new d,h=0;h<this.length_;h++){var g=this[h];if(g instanceof tracing.trace_model.FlowEvent)if(0<c&&g.nextFlowEvent){e.push(g.nextFlowEvent);continue}else if(0>c&&g.previousFlowEvent){e.push(g.previousFlowEvent);
continue}a.trackForEvent(g).addItemNearToProvidedEventToSelection(g,c,e)}return 0==e.length?void 0:e},forEach:function(a,c){for(var e=0;e<this.length;e++)a.call(c,this[e],e)},map:function(a,c){for(var e=[],d=0;d<this.length;d++)e.push(a.call(c,this[d],d));return e},every:function(a,c){for(var e=0;e<this.length;e++)if(!a.call(c,this[e],e))return!1;return!0},some:function(a,c){for(var e=0;e<this.length;e++)if(a.call(c,this[e],e))return!0;return!1}};return{Selection:d,RequestSelectionChangeEvent:a}});
"use strict";
tv.exportTo("tracing.analysis",function(){var d=tracing.analysis.tsRound,a=tracing.RequestSelectionChangeEvent,c=tv.ui.define("a");c.prototype={__proto__:HTMLAnchorElement.prototype,decorate:function(){this.classList.add("analysis-link");this.addEventListener("click",this.onClicked_.bind(this))},onClicked_:function(){var b=new a;b.selection=this.selectionGenerator();this.dispatchEvent(b)}};var b=tv.ui.define("object-snapshot-link",c);b.prototype={__proto__:c.prototype,decorate:function(){c.prototype.decorate.apply(this)},set objectSnapshot(a){this.textContent=
a.objectInstance.typeName+" "+a.objectInstance.id+" @ "+d(a.ts)+" ms";this.selectionGenerator=function(){var b=new tracing.Selection;b.push(a);return b}.bind(this)}};var f=tv.ui.define("object-instance-link",c);f.prototype={__proto__:c.prototype,decorate:function(){c.prototype.decorate.apply(this)},set objectInstance(a){this.textContent=a.typeName+" "+a.id;this.selectionGenerator=function(){var b=new tracing.Selection;b.push(a);return b}.bind(this)}};return{RequestSelectionChangeEvent:a,AnalysisLink:c,
ObjectSnapshotLink:b,ObjectInstanceLink:f}});"use strict";
tv.exportTo("tracing.analysis",function(){var d=tv.ui.define("x-generic-object-view");d.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.object_=void 0},get object(){return this.object_},set object(a){this.object_=a;this.updateContents_()},updateContents_:function(){this.textContent="";this.appendElementsForType_("",this.object_,0,0,5,"")},appendElementsForType_:function(a,b,f,e,d,g){if(e>d)this.appendSimpleText_(a,f,"<recursion limit reached>",g);else if(void 0===b)this.appendSimpleText_(a,
f,"undefined",g);else if(null===b)this.appendSimpleText_(a,f,"null",g);else{if(!(b instanceof Object))if("string"==typeof b){var k=!1;if("{"==b[0]&&"}"==b[b.length-1]||"["==b[0]&&"]"==b[b.length-1])try{b=JSON.parse(b),k=!0}catch(l){}if(!k)return this.appendSimpleText_(a,f,'"'+b+'"',g)}else return this.appendSimpleText_(a,f,b,g);b instanceof tracing.trace_model.ObjectSnapshot?(e=new tracing.analysis.ObjectSnapshotLink(b),e.objectSnapshot=b,this.appendElementWithLabel_(a,f,e,g)):b instanceof tracing.trace_model.ObjectInstance?
(e=new tracing.analysis.ObjectInstanceLink(b),e.objectInstance=b,this.appendElementWithLabel_(a,f,e,g)):b instanceof tv.Rect?this.appendSimpleText_(a,f,b.toString(),g):b instanceof Array?this.appendElementsForArray_(a,b,f,e,d,g):this.appendElementsForObject_(a,b,f,e,d,g)}},appendElementsForArray_:function(a,b,f,e,d,g){if(0==b.length)this.appendSimpleText_(a,f,"[]",g);else{this.appendElementsForType_(a+"[",b[0],f,e+1,d,1<b.length?",":"]"+g);for(var k=1;k<b.length;k++)this.appendElementsForType_("",
b[k],f+a.length+1,e+1,d,k<b.length-1?",":"]"+g)}},appendElementsForObject_:function(a,b,f,e,d,g){var k=tv.dictionaryKeys(b);if(0==k.length)this.appendSimpleText_(a,f,"{}",g);else{this.appendElementsForType_(a+"{"+k[0]+": ",b[k[0]],f,e,d,1<k.length?",":"}"+g);for(var l=1;l<k.length;l++)this.appendElementsForType_(k[l]+": ",b[k[l]],f+a.length+1,e+1,d,l<k.length-1?",":"}"+g)}},appendElementWithLabel_:function(a,b,f,e){var d=document.createElement("div"),g=document.createElement("span");g.style.whiteSpace=
"pre";for(var k=0;k<b;k++)g.textContent+=" ";d.appendChild(g);b=document.createElement("span");b.textContent=a;d.appendChild(b);d.appendChild(f);a=document.createElement("span");a.textContent=e;d.appendChild(a);d.dataElement=f;this.appendChild(d)},appendSimpleText_:function(a,b,f,e){var d=this.ownerDocument.createElement("span");d.textContent=f;this.appendElementWithLabel_(a,b,d,e);return d}};var a=tv.ui.define("x-generic-object-view-with-label");a.prototype={__proto__:HTMLUnknownElement.prototype,
decorate:function(){this.labelEl_=document.createElement("div");this.genericObjectView_=new tracing.analysis.GenericObjectView;this.appendChild(this.labelEl_);this.appendChild(this.genericObjectView_)},get label(){return this.labelEl_.textContent},set label(a){this.labelEl_.textContent=a},get object(){return this.genericObjectView_.object},set object(a){this.genericObjectView_.object=a}};return{GenericObjectView:d,GenericObjectViewWithLabel:a}});"use strict";
tv.exportTo("tracing.analysis",function(){var d=tv.ui.define("div");d.prototype={__proto__:HTMLDivElement.prototype,decorate:function(){this.className="analysis-results"},get requiresTallView(){return!0},clear:function(){this.textContent=""},createSelectionChangingLink:function(a,c,b){var f=this.ownerDocument.createElement("a");tracing.analysis.AnalysisLink.decorate(f);f.textContent=a;f.selectionGenerator=c;b&&(f.title=b);return f},appendElement_:function(a,c,b){c=a.ownerDocument.createElement(c);
a.appendChild(c);void 0!=b&&(c.textContent=b);return c},appendText_:function(a,c){a.ownerDocument.createTextNode(c);a.appendChild(textNode);return textNode},appendTableCell_:function(a,c,b,f,e){c=this.appendElement_(c,"td",f);c.className=a.className+"-col-"+b;e&&(a=document.createElement("span"),a.textContent=" "+String.fromCharCode(9888),a.title=e,c.appendChild(a));return c},appendTableCell:function(a,c,b){return this.appendTableCell_(a,c,c.children.length,b)},appendTableCellWithTooltip_:function(a,
c,b,f,e){return e?(c=this.appendElement_(c,"td"),c.className=a.className+"-col-"+b,a=this.appendElement_(c,"span",f),a.className="tooltip",a.title=e,c):this.appendTableCell_(a,c,b,f)},appendHeader:function(a){a=this.appendElement_(this,"span",a);a.className="analysis-header";return a},appendInfo:function(a,c){var b=this.appendElement_(this,"div");b.label=this.appendElement_(b,"b",a);b.value=this.appendElement_(b,"span",c);return b},appendTable:function(a,c){var b=this.appendElement_(this,"table");
b.className=a+" analysis-table";b.numColumns=c;return b},appendHeadRow:function(a){if(a.headerRow)throw Error("Only one header row allowed.");if(a.tbody||a.tfoot)throw Error("Cannot add a header row after data rows have been added.");a.headerRow=this.appendElement_(this.appendElement_(a,"thead"),"tr");a.headerRow.className="analysis-table-header";return a.headerRow},appendBodyRow:function(a){if(a.tfoot)throw Error("Cannot add a tbody row after footer rows have been added.");a.tbody||(a.tbody=this.appendElement_(a,
"tbody"));var c=this.appendElement_(a.tbody,"tr");c.className=a.headerRow?"analysis-table-row":"analysis-table-row-inverted";return c},appendFootRow:function(a){a.tfoot||(a.tfoot=this.appendElement_(a,"tfoot"),a.tfoot.rowsClassName=((a.headerRow?1:0)+(a.tbody?a.tbody.rows.length:0))%2?"analysis-table-row":"analysis-table-row-inverted");var c=this.appendElement_(a.tfoot,"tr");c.className=a.tfoot.rowsClassName;return c},appendSpacingRow:function(a,c){for(var b=a.tfoot||c?this.appendFootRow(a):this.appendBodyRow(a),
f=0;f<a.numColumns;f++)this.appendTableCell_(a,b,f," ")},appendInfoRow:function(a,c,b,f){f=a.tfoot||f?this.appendFootRow(a):this.appendBodyRow(a);this.appendTableCell_(a,f,0,c);void 0!==b?(c=new tracing.analysis.GenericObjectView,c.object=b,c.classList.add("analysis-table-col-1"),c.style.display="table-cell",f.appendChild(c)):this.appendTableCell_(a,f,1,"");for(b=2;b<a.numColumns;b++)this.appendTableCell_(a,f,b,"")},appendInfoRowTime:function(a,c,b,f,e){f=a.tfoot||f?this.appendFootRow(a):this.appendBodyRow(a);
this.appendTableCell_(a,f,0,c);this.appendTableCell_(a,f,1,tracing.analysis.tsRound(b)+" ms",e)},appendDetailsRow:function(a,c,b,f,e,d,g){var k=this.appendBodyRow(a);if(d){var l=this.appendTableCell(a,k,tracing.analysis.tsRound(c));l.textContent="";l.appendChild(this.createSelectionChangingLink(tracing.analysis.tsRound(c),d,""))}else this.appendTableCell(a,k,tracing.analysis.tsRound(c));null!==b&&this.appendTableCell(a,k,tracing.analysis.tsRound(b));g&&this.appendTableCell(a,k,""!=g?tracing.analysis.tsRound(g):
"");null!==f&&this.appendTableCell(a,k,tracing.analysis.tsRound(f));a=this.appendTableCell(a,k,"");c=0;for(var m in e)c+=1;if(0<c)for(m in e)b=e[m],c=new tracing.analysis.GenericObjectView,c.object=b,b=this.appendElement_(this.appendElement_(a,"table"),"tr"),this.appendElement_(b,"td",m+":"),this.appendElement_(b,"td").appendChild(c)},appendDataRow:function(a,c,b,f,e,d,g,k,l,m,n){var p=void 0;l&&(p="Min Duration:\t"+tracing.analysis.tsRound(l.min)+" ms \rMax Duration:\t"+tracing.analysis.tsRound(l.max)+
" ms \rAvg Duration:\t"+tracing.analysis.tsRound(l.avg)+" ms (\u03c3 = "+tracing.analysis.tsRound(l.avg_stddev)+")",l.start&&(p+="\rStart Time:\t"+tracing.analysis.tsRound(l.start)+" ms"),l.end&&(p+="\rEnd Time:\t"+tracing.analysis.tsRound(l.end)+" ms"),l.frequency&&l.frequency_stddev&&(p+="\rFrequency:\t"+tracing.analysis.tsRound(l.frequency)+" occurrences/s (\u03c3 = "+tracing.analysis.tsRound(l.frequency_stddev)+")"));l=a.tfoot||n?this.appendFootRow(a):this.appendBodyRow(a);n=0;if(m){var q=this.appendTableCellWithTooltip_(a,
l,n,c,p);q&&(q.textContent="",q.appendChild(this.createSelectionChangingLink(c,m,p)))}else this.appendTableCellWithTooltip_(a,l,n,c,p);n++;null!==b&&(b?b instanceof Array?this.appendTableCellWithTooltip_(a,l,n,"["+b.join(", ")+"]",p):this.appendTableCellWithTooltip_(a,l,n,tracing.analysis.tsRound(b),p):this.appendTableCell_(a,l,n,""),n++);null!==f&&(""!=f?this.appendTableCellWithTooltip_(a,l,n,tracing.analysis.tsRound(f),p):this.appendTableCell_(a,l,n,""),n++);null!==e&&(e?this.appendTableCellWithTooltip_(a,
l,n,tracing.analysis.tsRound(e),p):this.appendTableCell_(a,l,n,""),n++);null!==d&&(d?this.appendTableCellWithTooltip_(a,l,n,tracing.analysis.tsRound(d),p):this.appendTableCell_(a,l,n,""),n++);null!==k&&(k?this.appendTableCellWithTooltip_(a,l,n,k,p):this.appendTableCell_(a,l,n,""),n++);g?this.appendTableCellWithTooltip_(a,l,n,String(g),p):this.appendTableCell_(a,l,n,"")}};return{AnalysisResults:d}});"use strict";
(function(){var d=[];tracing.registerAnalysisSubViewType=function(a,c,b,f){d.push({importance:a,supportsSelectionPredicate:c,viewConstructor:b,options:f?f:{passSelectionToConstructor:!1}})};tracing.getAnalysisSubViewTypes=function(){return d}})();Polymer("tracing-analysis-sub-view",{set selection(d){throw Error("Not implemented!");},get selection(){throw Error("Not implemented!");},set tabLabel(d){return this.setAttribute("tab-label",d)},get tabLabel(){return this.getAttribute("tab-label")}});"use strict";
tv.onPolymerReady(function(){tracing.registerAnalysisSubViewType(0,function(d){return d[0]instanceof tracing.trace_model.CounterSample},MultipleCounterSamplesAnalysisSubView)});
(function(){var d=tracing.trace_model.CounterSample;Polymer("multiple-counter-samples-analysis-sub-view",{created:function(){this.currentSelection_=void 0},set selection(a){this.currentSelection_=a;this.textContent="";var c=new tracing.analysis.AnalysisResults;this.appendChild(c);this.analyzeCounterSamples_(c,a)},get selection(){return this.currentSelection_},analyzeCounterSamples_:function(a,c){for(var b={},f=0;f<c.length;f++){var e=c[f].series.counter;b[e.guid]||(b[e.guid]=[]);b[e.guid].push(c[f])}for(var h in b)f=
b[h],e=f[0].series.counter,f=d.groupByTimestamp(f),1==f.length?this.analyzeSingleCounterTimestamp_(a,e,f[0]):this.analyzeMultipleCounterTimestamps_(a,e,f)},analyzeSingleCounterTimestamp_:function(a,c,b){a.appendHeader("Selected counter:");var f=a.appendTable("analysis-counter-table",2);a.appendInfoRow(f,"Title",c.name);a.appendInfoRowTime(f,"Timestamp",b[0].timestamp);for(c=0;c<b.length;c++){var e=b[c];a.appendInfoRow(f,e.series.name,e.value)}},analyzeMultipleCounterTimestamps_:function(a,c,b){a.appendHeader("Counter "+
c.name);for(var f=a.appendTable("analysis-counter-table",2),e=[],d=0;d<b.length;d++)e.push(b[d][0].getSampleIndex());b=c.getSampleStatistics(e);for(d=0;d<b.length;d++){for(var g=[],k=0;k<e.length;++k)g.push(c.getSeries(d).getSample(e[k]).value);a.appendDataRow(f,c.name+": series("+c.getSeries(d).name+")",g,null,null,null,g.length,null,b[d])}}})})();"use strict";
tv.onPolymerReady(function(){tracing.registerAnalysisSubViewType(0,function(d){return d[0]instanceof tracing.trace_model.ObjectInstance||d[0]instanceof tracing.trace_model.ObjectSnapshot},function(d){if(1!=d.length)return new MultipleObjectsAnalysisSubView;d=d[0];var a,c;if(d instanceof tracing.trace_model.ObjectSnapshot)a=d.objectInstance.typeName,c=tracing.analysis.ObjectSnapshotView,d=tracing.analysis.DefaultObjectSnapshotView;else if(d instanceof tracing.trace_model.ObjectInstance)a=d.typeName,
c=tracing.analysis.ObjectInstanceView,d=tracing.analysis.DefaultObjectInstanceView;else throw Error("Not recognized");return(a=c.getViewInfo(a))?new a.constructor:new d},{passSelectionToConstructor:!0})});
Polymer("multiple-objects-analysis-sub-view",{created:function(){this.currentSelection_=void 0},set selection(d){this.currentSelection_=d;this.textContent="";if(0!==d.length){var a=new tracing.analysis.AnalysisResults;this.appendChild(a);this.analyzeObjectEvents_(a,d)}},get selection(){return this.currentSelection_},analyzeObjectEvents_:function(d,a){a=tv.asArray(a).sort(tv.Range.compareByMinTimes);d.appendHeader("Selected Objects:");var c=d.appendTable("analysis-object-sample-table",2);a.forEach(function(a){var f=
d.appendBodyRow(c),e,h,g;a instanceof tracing.trace_model.ObjectSnapshot?(e=tracing.analysis.tsRound(a.ts),h=a.objectInstance.typeName+" "+a.objectInstance.id,g=function(){var c=new tracing.Selection;c.push(a);return c}):(e=a.deletionTs==Number.MAX_VALUE?"":tracing.analysis.tsRound(a.deletionTs),e=tracing.analysis.tsRound(a.creationTs)+"-"+e,h=a.typeName+" "+a.id,g=function(){var c=new tracing.Selection;c.push(a);return c});d.appendTableCell(c,f,e);d.appendTableCell(c,f,"").appendChild(d.createSelectionChangingLink(h,
g))})}});"use strict";
tv.exportTo("tv.ui",function(){function d(a,b){return c(a,b)}function a(a,b){return c(b,a)}function c(a,b){var c=parseFloat(a),d=parseFloat(b);return isNaN(c)&&isNaN(d)?a.toString().localeCompare(b.toString()):isNaN(c)?-1:isNaN(d)?1:c-d}var b=tv.ui.define("sortable-table");b.prototype={__proto__:HTMLTableElement.prototype,decorate:function(){this.classList.add("sortable-table");if(this.tHead){for(var a=this.tHead.rows[0],b=window.history.state,c=0;c<a.cells.length;c++)a.cells[c].addEventListener("click",this.onItemClicked_,
!0),a.cells[c].innerHTML+="&nbsp;&#x25BF";b&&b.tableSorting&&(a=this.sortingHashCode_(),b.tableSorting[a]&&this.sort(b.tableSorting[a].col,b.tableSorting[a].sortDirection))}},onItemClicked_:function(a){var b=this.parentNode;a=b.parentNode.parentNode;var b=Array.prototype.slice.call(b.cells).indexOf(this),c=a.sort(b),d=history.state;d.tableSorting||(d.tableSorting={});d.tableSorting[a.sortingHashCode_()]={col:b,sortDirection:c};window.history.pushState(d)},sort:function(b,c){var h=this.tHead.rows[0],
g=h.cells[b];if(g.hasAttribute("sort")){var k=h,h=g.getAttribute("sort");if(c!=h){h="upward"==h?"downward":"upward";g.setAttribute("sort",h);k=g.innerHTML;g.innerHTML=k.substr(0,k.length-2)+("downward"==h?"&#x25BE":"&#x25B4");for(var k=g.parentNode,g=k.parentNode.parentNode.tBodies[0],k=[],l=0;l<g.rows.length;l++)k[k.length]=g.rows[l];for(l=k.length-1;0<=l;l--)g.appendChild(k[l])}return h}k=c||"downward";for(l=0;l<h.cells.length;l++)if(h.cells[l].getAttribute("sort")){h.cells[l].removeAttribute("sort");
var m=h.cells[l].innerHTML;h.cells[l].innerHTML=m.substr(0,m.length-2)+"&#x25BF"}m=h.cells[b].innerHTML;g.innerHTML=m.substr(0,m.length-2)+("downward"==k?"&#x25BE":"&#x25B4");g.setAttribute("sort",k);m=h.parentNode.parentNode.tBodies[0].rows;g=[];for(l=0;l<m.length;l++)g.push([m[l].cells[b].innerText,m[l]]);g.sort("downward"==k?d:a);for(l=0;l<g.length;l++)h.parentNode.parentNode.tBodies[0].appendChild(g[l][1]);return k},sortingHashCode_:function(){if(this.sortingHashValue_)return this.sortingHashValue_;
for(var a=this.tHead.rows[0].innerText,b=0,c=0;c<a.length;c++)127>a.charCodeAt(c)&&(b+=a.charCodeAt(c));return this.sortingHashValue_=Array.prototype.slice.call(document.getElementsByClassName("sortable-table")).indexOf(this)+""+b}};return{SortableTable:b}});"use strict";
tv.onPolymerReady(function(){tracing.registerAnalysisSubViewType(0,function(d){return 1!=d.length?!1:d[0]instanceof tracing.trace_model.Slice||d[0]instanceof tracing.trace_model.FlowEvent||d[0]instanceof tracing.trace_model.InstantEvent},function(d){return(d=tracing.analysis.SliceView.getViewInfo(d[0].analysisTypeName))?new d.constructor:new SingleSliceAnalysisSubView},{passSelectionToConstructor:!0});tracing.registerAnalysisSubViewType(0,function(d){return 1>=d.length?!1:d[0]instanceof tracing.trace_model.Slice||
d[0]instanceof tracing.trace_model.FlowEvent||d[0]instanceof tracing.trace_model.InstantEvent},MultipleSlicesAnalysisSubView)});
(function(){var d=[{type:tracing.trace_model.Slice,name:"Slice"},{type:tracing.trace_model.FlowEvent,name:"Flow Event"},{type:tracing.trace_model.InstantEvent,name:"Instant Event"}];Polymer("single-slice-analysis-sub-view",{created:function(){this.currentSelection_=void 0},set selection(a){this.currentSelection_=a;this.textContent="";if(0!==a.length){for(var c="",b=0;b<d.length;b++){var f=d[b];if(a[0]instanceof f.type){c=f.name;break}}b=new tracing.analysis.AnalysisResults;this.appendChild(b);this.analyzeSingleSlice_(b,
a[0],c)}},get selection(){return this.currentSelection_},analyzeSingleSlice_:function(a,c,b){a.appendHeader("Selected "+b+":");b=a.appendTable("analysis-slice-table",2);c.error&&a.appendInfoRow(b,"Error",c.error);c.title&&a.appendInfoRow(b,"Title",c.title);c.category&&a.appendInfoRow(b,"Category",c.category);a.appendInfoRowTime(b,"Start",c.start);a.appendInfoRowTime(b,"Wall Duration",c.duration);c.cpuDuration&&a.appendInfoRowTime(b,"CPU Duration",c.cpuDuration);c.selfTime&&a.appendInfoRowTime(b,"Self Time",
c.selfTime);if(c.cpuSelfTime){var f;c.cpuSelfTime>c.selfTime&&(f="Note that CPU Self Time is larger than Self Time. This is a known limitation of this system, which occurs due to several subslices, rounding issues, and inprecise time at which we get cpu- and real-time.");a.appendInfoRowTime(b,"CPU Self Time",c.cpuSelfTime,!1,f)}c.durationInUserTime&&a.appendInfoRowTime(b,"Duration (U)",c.durationInUserTime);f=0;for(var e in c.args)f+=1;if(0<f)for(e in a.appendInfoRow(b,"Args"),c.args)a.appendInfoRow(b,
" "+e,c.args[e])}})})();"use strict";
(function(){var d=[{type:tracing.trace_model.Slice,name:"Slices"},{type:tracing.trace_model.FlowEvent,name:"Flow Events"},{type:tracing.trace_model.InstantEvent,name:"Instant Events"}];Polymer("multiple-slices-analysis-sub-view",{created:function(){this.currentSelection_=void 0},set selection(a){this.currentSelection_=a;this.textContent="";if(0!==a.length){for(var c="",b=0;b<d.length;b++){var f=d[b];if(a[0]instanceof f.type){c=f.name;break}}b=new tracing.analysis.AnalysisResults;this.appendChild(b);
this.analyzeMultipleSlices_(b,a,c)}},get selection(){return this.currentSelection_},analyzeSingleTypeSlices_:function(a,c,b){a.appendInfo("Title: ",c[0].title);a.appendInfo("Category: ",c[0].category);var f=a.appendTable("analysis-slice-table",4+b),e=a.appendHeadRow(f);a.appendTableCell(f,e,"Start");a.appendTableCell(f,e,"Wall Duration (ms)");b&&a.appendTableCell(f,e,"CPU Duration (ms)");a.appendTableCell(f,e,"Self Time (ms)");a.appendTableCell(f,e,"Args");var d=0;tv.iterItems(c,function(b,c){d++;
a.appendDetailsRow(f,c.start,c.duration,c.selfTime?c.selfTime:c.duration,c.args,function(){return new tracing.Selection([c])},c.cpuDuration)});1<d&&tv.ui.SortableTable.decorate(f)},analyzeMultipleSlices_:function(a,c,b){for(var f=c.bounds.min,e=c.bounds.max,d=0,g={},k=!1,l=0;l<c.length;l++){var m=c[l];void 0===g[m.title]&&(g[m.title]=[],d++);m.cpuDuration&&(k=!0);g[m.title].push(c[l])}a.appendHeader(b+":");var n=a.appendTable("analysis-slice-table",4+k);b=a.appendHeadRow(n);a.appendTableCell(n,b,
"Name");a.appendTableCell(n,b,"Wall Duration (ms)");k&&a.appendTableCell(n,b,"CPU Duration (ms)");a.appendTableCell(n,b,"Self Time (ms)");k&&a.appendTableCell(n,b,"CPU Self Time (ms)");a.appendTableCell(n,b,"Occurrences");var p=this,q=0,r=0,t=0,u=0;tv.iterItems(g,function(b,c){for(var e=0,f=0,g=0,l=0,m=0,B=Number.MAX_VALUE,w=-Number.MAX_VALUE,K=Number.MAX_VALUE,P=-Number.MAX_VALUE,m=0;m<c.length;m++){var J=c[m],e=e+J.duration;J.cpuDuration&&(f+=J.cpuDuration,l+=J.cpuSelfTime?J.cpuSelfTime:J.cpuDuration);
g+=J.selfTime?J.selfTime:J.duration;B=Math.min(J.start,B);w=Math.max(J.start,w);K=Math.min(J.duration,K);P=Math.max(J.duration,P)}q+=e;r+=f;t+=g;u+=l;0==c.length&&(m=0);m=e/c.length;K={min:K,max:P,avg:m,avg_stddev:void 0,frequency:void 0,frequency_stddev:void 0};for(m=P=0;m<c.length;m++)J=K.avg-c[m].duration,P+=J*J;K.avg_stddev=Math.sqrt(P/(c.length-1));w-=B;if(2<c.length&&0<w){B=c.length-1;K.frequency=1E3*B/w;P=0;for(m=1;m<c.length;m++)J=K.frequency-1E3/(c[m].start-c[m-1].start),P+=J*J;K.frequency_stddev=
Math.sqrt(P/(B-1))}a.appendDataRow(n,b,e,k?0<f?f:"":null,g,k?0<l?l:"":null,c.length,null,K,function(){return new tracing.Selection(c)});1===d&&p.analyzeSingleTypeSlices_(a,c,k)});1!==d&&(a.appendDataRow(n,"Totals",q,k?r:null,t,k?u:null,c.length,null,null,null,!0),a.appendSpacingRow(n,!0),tv.ui.SortableTable.decorate(n));a.appendInfoRowTime(n,"Selection start",f,!0);a.appendInfoRowTime(n,"Selection extent",e-f,!0)}})})();"use strict";
tv.exportTo("tracing",function(){var d=tv.ui.define("x-timeline-view-panel"),a=[];d.getPanelConstructors=function(){return a};d.registerPanelSubtype=function(b){if(void 0===b.supportsModel)throw Error("Panel constructors must provide a supportsModel function");if(void 0===b.textLabel)throw Error("Panel constructors must provide a textLabel strig");a.push(b)};d.unregisterPanelSubtype=function(b){b=a.indexOf(b);if(-1==b)throw Error("Panel not registered");a.splice(b,1)};d.prototype={__proto__:HTMLUnknownElement.prototype,
decorate:function(){}};var c=tv.ui.define("x-timeline-view-side-panel-container");c.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.activePanelContainer_=document.createElement("active-panel-container");this.tabStrip_=document.createElement("tab-strip");this.appendChild(this.activePanelContainer_);this.appendChild(this.tabStrip_);this.model_=void 0;this.rangeOfInterest_=new tv.Range},get model(){return this.model_},set model(a){this.model_=a;this.updateContents_()},get expanded(){this.hasAttribute("expanded")},
get activePanel(){return 0===this.activePanelContainer_.children.length?void 0:this.activePanelContainer_.children[0]},get activePanelConstructor(){if(this.activePanel)return this.activePanel.constructor},set activePanelConstructor(a){if(void 0===this.model_)throw Error("Cannot activate panel without a model");if(a&&!a.supportsModel(this.model_))throw Error("Cannot activate panel: it doesn't support this model");this.activePanelConstructor&&this.getLabelForConstructor_(this.activePanelConstructor).removeAttribute("selected");
this.activePanelContainer_.textContent="";void 0===a?this.removeAttribute("expanded"):(this.getLabelForConstructor_(a).setAttribute("selected",!0),this.setAttribute("expanded",!0),a=new a,this.activePanelContainer_.appendChild(a),a.rangeOfInterest=this.rangeOfInterest_,a.selection=this.selection_,a.model=this.model_)},getLabelForConstructor_:function(a){for(var c=0;c<this.tabStrip_.children.length;c++)if(this.tabStrip_.children[c].panelConstructor==a)return this.tabStrip_.children[c]},updateContents_:function(){var b=
this.activePanelConstructor;this.tabStrip_.textContent="";var c=[];a.forEach(function(a){var b=document.createElement("tab-strip-label");b.textContent=a.textLabel;b.panelConstructor=a;var d=a.supportsModel(this.model_);this.model_&&d.supported?(c.push(a),b.setAttribute("enabled",!0),b.addEventListener("click",function(){this.activePanelConstructor=this.activePanelConstructor===a?void 0:a}.bind(this))):b.title="Not supported for the current trace: "+d.reason;this.tabStrip_.appendChild(b)},this);b&&
-1!=c.indexOf(b)?(this.activePanelConstructor=b,this.setAttribute("expanded",!0)):(this.activePanelContainer_.textContent="",this.removeAttribute("expanded"))},get selection(){return this.selection_},set selection(a){this.selection_=a;this.activePanel&&(this.activePanel.selection=a)},get rangeOfInterest(){return this.rangeOfInterest_},set rangeOfInterest(a){if(void 0==a)throw Error("Must not be undefined");this.rangeOfInterest_=a;this.activePanel&&(this.activePanel.rangeOfInterest=a)}};return{TimelineViewSidePanel:d,
TimelineViewSidePanelContainer:c}});"use strict";
tv.exportTo("tv",function(){function d(a){return a}function a(){}a.sum=function(a,b,f){b=b||d;for(var e=0,h=0;h<a.length;h++)e+=b.call(f,a[h],h);return e};a.mean=function(c,b,f){return a.sum(c,b,f)/c.length};a.variance=function(c,b,f){var e=b||d,h=a.mean(c,e,f);return a.sum(c,function(a,b){var c=e.call(this,a,b)-h;return c*c},f)/(c.length-1)};a.variance=function(c,b,f){return Math.sqrt(a.variance(c,b,f))};a.max=function(a,b,f){b=b||d;for(var e=-Infinity,h=0;h<a.length;h++)e=Math.max(e,b.call(f,a[h],
h));return e};a.min=function(a,b,f){b=b||d;for(var e=Infinity,h=0;h<a.length;h++)e=Math.min(e,b.call(f,a[h],h));return e};a.range=function(a,b,f){b=b||d;for(var e=new tv.Range,h=0;h<a.length;h++)e.addValue(b.call(f,a[h],h));return e};a.percentile=function(a,b,f,e){if(!(0<=b&&1>=b))throw Error("percent must be [0,1]");f=f||d;for(var h=Array(a.length),g=0;g<a.length;g++)h[g]=f.call(e,a[g],g);h.sort();return h[Math.floor((a.length-1)*b)]};return{Statistics:a}});
!function(){function d(a){return null!=a&&!isNaN(a)}function a(a){return a.length}function c(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}catch(e){a.prototype=b}}function b(){}function f(a){return db+a in this}function e(){var a=[];return this.forEach(function(b){a.push(b)}),a}function h(){var a=0,b;for(b in this)b.charCodeAt(0)===Nb&&++a;return a}function g(){for(var a in this)if(a.charCodeAt(0)===Nb)return!1;return!0}function k(){}function l(a,b,c){return function(){var e=
c.apply(b,arguments);return e===b?a:e}}function m(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.substring(1);for(var c=0,e=Sd.length;e>c;++c){var f=Sd[c]+b;if(f in a)return f}}function n(){}function p(){}function q(a){function c(){for(var b,f=e,d=-1,h=f.length;++d<h;)(b=f[d].on)&&b.apply(this,arguments);return a}var e=[],f=new b;return c.on=function(b,c){var d,h=f.get(b);return 2>arguments.length?h&&h.on:(h&&(h.on=null,e=e.slice(0,d=e.indexOf(h)).concat(e.slice(d+1)),f.remove(b)),c&&e.push(f.set(b,
{on:c})),a)},c}function r(){s.event.preventDefault()}function t(){for(var a,b=s.event;a=b.sourceEvent;)b=a;return b}function u(a){for(var b=new p,c=0,e=arguments.length;++c<e;)b[arguments[c]]=q(b);return b.of=function(c,e){return function(f){try{var d=f.sourceEvent=s.event;f.target=a;s.event=f;b[f.type].apply(c,e)}finally{s.event=d}}},b}function v(a){return Ob(a,ba),a}function z(a){return"function"==typeof a?a:function(){return Mc(a,this)}}function H(a){return"function"==typeof a?a:function(){return Nc(a,
this)}}function F(a,b){function c(){this.removeAttribute(a)}function e(){this.removeAttributeNS(a.space,a.local)}function f(){this.setAttribute(a,b)}function d(){this.setAttributeNS(a.space,a.local,b)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=s.ns.qualify(a),null==b?a.local?e:c:"function"==typeof b?a.local?
g:h:a.local?d:f}function G(a){return a.trim().replace(/\s+/g," ")}function C(a){return RegExp("(?:^|\\s+)"+s.requote(a)+"(?:\\s+|$)","g")}function A(a,b){function c(){for(var e=-1;++e<f;)a[e](this,b)}function e(){for(var c=-1,d=b.apply(this,arguments);++c<f;)a[c](this,d)}a=a.trim().split(/^|\s+/).map(B);var f=a.length;return"function"==typeof b?e:c}function B(a){var b=C(a);return function(c,e){if(f=c.classList)return e?f.add(a):f.remove(a);var f=c.getAttribute("class")||"";e?(b.lastIndex=0,b.test(f)||
c.setAttribute("class",G(f+" "+a))):c.setAttribute("class",G(f.replace(b," ")))}}function w(a,b,c){function e(){this.style.removeProperty(a)}function f(){this.style.setProperty(a,b,c)}function d(){var e=b.apply(this,arguments);null==e?this.style.removeProperty(a):this.style.setProperty(a,e,c)}return null==b?e:"function"==typeof b?d:f}function K(a,b){function c(){delete this[a]}function e(){this[a]=b}function f(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==
typeof b?f:e}function P(a){return"function"==typeof a?a:(a=s.ns.qualify(a)).local?function(){return this.ownerDocument.createElementNS(a.space,a.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,a)}}function J(a){return function(){return Td(this,a)}}function ca(a){return arguments.length||(a=s.ascending),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function R(a,b){for(var c=0,e=a.length;e>c;c++)for(var f,d=a[c],h=0,g=d.length;g>h;h++)(f=d[h])&&b(f,h,c);return a}
function ra(a){return Ob(a,Oa),a}function x(a){var b,c;return function(e,f,d){e=a[d].update;var h=e.length;d!=c&&(c=d,b=0);for(f>=b&&(b=f+1);!(f=e[b])&&++b<h;);return f}}function y(){var a=this.__transition__;a&&++a.active}function za(a,b,c){function e(){var b=this[h];b&&(this.removeEventListener(a,b,b.$),delete this[h])}function f(){var d=k(b,Wa(arguments));e.call(this);this.addEventListener(a,this[h]=d,d.$=c);d._=b}function d(){var b,c=RegExp("^__on([^.]+)"+s.requote(a)+"$"),e;for(e in this)if(b=
e.match(c)){var f=this[e];this.removeEventListener(b[1],f,f.$);delete this[e]}}var h="__on"+a,g=a.indexOf("."),k=X;0<g&&(a=a.substring(0,g));var l=Pc.get(a);return l&&(a=l,k=L),g?b?f:e:b?n:d}function X(a,b){return function(c){var e=s.event;s.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{s.event=e}}}function L(a,b){var c=X(a,b);return function(a){var b=a.relatedTarget;b&&(b===this||8&b.compareDocumentPosition(this))||c.call(this,a)}}function ea(){var a=".dragsuppress-"+ ++kg,b="click"+a,c=
s.select(sa).on("touchmove"+a,r).on("dragstart"+a,r).on("selectstart"+a,r);if(Ab){var e=Xa.style,f=e[Ab];e[Ab]="none"}return function(d){function h(){c.on(b,null)}c.on(a,null);Ab&&(e[Ab]=f);d&&(c.on(b,function(){r();h()},!0),setTimeout(h,0))}}function Q(a,b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||a;if(c.createSVGPoint){var e=c.createSVGPoint();if(0>Qc&&(sa.scrollX||sa.scrollY)){var c=s.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,
border:"none"},"important"),f=c[0][0].getScreenCTM();Qc=!(f.f||f.e);c.remove()}return Qc?(e.x=b.pageX,e.y=b.pageY):(e.x=b.clientX,e.y=b.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}c=a.getBoundingClientRect();return[b.clientX-c.left-a.clientLeft,b.clientY-c.top-a.clientTop]}function M(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function V(a){return 1<a?va:-1>a?-va:Math.asin(a)}function Z(a){return((a=Math.exp(a))+1/a)/2}function ja(a){return(a=Math.sin(a/2))*
a}function ga(){}function T(a,b,c){return new ka(a,b,c)}function ka(a,b,c){this.h=a;this.s=b;this.l=c}function ma(a,b,c){function e(a){return 360<a?a-=360:0>a&&(a+=360),60>a?f+(d-f)*a/60:180>a?d:240>a?f+(d-f)*(240-a)/60:f}var f,d;return a=isNaN(a)?0:0>(a%=360)?a+360:a,b=isNaN(b)?0:0>b?0:1<b?1:b,c=0>c?0:1<c?1:c,d=0.5>=c?c*(1+b):c+b-c*b,f=2*c-d,Ja(Math.round(255*e(a+120)),Math.round(255*e(a)),Math.round(255*e(a-120)))}function aa(a,b,c){return new E(a,b,c)}function E(a,b,c){this.h=a;this.c=b;this.l=
c}function Ka(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),ta(c,Math.cos(a*=U)*b,Math.sin(a)*b)}function ta(a,b,c){return new D(a,b,c)}function D(a,b,c){this.l=a;this.a=b;this.b=c}function La(a,b,c){a=(a+16)/116;b=a+b/500;c=a-c/200;return b=Rc(b)*Ud,a=Rc(a)*Vd,c=Rc(c)*Wd,Ja(Sc(3.2404542*b-1.5371385*a-0.4985314*c),Sc(-0.969266*b+1.8760108*a+0.041556*c),Sc(0.0556434*b-0.2040259*a+1.0572252*c))}function Xd(a,b,c){return 0<a?aa(Math.atan2(c,b)*ha,Math.sqrt(b*b+c*c),a):aa(0/0,0/0,a)}function Rc(a){return 0.206893034<
a?a*a*a:(a-4/29)/7.787037}function Tc(a){return 0.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Sc(a){return Math.round(255*(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function Qb(a){return Ja(a>>16,255&a>>8,255&a)+""}function Ja(a,b,c){return new Uc(a,b,c)}function Uc(a,b,c){this.r=a;this.g=b;this.b=c}function nb(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Yd(a,b,c){var e,f,d,h,g=0,k=0,l=0;if(f=/([a-z]+)\((.*)\)/i.exec(a))switch(d=f[2].split(","),
f[1]){case "hsl":return c(parseFloat(d[0]),parseFloat(d[1])/100,parseFloat(d[2])/100);case "rgb":return b(Vc(d[0]),Vc(d[1]),Vc(d[2]))}return(h=Rb.get(a))?b(h.r,h.g,h.b):(null!=a&&"#"===a.charAt(0)&&(e=parseInt(a.substring(1),16),isNaN(e)||(4===a.length?(g=(3840&e)>>4,g|=g>>4,k=240&e,k|=k>>4,l=15&e,l|=l<<4):7===a.length&&(g=(16711680&e)>>16,k=(65280&e)>>8,l=255&e))),b(g,k,l))}function Zd(a,b,c){var e,f,d=Math.min(a/=255,b/=255,c/=255),h=Math.max(a,b,c),g=h-d,k=(h+d)/2;return g?(f=0.5>k?g/(h+d):g/(2-
h-d),e=a==h?(b-c)/g+(c>b?6:0):b==h?(c-a)/g+2:(a-b)/g+4,e*=60):(e=0/0,f=0<k&&1>k?0:e),T(e,f,k)}function $d(a,b,c){a=Wc(a);b=Wc(b);c=Wc(c);var e=Tc((0.4124564*a+0.3575761*b+0.1804375*c)/Ud),f=Tc((0.2126729*a+0.7151522*b+0.072175*c)/Vd);a=Tc((0.0193339*a+0.119192*b+0.9503041*c)/Wd);return ta(116*f-16,500*(e-f),200*(f-a))}function Wc(a){return 0.04045>=(a/=255)?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function Vc(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function fa(a){return"function"==
typeof a?a:function(){return a}}function pa(a){return a}function Xc(a){return function(b,c,e){return 2===arguments.length&&"function"==typeof c&&(e=c,c=null),Sb(b,c,a,e)}}function Sb(a,b,c,e){function f(){var a,b=k.status;if(!b&&k.responseText||200<=b&&300>b||304===b){try{a=c.call(d,k)}catch(e){return h.error.call(d,e),void 0}h.load.call(d,a)}else h.error.call(d,k)}var d={},h=s.dispatch("beforesend","progress","load","error"),g={},k=new XMLHttpRequest,l=null;return!sa.XDomainRequest||"withCredentials"in
k||!/^(http(s)?:)?\/\//.test(a)||(k=new XDomainRequest),"onload"in k?k.onload=k.onerror=f:k.onreadystatechange=function(){3<k.readyState&&f()},k.onprogress=function(a){var b=s.event;s.event=a;try{h.progress.call(d,k)}finally{s.event=b}},d.header=function(a,b){return a=(a+"").toLowerCase(),2>arguments.length?g[a]:(null==b?delete g[a]:g[a]=b+"",d)},d.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",d):b},d.responseType=function(a){return arguments.length?(l=a,d):l},d.response=function(a){return c=
a,d},["get","post"].forEach(function(a){d[a]=function(){return d.send.apply(d,[a].concat(Wa(arguments)))}}),d.send=function(c,e,f){if(2===arguments.length&&"function"==typeof e&&(f=e,e=null),k.open(c,a,!0),null==b||"accept"in g||(g.accept=b+",*/*"),k.setRequestHeader)for(var $ in g)k.setRequestHeader($,g[$]);return null!=b&&k.overrideMimeType&&k.overrideMimeType(b),null!=l&&(k.responseType=l),null!=f&&d.on("error",f).on("load",function(a){f(null,a)}),h.beforesend.call(d,k),k.send(null==e?null:e),
d},d.abort=function(){return k.abort(),d},s.rebind(d,h,"on"),null==e?d:d.get(lg(e))}function lg(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Yc(){var a=ae(),a=be()-a;24<a?(isFinite(a)&&(clearTimeout(Tb),Tb=setTimeout(Yc,a)),Ub=0):(Ub=1,ce(Yc))}function ae(){var a=Date.now();for(Pa=Vb;Pa;)a>=Pa.t&&(Pa.f=Pa.c(a-Pa.t)),Pa=Pa.n;return a}function be(){for(var a,b=Vb,c=1/0;b;)b.f?b=a?a.n=b.n:Vb=b.n:(b.t<c&&(c=b.t),b=(a=b).n);return Wb=a,c}function Zc(a,b){return b-(a?Math.ceil(Math.log(a)/
Math.LN10):1)}function mg(a){var b=a.decimal,c=a.thousands,e=a.grouping,f=a.currency,d=e?function(a){for(var b=a.length,f=[],d=0,I=e[0];0<b&&0<I;)f.push(a.substring(b-=I,b+I)),I=e[d=(d+1)%e.length];return f.reverse().join(c)}:pa;return function(a){a=de.exec(a);var c=a[1]||" ",e=a[2]||">",I=a[3]||"",h=a[4]||"",g=a[5],k=+a[6],$=a[7],l=a[8],da=a[9],m=1,n="",p="",q=!1;switch(l&&(l=+l.substring(1)),(g||"0"===c&&"="===e)&&(g=c="0",e="=",$&&(k-=Math.floor((k-1)/4))),da){case "n":$=!0;da="g";break;case "%":m=
100;p="%";da="f";break;case "p":m=100;p="%";da="r";break;case "b":case "o":case "x":case "X":"#"===h&&(n="0"+da.toLowerCase());case "c":case "d":q=!0;l=0;break;case "s":m=-1,da="r"}"$"===h&&(n=f[0],p=f[1]);"r"!=da||l||(da="g");null!=l&&("g"==da?l=Math.max(1,Math.min(21,l)):("e"==da||"f"==da)&&(l=Math.max(0,Math.min(20,l))));var da=ng.get(da)||og,r=g&&$;return function(a){var f=p;if(q&&a%1)return"";var h=0>a||0===a&&0>1/a?(a=-a,"-"):I;0>m?(f=s.formatPrefix(a,l),a=f.scale(a),f=f.symbol+p):a*=m;a=da(a,
l);var ia=a.lastIndexOf("."),qa=0>ia?a:a.substring(0,ia),ia=0>ia?"":b+a.substring(ia+1);!g&&$&&(qa=d(qa));var D=n.length+qa.length+ia.length+(r?0:h.length),w=k>D?Array(D=k-D+1).join(c):"";return r&&(qa=d(w+qa)),h+=n,a=qa+ia,("<"===e?h+a+w:">"===e?w+h+a:"^"===e?w.substring(0,D>>=1)+h+a+w.substring(D):h+(r?a:w+a))+f}}}function og(a){return a+""}function Qa(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function eb(a,b,c){function e(b){var c=a(b),f=d(c,1);return f-
b>b-c?c:f}function f(c){return b(c=a(new ua(c-1)),1),c}function d(a,c){return b(a=new ua(+a),c),a}function h(a,e,d){a=f(a);var I=[];if(1<d)for(;e>a;)c(a)%d||I.push(new Date(+a)),b(a,1);else for(;e>a;)I.push(new Date(+a)),b(a,1);return I}a.floor=a;a.round=e;a.ceil=f;a.offset=d;a.range=h;var g=a.utc=Xb(a);return g.floor=g,g.round=Xb(e),g.ceil=Xb(f),g.offset=Xb(d),g.range=function(a,b,c){try{ua=Qa;var e=new Qa;return e._=a,h(e,b,c)}finally{ua=Date}},a}function Xb(a){return function(b,c){try{ua=Qa;var e=
new Qa;return e._=b,a(e,c)._}finally{ua=Date}}}function pg(a){function b(a){function e(b){for(var c,d,I,h=[],g=-1,Y=0;++g<f;)37===a.charCodeAt(g)&&(h.push(a.substring(Y,g)),null!=(d=ee[c=a.charAt(++g)])&&(c=a.charAt(++g)),(I=v[c])&&(c=I(b,null==d?"e"===c?" ":"0":d)),h.push(c),Y=g+1);return h.push(a.substring(Y,g)),h.join("")}var f=a.length;return e.parse=function(b){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(e,a,b,0)!=b.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);b=null!=e.Z&&ua!==Qa;
var f=new (b?Qa:ua);return"j"in e?f.setFullYear(e.y,0,e.j):"w"in e&&("W"in e||"U"in e)?(f.setFullYear(e.y,0,1),f.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(f.getDay()+5)%7:e.w+7*e.U-(f.getDay()+6)%7)):f.setFullYear(e.y,e.m,e.d),f.setHours(e.H+Math.floor(e.Z/100),e.M+e.Z%100,e.S,e.L),b?f._:f},e.toString=function(){return a},e}function c(a,b,e,f){for(var d,I,h,g=0,Y=b.length,k=e.length;Y>g;){if(f>=k)return-1;if(d=b.charCodeAt(g++),37===d){if(h=b.charAt(g++),I=A[h in ee?b.charAt(g++):h],!I||0>(f=I(a,
e,f)))return-1}else if(d!=e.charCodeAt(f++))return-1}return f}var e=a.dateTime,f=a.date,d=a.time,h=a.periods,g=a.days,k=a.shortDays,l=a.months,m=a.shortMonths;b.utc=function(a){function c(a){try{ua=Qa;var b=new ua;return b._=a,e(b)}finally{ua=Date}}var e=b(a);return c.parse=function(a){try{ua=Qa;var b=e.parse(a);return b&&b._}finally{ua=Date}},c.toString=e.toString,c};b.multi=b.utc.multi=qg;var n=s.map(),p=Yb(g),q=Zb(g),r=Yb(k),D=Zb(k),w=Yb(l),t=Zb(l),E=Yb(m),u=Zb(m);h.forEach(function(a,b){n.set(a.toLowerCase(),
b)});var v={a:function(a){return k[a.getDay()]},A:function(a){return g[a.getDay()]},b:function(a){return m[a.getMonth()]},B:function(a){return l[a.getMonth()]},c:b(e),d:function(a,b){return wa(a.getDate(),b,2)},e:function(a,b){return wa(a.getDate(),b,2)},H:function(a,b){return wa(a.getHours(),b,2)},I:function(a,b){return wa(a.getHours()%12||12,b,2)},j:function(a,b){return wa(1+O.dayOfYear(a),b,3)},L:function(a,b){return wa(a.getMilliseconds(),b,3)},m:function(a,b){return wa(a.getMonth()+1,b,2)},M:function(a,
b){return wa(a.getMinutes(),b,2)},p:function(a){return h[+(12<=a.getHours())]},S:function(a,b){return wa(a.getSeconds(),b,2)},U:function(a,b){return wa(O.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return wa(O.mondayOfYear(a),b,2)},x:b(f),X:b(d),y:function(a,b){return wa(a.getFullYear()%100,b,2)},Y:function(a,b){return wa(a.getFullYear()%1E4,b,4)},Z:rg,"%":function(){return"%"}},A={a:function(a,b,c){r.lastIndex=0;return(b=r.exec(b.substring(c)))?(a.w=D.get(b[0].toLowerCase()),
c+b[0].length):-1},A:function(a,b,c){p.lastIndex=0;return(b=p.exec(b.substring(c)))?(a.w=q.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){E.lastIndex=0;return(b=E.exec(b.substring(c)))?(a.m=u.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){w.lastIndex=0;return(b=w.exec(b.substring(c)))?(a.m=t.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,b,e){return c(a,v.c.toString(),b,e)},d:fe,e:fe,H:ge,I:ge,j:sg,L:tg,m:ug,M:vg,p:function(a,b,c){b=n.get(b.substring(c,c+=2).toLowerCase());
return null==b?-1:(a.p=b,c)},S:wg,U:xg,w:yg,W:zg,x:function(a,b,e){return c(a,v.x.toString(),b,e)},X:function(a,b,e){return c(a,v.X.toString(),b,e)},y:Ag,Y:Bg,Z:Cg,"%":Dg};return b}function wa(a,b,c){var e=0>a?"-":"";a=(e?-a:a)+"";var f=a.length;return e+(c>f?Array(c-f+1).join(b)+a:a)}function Yb(a){return RegExp("^(?:"+a.map(s.requote).join("|")+")","i")}function Zb(a){for(var c=new b,e=-1,f=a.length;++e<f;)c.set(a[e].toLowerCase(),e);return c}function yg(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c,
c+1)))?(a.w=+b[0],c+b[0].length):-1}function xg(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c)))?(a.U=+b[0],c+b[0].length):-1}function zg(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c)))?(a.W=+b[0],c+b[0].length):-1}function Bg(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function Ag(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function Cg(a,b,c){return/^[+-]\d{4}$/.test(b=b.substring(c,
c+5))?(a.Z=+b,c+5):-1}function ug(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function fe(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function sg(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function ge(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function vg(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c,c+2)))?(a.M=
+b[0],c+b[0].length):-1}function wg(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function tg(a,b,c){na.lastIndex=0;return(b=na.exec(b.substring(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function rg(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=~~(W(b)/60),b=W(b)%60;return a+wa(c,"0",2)+wa(b,"0",2)}function Dg(a,b,c){he.lastIndex=0;return(a=he.exec(b.substring(c,c+1)))?c+a[0].length:-1}function qg(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);
return function(b){for(var c=0,e=a[c];!e[1](b);)e=a[++c];return e[0](b)}}function ad(){}function ie(a,b,c){var e=c.s=a+b,f=e-a;c.t=a-(e-f)+(b-f)}function $b(a,b){a&&je.hasOwnProperty(a.type)&&je[a.type](a,b)}function bd(a,b,c){var e=-1,f=a.length-c;for(b.lineStart();++e<f;)c=a[e],b.point(c[0],c[1],c[2]);b.lineEnd()}function ke(a,b){var c=-1,e=a.length;for(b.polygonStart();++c<e;)bd(a[c],b,1);b.polygonEnd()}function Eg(){function a(b,c){b*=U;c=c*U/2+S/4;var I=b-e,h=0<=I?1:-1,g=h*I,I=Math.cos(c),k=
Math.sin(c),Y=d*k,$=f*I+Y*Math.cos(g),h=Y*h*Math.sin(g);fb.add(Math.atan2(h,$));e=b;f=I;d=k}var b,c,e,f,d;Aa.point=function(h,g){Aa.point=a;e=(b=h)*U;f=Math.cos(g=(c=g)*U/2+S/4);d=Math.sin(g)};Aa.lineEnd=function(){a(b,c)}}function gb(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function ac(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function ob(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function cd(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=
b[2]}function bc(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function dc(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function ec(a){return[Math.atan2(a[1],a[0]),V(a[2])]}function fc(a,b){return W(a[0]-b[0])<N&&W(a[1]-b[1])<N}function dd(a,b){a*=U;var c=Math.cos(b*=U);Bb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function Bb(a,b,c){++Cb;Ra+=(a-Ra)/Cb;Sa+=(b-Sa)/Cb;Ma+=(c-Ma)/Cb}function le(){function a(f,d){f*=U;var I=Math.cos(d*=U),h=I*Math.cos(f),I=I*Math.sin(f),g=Math.sin(d),k=
Math.atan2(Math.sqrt((k=c*g-e*I)*k+(k=e*h-b*g)*k+(k=b*I-c*h)*k),b*h+c*I+e*g);pb+=k;Da+=k*(b+(b=h));Ea+=k*(c+(c=I));xa+=k*(e+(e=g));Bb(b,c,e)}var b,c,e;Ga.point=function(f,d){f*=U;var h=Math.cos(d*=U);b=h*Math.cos(f);c=h*Math.sin(f);e=Math.sin(d);Ga.point=a;Bb(b,c,e)}}function me(){Ga.point=dd}function Fg(){function a(b,c){b*=U;var I=Math.cos(c*=U),h=I*Math.cos(b),I=I*Math.sin(b),g=Math.sin(c),k=f*g-d*I,Y=d*h-e*g,$=e*I-f*h,l=Math.sqrt(k*k+Y*Y+$*$),m=e*h+f*I+d*g,n=l&&-(1<m?0:-1>m?S:Math.acos(m))/l,
l=Math.atan2(l,m);Ya+=n*k;Za+=n*Y;Na+=n*$;pb+=l;Da+=l*(e+(e=h));Ea+=l*(f+(f=I));xa+=l*(d+(d=g));Bb(e,f,d)}var b,c,e,f,d;Ga.point=function(h,g){b=h;c=g;Ga.point=a;h*=U;var k=Math.cos(g*=U);e=k*Math.cos(h);f=k*Math.sin(h);d=Math.sin(g);Bb(e,f,d)};Ga.lineEnd=function(){a(b,c);Ga.lineEnd=me;Ga.point=dd}}function qb(){return!0}function ne(a,b,c,e,f){var d=[],h=[];if(a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],e=a[b];if(fc(c,e)){f.lineStart();for(e=0;b>e;++e)f.point((c=a[e])[0],c[1]);return f.lineEnd(),
void 0}b=new gc(c,a,null,!0);c=new gc(c,null,b,!1);b.o=c;d.push(b);h.push(c);b=new gc(e,a,null,!1);c=new gc(e,null,b,!0);b.o=c;d.push(b);h.push(c)}}),h.sort(b),oe(d),oe(h),d.length){a=0;b=c;for(c=h.length;c>a;++a)h[a].e=b=!b;for(var g,k=d[0];;){for(var l=k,m=!0;l.v;)if((l=l.n)===k)return;b=l.z;f.lineStart();do{if(l.v=l.o.v=!0,l.e){if(m){a=0;for(c=b.length;c>a;++a)f.point((g=b[a])[0],g[1])}else e(l.x,l.n.x,1,f);l=l.n}else{if(m){b=l.p.z;for(a=b.length-1;0<=a;--a)f.point((g=b[a])[0],g[1])}else e(l.x,
l.p.x,-1,f);l=l.p}l=l.o;b=l.z;m=!m}while(!l.v);f.lineEnd()}}}function oe(a){if(b=a.length){for(var b,c,e=0,f=a[0];++e<b;)f.n=c=a[e],c.p=f,f=c;f.n=c=a[0];c.p=f}}function gc(a,b,c,e){this.x=a;this.z=b;this.o=c;this.e=e;this.v=!1;this.n=this.p=null}function pe(a,b,c,e){return function(f,d){function h(b,c){var e=f(b,c);a(b=e[0],c=e[1])&&d.point(b,c)}function g(a,b){var c=f(a,b);w.point(c[0],c[1])}function k(){E.point=g;w.lineStart()}function l(){E.point=h;w.lineEnd()}function m(a,b){D.push([a,b]);var c=
f(a,b);v.point(c[0],c[1])}function n(){v.lineStart();D=[]}function p(){m(D[0][0],D[0][1]);v.lineEnd();var a;a=v.clean();var b=u.buffer(),c=b.length;if(D.pop(),r.push(D),D=null,c){if(1&a){a=b[0];var e,c=a.length-1,b=-1;for(d.lineStart();++b<c;)d.point((e=a[b])[0],e[1]);return d.lineEnd(),void 0}1<c&&2&a&&b.push(b.pop().concat(b.shift()));q.push(b.filter(Gg))}}var q,r,D,w=b(d),t=f.invert(e[0],e[1]),E={point:h,lineStart:k,lineEnd:l,polygonStart:function(){E.point=m;E.lineStart=n;E.lineEnd=p;q=[];r=[];
d.polygonStart()},polygonEnd:function(){E.point=h;E.lineStart=k;E.lineEnd=l;q=s.merge(q);var a,b=t;a=r;var e=b[0],f=b[1],I=[Math.sin(e),-Math.cos(e),0],g=0,Y=0;fb.reset();for(var da=0,m=a.length;m>da;++da){var ia=a[da],n=ia.length;if(n)for(var p=ia[0],la=p[0],b=p[1]/2+S/4,D=Math.sin(b),w=Math.cos(b),Pb=1;;){Pb===n&&(Pb=0);var b=ia[Pb],Oc=b[0],zb=b[1]/2+S/4,u=Math.sin(zb),zb=Math.cos(zb),v=Oc-la,$c=0<=v?1:-1,A=$c*v,B=A>S,D=D*u;if(fb.add(Math.atan2(D*$c*Math.sin(A),w*zb+D*Math.cos(A))),g+=B?v+$c*Ba:
v,B^la>=e^Oc>=e)p=ob(gb(p),gb(b)),dc(p),la=ob(I,p),dc(la),la=(B^0<=v?-1:1)*V(la[2]),(f>la||f===la&&(p[0]||p[1]))&&(Y+=B^0<=v?1:-1);if(!Pb++)break;la=Oc;D=u;w=zb;p=b}}a=(-N>g||N>g&&0>fb)^1&Y;q.length?ne(q,Hg,a,c,d):a&&(d.lineStart(),c(null,null,1,d),d.lineEnd());d.polygonEnd();q=r=null},sphere:function(){d.polygonStart();d.lineStart();c(null,null,1,d);d.lineEnd();d.polygonEnd()}},u=qe(),v=b(u);return E}}function Gg(a){return 1<a.length}function qe(){var a,b=[];return{lineStart:function(){b.push(a=
[])},point:function(b,c){a.push([b,c])},lineEnd:n,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){1<b.length&&b.push(b.pop().concat(b.shift()))}}}function Hg(a,b){return(0>(a=a.x)[0]?a[1]-va-N:va-a[1])-(0>(b=b.x)[0]?b[1]-va-N:va-b[1])}function Ig(a){function b(a,c){return Math.cos(a)*Math.cos(c)>f}function c(a,b,e){var d=gb(a),I=gb(b),h=[1,0,0],I=ob(d,I),g=ac(I,I),d=I[0],k=g-d*d;if(!k)return!e&&a;g=f*g/k;k=-f*d/k;d=ob(h,I);h=bc(h,g);I=bc(I,k);cd(h,I);I=ac(h,d);g=ac(d,d);k=I*I-g*
(ac(h,h)-1);if(!(0>k)){var Y=Math.sqrt(k),k=bc(d,(-I-Y)/g);if(cd(k,h),k=ec(k),!e)return k;var $;e=a[0];var l=b[0];a=a[1];b=b[1];e>l&&($=e,e=l,l=$);var da=l-e,ya=W(da-S)<N,m=ya||N>da;if(!ya&&a>b&&($=a,a=b,b=$),m?ya?0<a+b^k[1]<(W(k[0]-e)<N?a:b):a<=k[1]&&k[1]<=b:da>S^(e<=k[0]&&k[0]<=l))return $=bc(d,(-I+Y)/g),cd($,h),[k,ec($)]}}function e(b,c){var f=d?a:S-a,h=0;return-f>b?h|=1:b>f&&(h|=2),-f>c?h|=4:c>f&&(h|=8),h}var f=Math.cos(a),d=0<f,h=W(f)>N,g=ed(a,6*U);return pe(b,function(a){var f,I,g,k,l;return{lineStart:function(){k=
g=!1;l=1},point:function(m,n){var ia,p=[m,n],la=b(m,n),q=d?la?0:e(m,n):la?e(m+(0>m?S:-S),n):0;if(!f&&(k=g=la)&&a.lineStart(),la!==g&&(ia=c(f,p),(fc(f,ia)||fc(p,ia))&&(p[0]+=N,p[1]+=N,la=b(p[0],p[1]))),la!==g)l=0,la?(a.lineStart(),ia=c(p,f),a.point(ia[0],ia[1])):(ia=c(f,p),a.point(ia[0],ia[1]),a.lineEnd()),f=ia;else if(h&&f&&d^la){var r;q&I||!(r=c(p,f,!0))||(l=0,d?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],
r[0][1])))}!la||f&&fc(f,p)||a.point(p[0],p[1]);f=p;g=la;I=q},lineEnd:function(){g&&a.lineEnd();f=null},clean:function(){return l|(k&&g)<<1}}},g,d?[0,-a]:[-S,a-S])}function re(a,b,c,e){return function(f){var d,h=f.a,g=f.b,k=h.x,h=h.y,l=0,m=1,n=g.x-k,g=g.y-h;if(d=a-k,n||!(0<d)){if(d/=n,0>n){if(l>d)return;m>d&&(m=d)}else if(0<n){if(d>m)return;d>l&&(l=d)}if(d=c-k,n||!(0>d)){if(d/=n,0>n){if(d>m)return;d>l&&(l=d)}else if(0<n){if(l>d)return;m>d&&(m=d)}if(d=b-h,g||!(0<d)){if(d/=g,0>g){if(l>d)return;m>d&&
(m=d)}else if(0<g){if(d>m)return;d>l&&(l=d)}if(d=e-h,g||!(0>d)){if(d/=g,0>g){if(d>m)return;d>l&&(l=d)}else if(0<g){if(l>d)return;m>d&&(m=d)}return 0<l&&(f.a={x:k+l*n,y:h+l*g}),1>m&&(f.b={x:k+m*n,y:h+m*g}),f}}}}}}function se(a,b,c,e){function f(e,d){return W(e[0]-a)<N?0<d?0:3:W(e[0]-c)<N?0<d?2:1:W(e[1]-b)<N?0<d?1:0:0<d?3:2}function d(a,b){return h(a.x,b.x)}function h(a,b){var c=f(a,1),e=f(b,1);return c!==e?c-e:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(g){function k(d,
g,l,m){var ya=0,n=0;if(null==d||(ya=f(d,l))!==(n=f(g,l))||0>h(d,g)^0<l){do m.point(0===ya||3===ya?a:c,1<ya?e:b);while((ya=(ya+l+4)%4)!==n)}else m.point(g[0],g[1])}function l(f,d){f>=a&&(c>=f&&d>=b&&e>=d)&&g.point(f,d)}function m(f,d){f=Math.max(-hc,Math.min(hc,f));d=Math.max(-hc,Math.min(hc,d));var h=f>=a&&c>=f&&d>=b&&e>=d;if(p&&q.push([f,d]),v)r=f,D=d,w=h,v=!1,h&&(g.lineStart(),g.point(f,d));else if(h&&u)g.point(f,d);else{var k={a:{x:t,y:E},b:{x:f,y:d}};F(k)?(u||(g.lineStart(),g.point(k.a.x,k.a.y)),
g.point(k.b.x,k.b.y),h||g.lineEnd(),A=!1):h&&(g.lineStart(),g.point(f,d),A=!1)}t=f;E=d;u=h}var n,p,q,r,D,w,t,E,u,v,A,B=g,z=qe(),F=re(a,b,c,e),K={point:l,lineStart:function(){K.point=m;p&&p.push(q=[]);v=!0;u=!1;t=E=0/0},lineEnd:function(){n&&(m(r,D),w&&u&&z.rejoin(),n.push(z.buffer()));K.point=l;u&&g.lineEnd()},polygonStart:function(){g=z;n=[];p=[];A=!0},polygonEnd:function(){g=B;n=s.merge(n);var b;b=[a,e];for(var c=0,f=p.length,h=b[1],Y=0;f>Y;++Y)for(var l,$=1,m=p[Y],ia=m.length,qa=m[0];ia>$;++$)l=
m[$],qa[1]<=h?l[1]>h&&0<M(qa,l,b)&&++c:l[1]<=h&&0>M(qa,l,b)&&--c,qa=l;b=0!==c;c=A&&b;f=n.length;(c||f)&&(g.polygonStart(),c&&(g.lineStart(),k(null,null,1,g),g.lineEnd()),f&&ne(n,d,b,k,g),g.polygonEnd());n=p=q=null}};return K}}function te(a,b){function c(e,f){return e=a(e,f),b(e[0],e[1])}return a.invert&&b.invert&&(c.invert=function(c,e){return c=b.invert(c,e),c&&a.invert(c[0],c[1])}),c}function fd(a){var b=0,c=S/3,e=gd(a);a=e(b,c);return a.parallels=function(a){return arguments.length?e(b=a[0]*S/
180,c=a[1]*S/180):[180*(b/S),180*(c/S)]},a}function ue(a,b){function c(a,b){var e=Math.sqrt(d-2*f*Math.sin(b))/f;return[e*Math.sin(a*=f),h-e*Math.cos(a)]}var e=Math.sin(a),f=(e+Math.sin(b))/2,d=1+e*(2*f-e),h=Math.sqrt(d)/f;return c.invert=function(a,b){var c=h-b;return[Math.atan2(a,c)/f,V((d-(a*a+c*c)*f*f)/(2*f))]},c}function Jg(){function a(b,c){ic+=f*b-e*c;e=b;f=c}var b,c,e,f;$a.point=function(d,h){$a.point=a;b=e=d;c=f=h};$a.lineEnd=function(){a(b,c)}}function Kg(){function a(b,c){h.push("M",b,
",",c,d)}function b(a,e){h.push("M",a,",",e);g.point=c}function c(a,b){h.push("L",a,",",b)}function e(){g.point=a}function f(){h.push("Z")}var d=ve(4.5),h=[],g={point:a,lineStart:function(){g.point=b},lineEnd:e,polygonStart:function(){g.lineEnd=f},polygonEnd:function(){g.lineEnd=e;g.point=a},pointRadius:function(a){return d=ve(a),g},result:function(){if(h.length){var a=h.join("");return h=[],a}}};return g}function ve(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function hb(a,
b){Ra+=a;Sa+=b;++Ma}function we(){function a(e,f){var d=e-b,I=f-c,d=Math.sqrt(d*d+I*I);Da+=d*(b+e)/2;Ea+=d*(c+f)/2;xa+=d;hb(b=e,c=f)}var b,c;Ha.point=function(e,f){Ha.point=a;hb(b=e,c=f)}}function xe(){Ha.point=hb}function Lg(){function a(b,c){var d=b-e,I=c-f,d=Math.sqrt(d*d+I*I);Da+=d*(e+b)/2;Ea+=d*(f+c)/2;xa+=d;d=f*b-e*c;Ya+=d*(e+b);Za+=d*(f+c);Na+=3*d;hb(e=b,f=c)}var b,c,e,f;Ha.point=function(d,h){Ha.point=a;hb(b=e=d,c=f=h)};Ha.lineEnd=function(){a(b,c)}}function Mg(a){function b(c,e){a.moveTo(c,
e);a.arc(c,e,h,0,Ba)}function c(b,f){a.moveTo(b,f);g.point=e}function e(b,c){a.lineTo(b,c)}function f(){g.point=b}function d(){a.closePath()}var h=4.5,g={point:b,lineStart:function(){g.point=c},lineEnd:f,polygonStart:function(){g.lineEnd=d},polygonEnd:function(){g.lineEnd=f;g.point=b},pointRadius:function(a){return h=a,g},result:n};return g}function ye(a){function b(a){return(g?e:c)(a)}function c(b){return ze(b,function(c,e){c=a(c,e);b.point(c[0],c[1])})}function e(b){function c(e,f){e=a(e,f);b.point(e[0],
e[1])}function d(){qa=0/0;u.point=h;b.lineStart()}function h(c,e){var d=gb([c,e]),k=a(c,e);f(qa,D,r,w,t,E,qa=k[0],D=k[1],r=c,w=d[0],t=d[1],E=d[2],g,b);b.point(qa,D)}function k(){u.point=c;b.lineEnd()}function Y(){d();u.point=l;u.lineEnd=$}function l(a,b){h(m=a,b);da=qa;n=D;ya=w;p=t;q=E;u.point=h}function $(){f(qa,D,r,w,t,E,da,n,m,ya,p,q,g,b);u.lineEnd=k;k()}var m,da,n,ya,p,q,r,qa,D,w,t,E,u={point:c,lineStart:d,lineEnd:k,polygonStart:function(){b.polygonStart();u.lineStart=Y},polygonEnd:function(){b.polygonEnd();
u.lineStart=d}};return u}function f(b,c,e,g,k,Y,l,$,m,da,n,p,la,q){var r=l-b,D=$-c,w=r*r+D*D;if(w>4*d&&la--){var t=g+da,E=k+n,u=Y+p,s=Math.sqrt(t*t+E*E+u*u),v=Math.asin(u/=s),A=W(W(u)-1)<N||W(e-m)<N?(e+m)/2:Math.atan2(E,t),B=a(A,v),v=B[0],B=B[1],z=v-b,F=B-c,K=D*z-r*F;(K*K/w>d||0.3<W((r*z+D*F)/w-0.5)||h>g*da+k*n+Y*p)&&(f(b,c,e,g,k,Y,v,B,A,t/=s,E/=s,u,la,q),q.point(v,B),f(v,B,A,t,E,u,l,$,m,da,n,p,la,q))}}var d=0.5,h=Math.cos(30*U),g=16;return b.precision=function(a){return arguments.length?(g=0<(d=
a*a)&&16,b):Math.sqrt(d)},b}function Ng(a){var b=ye(function(b,c){return a([b*ha,c*ha])});return function(a){return Ae(b(a))}}function Be(a){this.stream=a}function ze(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function ab(a){return gd(function(){return a})()}function gd(a){function b(a){return a=g(a[0]*U,a[1]*U),[a[0]*p+k,l-a[1]*p]}function c(a){return a=
g.invert((a[0]-k)/p,(l-a[1])/p),a&&[a[0]*ha,a[1]*ha]}function e(){g=te(h=hd(t,E,u),d);var a=d(D,w);return k=q-a[0]*p,l=r+a[1]*p,f()}function f(){return m&&(m.valid=!1,m=null),b}var d,h,g,k,l,m,n=ye(function(a,b){return a=d(a,b),[a[0]*p+k,l-a[1]*p]}),p=150,q=480,r=250,D=0,w=0,t=0,E=0,u=0,v=Ce,A=pa,B=null,z=null;return b.stream=function(a){return m&&(m.valid=!1),m=Ae(v(h,n(A(a)))),m.valid=!0,m},b.clipAngle=function(a){return arguments.length?(v=null==a?(B=a,Ce):Ig((B=+a)*U),f()):B},b.clipExtent=function(a){return arguments.length?
(z=a,A=a?se(a[0][0],a[0][1],a[1][0],a[1][1]):pa,f()):z},b.scale=function(a){return arguments.length?(p=+a,e()):p},b.translate=function(a){return arguments.length?(q=+a[0],r=+a[1],e()):[q,r]},b.center=function(a){return arguments.length?(D=a[0]%360*U,w=a[1]%360*U,e()):[D*ha,w*ha]},b.rotate=function(a){return arguments.length?(t=a[0]%360*U,E=a[1]%360*U,u=2<a.length?a[2]%360*U:0,e()):[t*ha,E*ha,u*ha]},s.rebind(b,n,"precision"),function(){return d=a.apply(this,arguments),b.invert=d.invert&&c,e()}}function Ae(a){return ze(a,
function(b,c){a.point(b*U,c*U)})}function Db(a,b){return[a,b]}function De(a,b){return[a>S?a-Ba:-S>a?a+Ba:a,b]}function hd(a,b,c){return a?b||c?te(Ee(a),Fe(b,c)):Ee(a):b||c?Fe(b,c):De}function Ge(a){return function(b,c){return b+=a,[b>S?b-Ba:-S>b?b+Ba:b,c]}}function Ee(a){var b=Ge(a);return b.invert=Ge(-a),b}function Fe(a,b){function c(a,b){var I=Math.cos(b),g=Math.cos(a)*I,I=Math.sin(a)*I,k=Math.sin(b),Y=k*e+g*f;return[Math.atan2(I*d-Y*h,g*e-k*f),V(Y*d+I*h)]}var e=Math.cos(a),f=Math.sin(a),d=Math.cos(b),
h=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),I=Math.cos(a)*c,c=Math.sin(a)*c,g=Math.sin(b),k=g*d-c*h;return[Math.atan2(c*d+g*h,I*e+k*f),V(k*e-I*f)]},c}function ed(a,b){var c=Math.cos(a),e=Math.sin(a);return function(f,d,h,g){var k=h*b;null!=f?(f=He(c,f),d=He(c,d),(0<h?d>f:f>d)&&(f+=h*Ba)):(f=a+h*Ba,d=a-0.5*k);for(var l;0<h?f>d:d>f;f-=k)g.point((l=ec([c,-e*Math.cos(f),-e*Math.sin(f)]))[0],l[1])}}function He(a,b){var c=gb(b);c[0]-=a;dc(c);var e=1<-c[1]?0:-1>-c[1]?S:Math.acos(-c[1]);
return((0>-c[2]?-e:e)+2*Math.PI-N)%(2*Math.PI)}function Ie(a,b,c){var e=s.range(a,b-N,c).concat(b);return function(a){return e.map(function(b){return[a,b]})}}function Je(a,b,c){var e=s.range(a,b-N,c).concat(b);return function(a){return e.map(function(b){return[b,a]})}}function id(a){return a.source}function jd(a){return a.target}function Og(a,b,c,e){var f=Math.cos(b),d=Math.sin(b),h=Math.cos(e),g=Math.sin(e),k=f*Math.cos(a),l=f*Math.sin(a),m=h*Math.cos(c),n=h*Math.sin(c),p=2*Math.asin(Math.sqrt(ja(e-
b)+f*h*ja(c-a))),q=1/Math.sin(p);c=p?function(a){var b=Math.sin(a*=p)*q,c=Math.sin(p-a)*q;a=c*k+b*m;var e=c*l+b*n,b=c*d+b*g;return[Math.atan2(e,a)*ha,Math.atan2(b,Math.sqrt(a*a+e*e))*ha]}:function(){return[a*ha,b*ha]};return c.distance=p,c}function Eb(a,b){function c(b,e){var f=Math.cos(b),d=Math.cos(e),f=a(f*d);return[f*d*Math.sin(b),f*Math.sin(e)]}return c.invert=function(a,c){var e=Math.sqrt(a*a+c*c),f=b(e),d=Math.sin(f),f=Math.cos(f);return[Math.atan2(a*d,e*f),Math.asin(e&&c*d/e)]},c}function Ke(a,
b){function c(a,b){var e=W(W(b)-va)<N?0:d/Math.pow(Math.tan(S/4+b/2),f);return[e*Math.sin(f*a),d-e*Math.cos(f*a)]}var e=Math.cos(a),f=a===b?Math.sin(a):Math.log(e/Math.cos(b))/Math.log(Math.tan(S/4+b/2)/Math.tan(S/4+a/2)),d=e*Math.pow(Math.tan(S/4+a/2),f)/f;return f?(c.invert=function(a,b){var c=d-b,e=(0<f?1:0>f?-1:0)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(d/e,1/f))-va]},c):jc}function Le(a,b){function c(a,b){var e=d-b;return[e*Math.sin(f*a),d-e*Math.cos(f*a)]}var e=Math.cos(a),
f=a===b?Math.sin(a):(e-Math.cos(b))/(b-a),d=e/f+a;return W(f)<N?Db:(c.invert=function(a,b){var c=d-b;return[Math.atan2(a,c)/f,d-(0<f?1:0>f?-1:0)*Math.sqrt(a*a+c*c)]},c)}function jc(a,b){return[a,Math.log(Math.tan(S/4+b/2))]}function Me(a){var b,c=ab(a),e=c.scale,f=c.translate,d=c.clipExtent;return c.scale=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=f.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var I=
d.apply(c,arguments);if(I===c){if(b=null==a){var h=S*e(),g=f();d([[g[0]-h,g[1]-h],[g[0]+h,g[1]+h]])}}else b&&(I=null);return I},c.clipExtent(null)}function kd(a,b){return[Math.log(Math.tan(S/4+b/2)),-a]}function rb(a){return a[0]}function Fb(a){return a[1]}function Ne(a){for(var b=a.length,c=[0,1],e=2,f=2;b>f;f++){for(;1<e&&0>=M(a[c[e-2]],a[c[e-1]],a[f]);)--e;c[e++]=f}return c.slice(0,e)}function Pg(a,b){return a[0]-b[0]||a[1]-b[1]}function ld(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-
b[0])}function Oe(a,b,c,e){var f=a[0],d=c[0],h=b[0]-f,g=e[0]-d;a=a[1];c=c[1];b=b[1]-a;e=e[1]-c;d=(g*(a-c)-e*(f-d))/(e*h-g*b);return[f+d*h,a+d*b]}function Pe(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function Qg(){kc(this);this.edge=this.site=this.circle=null}function Qe(a){var b=Re.pop()||new Qg;return b.site=a,b}function md(a){sb(a);tb.remove(a);Re.push(a);kc(a)}function Se(a,b){var c=a.site,e=c.x,f=c.y,d=f-b;if(!d)return e;var h=a.P;if(!h)return-1/0;var c=h.site,h=c.x,c=c.y,g=
c-b;if(!g)return h;var k=h-e,l=1/d-1/g,m=k/g;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*g)-c+g/2+f-d/2)))/l+e:(e+h)/2}function Te(a){this.site=a;this.edges=[]}function Ue(a,b){return b.angle-a.angle}function Rg(){kc(this);this.x=this.y=this.arc=this.site=this.cy=null}function ub(a){var b=a.P,c=a.N;if(b&&c){var e=b.site,b=a.site,f=c.site;if(e!==f){var c=b.x,d=b.y,h=e.x-c,g=e.y-d,e=f.x-c,f=f.y-d,k=2*(h*f-g*e);if(!(k>=-nd)){var l=h*h+g*g,m=e*e+f*f,g=(f*l-g*m)/k,h=(h*m-e*l)/k,f=h+d,d=Ve.pop()||new Rg;d.arc=
a;d.site=b;d.x=g+c;d.y=f+Math.sqrt(g*g+h*h);d.cy=f;a.circle=d;a=null;for(b=Gb._;b;)if(d.y<b.y||d.y===b.y&&d.x<=b.x){if(!b.L){a=b.P;break}b=b.L}else{if(!b.R){a=b;break}b=b.R}Gb.insert(a,d);a||(od=d)}}}}function sb(a){var b=a.circle;b&&(b.P||(od=b.N),Gb.remove(b),Ve.push(b),kc(b),a.circle=null)}function Sg(a,b){var c=a.b;if(c)return!0;var e,f,d=a.a,c=b[0][0],h=b[1][0],g=b[0][1],k=b[1][1],l=a.l,m=a.r,n=l.x,l=l.y,p=m.x,m=m.y;f=(n+p)/2;if(m===l){if(c>f||f>=h)return;if(n>p){if(d){if(d.y>=k)return}else d=
{x:f,y:g};c={x:f,y:k}}else{if(d){if(d.y<g)return}else d={x:f,y:k};c={x:f,y:g}}}else if(e=(n-p)/(m-l),f=(l+m)/2-e*f,-1>e||1<e)if(n>p){if(d){if(d.y>=k)return}else d={x:(g-f)/e,y:g};c={x:(k-f)/e,y:k}}else{if(d){if(d.y<g)return}else d={x:(k-f)/e,y:k};c={x:(g-f)/e,y:g}}else if(m>l){if(d){if(d.x>=h)return}else d={x:c,y:e*c+f};c={x:h,y:e*h+f}}else{if(d){if(d.x<c)return}else d={x:h,y:e*h+f};c={x:c,y:e*c+f}}return a.a=d,a.b=c,!0}function We(a,b){this.l=a;this.r=b;this.a=this.b=null}function Hb(a,b,c,e){var f=
new We(a,b);return vb.push(f),c&&lc(f,a,b,c),e&&lc(f,b,a,e),ib[a.i].edges.push(new mc(f,a,b)),ib[b.i].edges.push(new mc(f,b,a)),f}function Tg(a,b,c){a=new We(a,null);return a.a=b,a.b=c,vb.push(a),a}function lc(a,b,c,e){a.a||a.b?a.l===c?a.b=e:a.a=e:(a.a=e,a.l=b,a.r=c)}function mc(a,b,c){var e=a.a,f=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(f.x-e.x,e.y-f.y):Math.atan2(e.x-f.x,f.y-e.y)}function pd(){this._=null}function kc(a){a.U=a.C=a.L=a.R=a.P=a.N=null}
function Ib(a,b){var c=b.R,e=b.U;e?e.L===b?e.L=c:e.R=c:a._=c;c.U=e;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function Jb(a,b){var c=b.L,e=b.U;e?e.L===b?e.L=c:e.R=c:a._=c;c.U=e;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function Xe(a){for(;a.L;)a=a.L;return a}function qd(a,b){var c,e,f,d=a.sort(Ug).pop();vb=[];ib=Array(a.length);tb=new pd;for(Gb=new pd;;)if(f=od,d&&(!f||d.y<f.y||d.y===f.y&&d.x<f.x)){if(d.x!==c||d.y!==e){ib[d.i]=new Te(d);c=d;for(var h=e=void 0,g=void 0,k=void 0,l=c.x,m=c.y,n=tb._;n;)if(g=Se(n,m)-
l,g>N)n=n.L;else{var p=l,q;var r=n;q=m;var D=r.N;D?q=Se(D,q):(r=r.site,q=r.y===q?r.x:1/0);if(k=p-q,!(k>N)){g>-N?(e=n.P,h=n):k>-N?(e=n,h=n.N):e=h=n;break}if(!n.R){e=n;break}n=n.R}g=Qe(c);if(tb.insert(e,g),e||h)if(e===h)sb(e),h=Qe(e.site),tb.insert(g,h),g.edge=h.edge=Hb(e.site,g.site),ub(e),ub(h);else if(h){sb(e);sb(h);k=e.site;m=k.x;n=k.y;p=c.x-m;q=c.y-n;var l=h.site,r=l.x-m,D=l.y-n,w=2*(p*D-q*r),t=p*p+q*q,E=r*r+D*D,m={x:(D*t-q*E)/w+m,y:(p*E-r*t)/w+n};lc(h.edge,k,l,m);g.edge=Hb(k,c,null,m);h.edge=
Hb(c,l,null,m);ub(e);ub(h)}else g.edge=Hb(e.site,g.site);c=d.x;e=d.y}d=a.pop()}else{if(!f)break;l=f.arc;h=l.circle;k=h.x;m=h.cy;h={x:k,y:m};p=l.P;n=l.N;g=[l];md(l);for(l=p;l.circle&&W(k-l.circle.x)<N&&W(m-l.circle.cy)<N;)p=l.P,g.unshift(l),md(l),l=p;g.unshift(l);sb(l);for(p=n;p.circle&&W(k-p.circle.x)<N&&W(m-p.circle.cy)<N;)n=p.N,g.push(p),md(p),p=n;g.push(p);sb(p);k=void 0;m=g.length;for(k=1;m>k;++k)p=g[k],l=g[k-1],lc(p.edge,l.site,p.site,h);l=g[0];p=g[m-1];p.edge=Hb(l.site,p.site,null,h);ub(l);
ub(p)}if(b){d=vb;c=re(b[0][0],b[0][1],b[1][0],b[1][1]);for(e=d.length;e--;)f=d[e],(!Sg(f,b)||!c(f)||W(f.a.x-f.b.x)<N&&W(f.a.y-f.b.y)<N)&&(f.a=f.b=null,d.splice(e,1));var u,l=b[0][0],m=b[1][0],n=b[0][1],p=b[1][1];q=ib;for(r=q.length;r--;)if(u=q[r],u&&u.prepare()){h=u.edges;g=h.length;for(e=0;g>e;)k=h[e].end(),d=k.x,c=k.y,D=h[++e%g].start(),f=D.x,D=D.y,(W(d-f)>N||W(c-D)>N)&&(h.splice(e,0,new mc(Tg(u.site,k,W(d-l)<N&&p-c>N?{x:l,y:W(f-l)<N?D:p}:W(c-p)<N&&m-d>N?{x:W(D-p)<N?f:m,y:p}:W(d-m)<N&&c-n>N?{x:m,
y:W(f-m)<N?D:n}:W(c-n)<N&&d-l>N?{x:W(D-n)<N?f:l,y:n}:null),u.site,null)),++g)}}u={cells:ib,edges:vb};return tb=Gb=vb=ib=null,u}function Ug(a,b){return b.y-a.y||b.x-a.x}function Vg(a){return a.x}function Wg(a){return a.y}function Ye(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Kb(a,b,c,e,f,d){if(!a(b,c,e,f,d)){var h=0.5*(c+f),g=0.5*(e+d);b=b.nodes;b[0]&&Kb(a,b[0],c,e,h,g);b[1]&&Kb(a,b[1],h,e,f,g);b[2]&&Kb(a,b[2],c,g,h,d);b[3]&&Kb(a,b[3],h,g,f,d)}}function rd(a,b){a=s.rgb(a);b=s.rgb(b);
var c=a.r,e=a.g,f=a.b,d=b.r-c,h=b.g-e,g=b.b-f;return function(a){return"#"+nb(Math.round(c+d*a))+nb(Math.round(e+h*a))+nb(Math.round(f+g*a))}}function Ze(a,b){var c,e={},f={};for(c in a)c in b?e[c]=jb(a[c],b[c]):f[c]=a[c];for(c in b)c in a||(f[c]=b[c]);return function(a){for(c in e)f[c]=e[c](a);return f}}function Ta(a,b){return b-=a=+a,function(c){return a+b*c}}function $e(a,b){var c,e,f,d,h=0,g=[],k=[];a+="";b+="";for(e=nc.lastIndex=0;c=nc.exec(b);++e)c.index&&g.push(b.substring(h,c.index)),k.push({i:g.length,
x:c[0]}),g.push(null),h=nc.lastIndex;h<b.length&&g.push(b.substring(h));e=0;for(f=k.length;(c=nc.exec(a))&&f>e;++e)if(d=k[e],d.x==c[0]){if(d.i)if(null==g[d.i+1]){g[d.i-1]+=d.x;g.splice(d.i,1);for(c=e+1;f>c;++c)k[c].i--}else{g[d.i-1]+=d.x+g[d.i+1];g.splice(d.i,2);for(c=e+1;f>c;++c)k[c].i-=2}else if(null==g[d.i+1])g[d.i]=d.x;else{g[d.i]=d.x+g[d.i+1];g.splice(d.i+1,1);for(c=e+1;f>c;++c)k[c].i--}k.splice(e,1);f--;e--}else d.x=Ta(parseFloat(c[0]),parseFloat(d.x));for(;f>e;)d=k.pop(),null==g[d.i+1]?g[d.i]=
d.x:(g[d.i]=d.x+g[d.i+1],g.splice(d.i+1,1)),f--;return 1===g.length?null==g[0]?(d=k[0].x,function(a){return d(a)+""}):function(){return b}:function(a){for(e=0;f>e;++e)g[(d=k[e]).i]=d.x(a);return g.join("")}}function jb(a,b){for(var c,e=s.interpolators.length;0<=--e&&!(c=s.interpolators[e](a,b)););return c}function oc(a,b){var c,e=[],f=[],d=a.length,h=b.length,g=Math.min(a.length,b.length);for(c=0;g>c;++c)e.push(jb(a[c],b[c]));for(;d>c;++c)f[c]=a[c];for(;h>c;++c)f[c]=b[c];return function(a){for(c=
0;g>c;++c)f[c]=e[c](a);return f}}function Xg(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function af(a){return function(b){return 1-a(1-b)}}function bf(a){return function(b){return 0.5*(0.5>b?a(2*b):2-a(2-2*b))}}function Yg(a){return a*a}function Zg(a){return a*a*a}function $g(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(0.5>a?c:3*(a-b)+c-0.75)}function ah(a){return 1-Math.cos(a*va)}function bh(a){return Math.pow(2,10*(a-1))}function ch(a){return 1-Math.sqrt(1-a*a)}function dh(a){return 1/
2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function cf(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function df(a){var b=[a.a,a.b],c=[a.c,a.d],e=ef(b),f=b[0]*c[0]+b[1]*c[1],d=ef((c[0]+=-f*b[0],c[1]+=-f*b[1],c))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,e*=-1,f*=-1);this.rotate=(e?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*ha;this.translate=[a.e,a.f];this.scale=[e,d];this.skew=d?Math.atan2(f,d)*ha:
0}function ef(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return b&&(a[0]/=b,a[1]/=b),b}function ff(a,b){var c,e=[],f=[],d=s.transform(a),h=s.transform(b),g=d.translate,k=h.translate,l=d.rotate,m=h.rotate,n=d.skew,p=h.skew,d=d.scale,h=h.scale;return g[0]!=k[0]||g[1]!=k[1]?(e.push("translate(",null,",",null,")"),f.push({i:1,x:Ta(g[0],k[0])},{i:3,x:Ta(g[1],k[1])})):k[0]||k[1]?e.push("translate("+k+")"):e.push(""),l!=m?(180<l-m?m+=360:180<m-l&&(l+=360),f.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:Ta(l,
m)})):m&&e.push(e.pop()+"rotate("+m+")"),n!=p?f.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:Ta(n,p)}):p&&e.push(e.pop()+"skewX("+p+")"),d[0]!=h[0]||d[1]!=h[1]?(c=e.push(e.pop()+"scale(",null,",",null,")"),f.push({i:c-4,x:Ta(d[0],h[0])},{i:c-2,x:Ta(d[1],h[1])})):(1!=h[0]||1!=h[1])&&e.push(e.pop()+"scale("+h+")"),c=f.length,function(a){for(var b,d=-1;++d<c;)e[(b=f[d]).i]=b.x(a);return e.join("")}}function eh(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return(c-a)*b}}function fh(a,b){return b=b-(a=
+a)?1/(b-a):0,function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function gh(a){var b=a.source;a=a.target;var c;var e=a;if(b===e)c=b;else{c=gf(b);for(var e=gf(e),f=c.pop(),d=e.pop(),h=null;f===d;)h=f,f=c.pop(),d=e.pop();c=h}for(e=[b];b!==c;)b=b.parent,e.push(b);for(b=e.length;a!==c;)e.splice(b,0,a),a=a.parent;return e}function gf(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function hh(a){a.fixed|=2}function ih(a){a.fixed&=-7}function jh(a){a.fixed|=4;a.px=a.x;
a.py=a.y}function kh(a){a.fixed&=-5}function hf(a,b,c){var e=0,f=0;if(a.charge=0,!a.leaf)for(var d,h=a.nodes,g=h.length,k=-1;++k<g;)d=h[k],null!=d&&(hf(d,b,c),a.charge+=d.charge,e+=d.charge*d.cx,f+=d.charge*d.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,e+=b*a.point.x,f+=b*a.point.y);a.cx=e/a.charge;a.cy=f/a.charge}function Lb(a,b){return s.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=lh,a}function mh(a){return a.children}
function nh(a){return a.value}function oh(a,b){return b.value-a.value}function lh(a){return s.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function ph(a){return a.x}function qh(a){return a.y}function rh(a,b,c){a.y0=b;a.y=c}function sd(a){return s.range(a.length)}function td(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function sh(a){for(var b,c=1,e=0,f=a[0][1],d=a.length;d>c;++c)(b=a[c][1])>f&&(e=c,f=b);return e}function th(a){return a.reduce(uh,
0)}function uh(a,b){return a+b[1]}function vh(a,b){return jf(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function jf(a,b){for(var c=-1,e=+a[0],f=(a[1]-e)/b,d=[];++c<=b;)d[c]=f*c+e;return d}function wh(a){return[s.min(a),s.max(a)]}function kf(a,b){return a.parent==b.parent?1:2}function ud(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread}function vd(a){var b,c=a.children;return c&&(b=c.length)?c[b-1]:a._tree.thread}function pc(a,b){var c=a.children;if(c&&(f=c.length))for(var e,f,d=-1;++d<
f;)0<b(e=pc(c[d],b),a)&&(a=e);return a}function xh(a,b){return a.x-b.x}function yh(a,b){return b.x-a.x}function zh(a,b){return a.depth-b.depth}function Ua(a,b){function c(a,e){var f=a.children;if(f&&(h=f.length))for(var d,h,g=null,I=-1;++I<h;)d=f[I],c(d,g),g=d;b(a,e)}c(a,null)}function Ah(a,b){return a.value-b.value}function wd(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function lf(a,b){a._pack_next=b;b._pack_prev=a}function mf(a,b){var c=b.x-a.x,e=b.y-a.y,
f=a.r+b.r;return 0.999*f*f>c*c+e*e}function nf(a){function b(a){m=Math.min(a.x-a.r,m);n=Math.max(a.x+a.r,n);p=Math.min(a.y-a.r,p);q=Math.max(a.y+a.r,q)}if((c=a.children)&&(l=c.length)){var c,e,f,d,h,g,k,l,m=1/0,n=-1/0,p=1/0,q=-1/0;if(c.forEach(Bh),e=c[0],e.x=-e.r,e.y=0,b(e),1<l&&(f=c[1],f.x=f.r,f.y=0,b(f),2<l)){d=c[2];of(e,f,d);b(d);wd(e,d);e._pack_prev=d;wd(d,f);f=e._pack_next;for(h=3;l>h;h++){of(e,f,d=c[h]);var r=0,D=1,w=1;for(g=f._pack_next;g!==f;g=g._pack_next,D++)if(mf(g,d)){r=1;break}if(1==
r)for(k=e._pack_prev;k!==g._pack_prev&&!mf(k,d);k=k._pack_prev,w++);r?(w>D||D==w&&f.r<e.r?lf(e,f=g):lf(e=k,f),h--):(wd(e,d),f=d,b(d))}}e=(m+n)/2;f=(p+q)/2;for(h=g=0;l>h;h++)d=c[h],d.x-=e,d.y-=f,g=Math.max(g,d.r+Math.sqrt(d.x*d.x+d.y*d.y));a.r=g;c.forEach(Ch)}}function Bh(a){a._pack_next=a._pack_prev=a}function Ch(a){delete a._pack_next;delete a._pack_prev}function pf(a,b,c,e){var f=a.children;if(a.x=b+=e*a.x,a.y=c+=e*a.y,a.r*=e,f){a=-1;for(var d=f.length;++a<d;)pf(f[a],b,c,e)}}function of(a,b,c){var e=
a.r+c.r,f=b.x-a.x,d=b.y-a.y;if(e&&(f||d)){var h=b.r+c.r,g=f*f+d*d,h=h*h,e=e*e;b=0.5+(e-h)/(2*g);h=Math.sqrt(Math.max(0,2*h*(e+g)-(e-=g)*e-h*h))/(2*g);c.x=a.x+b*f+h*d;c.y=a.y+b*d-h*f}else c.x=a.x+e,c.y=a.y}function Dh(a){return 1+s.max(a,function(a){return a.y})}function Eh(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function qf(a){var b=a.children;return b&&b.length?qf(b[0]):a}function rf(a){var b,c=a.children;return c&&(b=c.length)?rf(c[b-1]):a}function xd(a){return{x:a.x,y:a.y,dx:a.dx,
dy:a.dy}}function sf(a,b){var c=a.x+b[3],e=a.y+b[0],f=a.dx-b[1]-b[3],d=a.dy-b[0]-b[2];return 0>f&&(c+=f/2,f=0),0>d&&(e+=d/2,d=0),{x:c,y:e,dx:f,dy:d}}function wb(a){var b=a[0];a=a[a.length-1];return a>b?[b,a]:[a,b]}function qc(a){return a.rangeExtent?a.rangeExtent():wb(a.range())}function Fh(a,b,c,e){var f=c(a[0],a[1]),d=e(b[0],b[1]);return function(a){return d(f(a))}}function rc(a,b){var c,e=0,f=a.length-1,d=a[e],h=a[f];return d>h&&(c=e,e=f,f=c,c=d,d=h,h=c),a[e]=b.floor(d),a[f]=b.ceil(h),a}function tf(a){return a?
{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Gh}function Hh(a,b,c,e){var f=[],d=[],h=0,g=Math.min(a.length,b.length)-1;for(a[g]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++h<=g;)f.push(c(a[h-1],a[h])),d.push(e(b[h-1],b[h]));return function(b){var c=s.bisect(a,b,1,g)-1;return d[c](f[c](b))}}function uf(a,b,c,e){function f(){var k=2<Math.min(a.length,b.length)?Hh:Fh,l=e?fh:eh;return h=k(a,b,l,c),g=k(b,a,l,jb),d}function d(a){return h(a)}var h,g;return d.invert=
function(a){return g(a)},d.domain=function(b){return arguments.length?(a=b.map(Number),f()):a},d.range=function(a){return arguments.length?(b=a,f()):b},d.rangeRound=function(a){return d.range(a).interpolate(cf)},d.clamp=function(a){return arguments.length?(e=a,f()):e},d.interpolate=function(a){return arguments.length?(c=a,f()):c},d.ticks=function(b){return s.range.apply(s,bb(a,b))},d.tickFormat=function(b,c){return yd(a,b,c)},d.nice=function(b){return rc(a,tf(bb(a,b)[2])),f()},d.copy=function(){return uf(a,
b,c,e)},f()}function zd(a,b){return s.rebind(a,b,"range","rangeRound","interpolate","clamp")}function bb(a,b){null==b&&(b=10);var c=wb(a),e=c[1]-c[0],f=Math.pow(10,Math.floor(Math.log(e/b)/Math.LN10)),e=b/e*f;return 0.15>=e?f*=10:0.35>=e?f*=5:0.75>=e&&(f*=2),c[0]=Math.ceil(c[0]/f)*f,c[1]=Math.floor(c[1]/f)*f+0.5*f,c[2]=f,c}function yd(a,b,c){var e=bb(a,b);return s.format(c?c.replace(de,function(a,b,c,f,d,h,g,k,I,l){return[b,c,f,d,h,g,k,I||"."+Ih(l,e),l].join("")}):",."+Ad(e[2])+"f")}function Ad(a){return-Math.floor(Math.log(a)/
Math.LN10+0.01)}function Ih(a,b){var c=Ad(b[2]);return a in Jh?Math.abs(c-Ad(Math.max(Math.abs(b[0]),Math.abs(b[1]))))+ +("e"!==a):c-2*("%"===a)}function vf(a,b,c,e){function f(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function d(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function h(b){return a(f(b))}return h.invert=function(b){return d(a.invert(b))},h.domain=function(b){return arguments.length?(c=0<=b[0],a.domain((e=b.map(Number)).map(f)),h):e},h.base=function(c){return arguments.length?
(b=+c,a.domain(e.map(f)),h):b},h.nice=function(){var b=rc(e.map(f),c?Math:Kh);return a.domain(b),e=b.map(d),h},h.ticks=function(){var a=wb(e),h=[],g=a[0],a=a[1],k=Math.floor(f(g)),I=Math.ceil(f(a)),l=b%1?2:b;if(isFinite(I-k)){if(c){for(;I>k;k++)for(var m=1;l>m;m++)h.push(d(k)*m);h.push(d(k))}else for(h.push(d(k));k++<I;)for(m=l-1;0<m;m--)h.push(d(k)*m);for(k=0;h[k]<g;k++);for(I=h.length;h[I-1]>a;I--);h=h.slice(k,I)}return h},h.tickFormat=function(a,b){if(!arguments.length)return wf;2>arguments.length?
b=wf:"function"!=typeof b&&(b=s.format(b));var e,g=Math.max(0.1,a/h.ticks().length),k=c?(e=1E-12,Math.ceil):(e=-1E-12,Math.floor);return function(a){return a/d(k(f(a)+e))<=g?b(a):""}},h.copy=function(){return vf(a.copy(),b,c,e)},zd(h,a)}function xf(a,b,c){function e(b){return a(f(b))}var f=sc(b),d=sc(1/b);return e.invert=function(b){return d(a.invert(b))},e.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(f)),e):c},e.ticks=function(a){return s.range.apply(s,bb(c,a))},e.tickFormat=
function(a,b){return yd(c,a,b)},e.nice=function(a){return e.domain(rc(c,tf(bb(c,a)[2])))},e.exponent=function(h){return arguments.length?(f=sc(b=h),d=sc(1/b),a.domain(c.map(f)),e):b},e.copy=function(){return xf(a.copy(),b,c)},zd(e,a)}function sc(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function yf(a,c){function e(b){return h[((d.get(b)||"range"===c.t&&d.set(b,a.push(b)))-1)%h.length]}function f(b,c){return s.range(a.length).map(function(a){return b+c*a})}var d,h,g;return e.domain=
function(f){if(!arguments.length)return a;a=[];d=new b;for(var h,g=-1,k=f.length;++g<k;)d.has(h=f[g])||d.set(h,a.push(h));return e[c.t].apply(e,c.a)},e.range=function(a){return arguments.length?(h=a,g=0,c={t:"range",a:arguments},e):h},e.rangePoints=function(b,d){2>arguments.length&&(d=0);var k=b[0],l=b[1],m=(l-k)/(Math.max(1,a.length-1)+d);return h=f(2>a.length?(k+l)/2:k+m*d/2,m),g=0,c={t:"rangePoints",a:arguments},e},e.rangeBands=function(b,d,k){2>arguments.length&&(d=0);3>arguments.length&&(k=d);
var l=b[1]<b[0],m=b[l-0],n=(b[1-l]-m)/(a.length-d+2*k);return h=f(m+n*k,n),l&&h.reverse(),g=n*(1-d),c={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(b,d,k){2>arguments.length&&(d=0);3>arguments.length&&(k=d);var l=b[1]<b[0],m=b[l-0],n=b[1-l],p=Math.floor((n-m)/(a.length-d+2*k));return h=f(m+Math.round((n-m-(a.length-d)*p)/2),p),l&&h.reverse(),g=Math.round(p*(1-d)),c={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return g},e.rangeExtent=function(){return wb(c.a[0])},e.copy=
function(){return yf(a,c)},e.domain(a)}function zf(a,b){function c(){var d=0,h=b.length;for(f=[];++d<h;)f[d-1]=s.quantile(a,d/h);return e}function e(a){return isNaN(a=+a)?void 0:b[s.bisect(f,a)]}var f;return e.domain=function(b){return arguments.length?(a=b.filter(function(a){return!isNaN(a)}).sort(s.ascending),c()):a},e.range=function(a){return arguments.length?(b=a,c()):b},e.quantiles=function(){return f},e.invertExtent=function(c){return c=b.indexOf(c),0>c?[0/0,0/0]:[0<c?f[c-1]:a[0],c<f.length?
f[c]:a[a.length-1]]},e.copy=function(){return zf(a,b)},c()}function Af(a,b,c){function e(b){return c[Math.max(0,Math.min(h,Math.floor(d*(b-a))))]}function f(){return d=c.length/(b-a),h=c.length-1,e}var d,h;return e.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],f()):[a,b]},e.range=function(a){return arguments.length?(c=a,f()):c},e.invertExtent=function(b){return b=c.indexOf(b),b=0>b?0/0:b/d+a,[b,b+1/d]},e.copy=function(){return Af(a,b,c)},f()}function Bf(a,b){function c(e){return e>=
e?b[s.bisect(a,e)]:void 0}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return Bf(a,b)},c}function Cf(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return s.range.apply(s,bb(a,b))},b.tickFormat=function(b,c){return yd(a,b,c)},b.copy=function(){return Cf(a)},
b}function Lh(a){return a.innerRadius}function Mh(a){return a.outerRadius}function Df(a){return a.startAngle}function Ef(a){return a.endAngle}function Ff(a){function b(h){function k(){m.push("M",d(a(n),g))}for(var l,m=[],n=[],p=-1,Y=h.length,q=fa(c),r=fa(e);++p<Y;)f.call(this,l=h[p],p)?n.push([+q.call(this,l,p),+r.call(this,l,p)]):n.length&&(k(),n=[]);return n.length&&k(),m.length?m.join(""):null}var c=rb,e=Fb,f=qb,d=Ca,h=d.key,g=0.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?
(e=a,b):e},b.defined=function(a){return arguments.length?(f=a,b):f},b.interpolate=function(a){return arguments.length?(h="function"==typeof a?d=a:(d=Bd.get(a)||Ca).key,b):h},b.tension=function(a){return arguments.length?(g=a,b):g},b}function Ca(a){return a.join("L")}function Cd(a){for(var b=0,c=a.length,e=a[0],f=[e[0],",",e[1]];++b<c;)f.push("V",(e=a[b])[1],"H",e[0]);return f.join("")}function Dd(a){for(var b=0,c=a.length,e=a[0],f=[e[0],",",e[1]];++b<c;)f.push("H",(e=a[b])[0],"V",e[1]);return f.join("")}
function tc(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return Ca(a);var c=a.length!=b.length,e="",f=a[0],d=a[1],h=b[0],g=h,k=1;if(c&&(e+="Q"+(d[0]-2*h[0]/3)+","+(d[1]-2*h[1]/3)+","+d[0]+","+d[1],f=a[1],k=2),1<b.length){g=b[1];d=a[k];k++;e+="C"+(f[0]+h[0])+","+(f[1]+h[1])+","+(d[0]-g[0])+","+(d[1]-g[1])+","+d[0]+","+d[1];for(f=2;f<b.length;f++,k++)d=a[k],g=b[f],e+="S"+(d[0]-g[0])+","+(d[1]-g[1])+","+d[0]+","+d[1]}c&&(c=a[k],e+="Q"+(d[0]+2*g[0]/3)+","+(d[1]+2*g[1]/3)+","+c[0]+","+
c[1]);return e}function Ed(a,b){for(var c,e=[],f=(1-b)/2,d=a[0],h=a[1],g=1,k=a.length;++g<k;)c=d,d=h,h=a[g],e.push([f*(h[0]-c[0]),f*(h[1]-c[1])]);return e}function Gf(a){if(3>a.length)return Ca(a);var b=1,c=a.length,e=a[0],f=e[0],d=e[1],h=[f,f,f,(e=a[1])[0]],g=[d,d,d,e[1]],f=[f,",",d,"L",Fa(cb,h),",",Fa(cb,g)];for(a.push(a[c-1]);++b<=c;)e=a[b],h.shift(),h.push(e[0]),g.shift(),g.push(e[1]),Fd(f,h,g);return a.pop(),f.push("L",e),f.join("")}function Fa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*
b[3]}function Fd(a,b,c){a.push("C",Fa(Hf,b),",",Fa(Hf,c),",",Fa(If,b),",",Fa(If,c),",",Fa(cb,b),",",Fa(cb,c))}function Gd(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Jf(a){for(var b,c,e,f=-1,d=a.length;++f<d;)b=a[f],c=b[0],e=b[1]+kb,b[0]=c*Math.cos(e),b[1]=c*Math.sin(e);return a}function Kf(a){function b(k){function p(){D.push("M",g(a(t),n),m,l(a(w.reverse()),n),"Z")}for(var Y,q,r,D=[],w=[],t=[],E=-1,u=k.length,s=fa(c),v=fa(f),jg=c===e?function(){return q}:fa(e),B=f===d?function(){return r}:fa(d);++E<
u;)h.call(this,Y=k[E],E)?(w.push([q=+s.call(this,Y,E),r=+v.call(this,Y,E)]),t.push([+jg.call(this,Y,E),+B.call(this,Y,E)])):w.length&&(p(),w=[],t=[]);return w.length&&p(),D.length?D.join(""):null}var c=rb,e=rb,f=0,d=Fb,h=qb,g=Ca,k=g.key,l=g,m="L",n=0.7;return b.x=function(a){return arguments.length?(c=e=a,b):e},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(e=a,b):e},b.y=function(a){return arguments.length?(f=d=a,b):d},b.y0=function(a){return arguments.length?
(f=a,b):f},b.y1=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(h=a,b):h},b.interpolate=function(a){return arguments.length?(k="function"==typeof a?g=a:(g=Bd.get(a)||Ca).key,l=g.reverse||g,m=g.closed?"M":"L",b):k},b.tension=function(a){return arguments.length?(n=a,b):n},b}function Nh(a){return a.radius}function Lf(a){return[a.x,a.y]}function Oh(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]+kb;return[c*Math.cos(b),c*Math.sin(b)]}}function Ph(){return 64}
function Qh(){return"circle"}function Mf(a){a=Math.sqrt(a/S);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Mb(a,b){return Ob(a,oa),a.id=b,a}function Hd(a,b,c,e){var f=a.id;return R(a,"function"==typeof c?function(a,d,h){a.__transition__[f].tween.set(b,e(c.call(a,a.__data__,d,h)))}:(c=e(c),function(a){a.__transition__[f].tween.set(b,c)}))}function Rh(a){return null==a&&(a=""),function(){this.textContent=a}}function uc(a,c,e,f){var d=a.__transition__||(a.__transition__=
{active:0,count:0}),h=d[e];if(!h){var g=f.time,h=d[e]={tween:new b,time:g,ease:f.ease,delay:f.delay,duration:f.duration};++d.count;s.timer(function(b){function f(b){return d.active>e?l():(d.active=e,h.event&&h.event.start.call(a,m,c),h.tween.forEach(function(b,e){(e=e.call(a,m,c))&&D.push(e)}),s.timer(function(){return r.c=k(b||1)?qb:k,1},0,g),void 0)}function k(b){if(d.active!==e)return l();b/=q;for(var f=n(b),g=D.length;0<g;)D[--g].call(a,f);return 1<=b?(h.event&&h.event.end.call(a,m,c),l()):void 0}
function l(){return--d.count?delete d[e]:delete a.__transition__,1}var m=a.__data__,n=h.ease,p=h.delay,q=h.duration,r=Pa,D=[];return r.t=p+g,b>=p?f(b-p):(r.c=f,void 0)},0,g)}}function Nf(a,b){a.attr("transform",function(a){return"translate("+b(a)+",0)"})}function Of(a,b){a.attr("transform",function(a){return"translate(0,"+b(a)+")"})}function Id(a){return a.toISOString()}function Jd(a,b,c){function e(b){return a(b)}function f(a,c){var e=(a[1]-a[0])/c,d=s.bisect(vc,e);return d==vc.length?[b.year,bb(a.map(function(a){return a/
31536E6}),c)[2]]:d?b[e/vc[d-1]<vc[d]/e?d-1:d]:[Sh,bb(a,c)[2]]}return e.invert=function(b){return lb(a.invert(b))},e.domain=function(b){return arguments.length?(a.domain(b),e):a.domain().map(lb)},e.nice=function(a,b){function c(e){return!isNaN(e)&&!a.range(e,lb(+e+1),b).length}var d=e.domain(),h=wb(d),h=null==a?f(h,10):"number"==typeof a&&f(h,a);return h&&(a=h[0],b=h[1]),e.domain(rc(d,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=lb(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=lb(+b+1);
return b}}:a))},e.ticks=function(a,b){var c=wb(e.domain()),d=null==a?f(c,10):"number"==typeof a?f(c,a):!a.range&&[{range:a},b];return d&&(a=d[0],b=d[1]),a.range(c[0],lb(+c[1]+1),1>b?1:b)},e.tickFormat=function(){return c},e.copy=function(){return Jd(a.copy(),b,c)},zd(e,a)}function lb(a){return new Date(a)}function Th(a){return JSON.parse(a.responseText)}function Uh(a){var b=Ia.createRange();return b.selectNode(Ia.body),b.createContextualFragment(a.responseText)}var s={version:"3.4.3"};Date.now||(Date.now=
function(){return+new Date});var Pf=[].slice,Wa=function(a){return Pf.call(a)},Ia=document,Xa=Ia.documentElement,sa=window;try{Wa(Xa.childNodes)[0].nodeType}catch(ti){Wa=function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}try{Ia.createElement("div").style.setProperty("opacity",0,"")}catch(ui){var wc=sa.Element.prototype,Vh=wc.setAttribute,Wh=wc.setAttributeNS,Qf=sa.CSSStyleDeclaration.prototype,Xh=Qf.setProperty;wc.setAttribute=function(a,b){Vh.call(this,a,b+"")};wc.setAttributeNS=
function(a,b,c){Wh.call(this,a,b,c+"")};Qf.setProperty=function(a,b,c){Xh.call(this,a,b+"",c)}}s.ascending=function(a,b){return b>a?-1:a>b?1:a>=b?0:0/0};s.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:0/0};s.min=function(a,b){var c,e,f=-1,d=a.length;if(1===arguments.length){for(;++f<d&&!(null!=(c=a[f])&&c>=c);)c=void 0;for(;++f<d;)null!=(e=a[f])&&c>e&&(c=e)}else{for(;++f<d&&!(null!=(c=b.call(a,a[f],f))&&c>=c);)c=void 0;for(;++f<d;)null!=(e=b.call(a,a[f],f))&&c>e&&(c=e)}return c};s.max=function(a,
b){var c,e,f=-1,d=a.length;if(1===arguments.length){for(;++f<d&&!(null!=(c=a[f])&&c>=c);)c=void 0;for(;++f<d;)null!=(e=a[f])&&e>c&&(c=e)}else{for(;++f<d&&!(null!=(c=b.call(a,a[f],f))&&c>=c);)c=void 0;for(;++f<d;)null!=(e=b.call(a,a[f],f))&&e>c&&(c=e)}return c};s.extent=function(a,b){var c,e,f,d=-1,h=a.length;if(1===arguments.length){for(;++d<h&&!(null!=(c=f=a[d])&&c>=c);)c=f=void 0;for(;++d<h;)null!=(e=a[d])&&(c>e&&(c=e),e>f&&(f=e))}else{for(;++d<h&&!(null!=(c=f=b.call(a,a[d],d))&&c>=c);)c=void 0;
for(;++d<h;)null!=(e=b.call(a,a[d],d))&&(c>e&&(c=e),e>f&&(f=e))}return[c,f]};s.sum=function(a,b){var c,e=0,f=a.length,d=-1;if(1===arguments.length)for(;++d<f;)isNaN(c=+a[d])||(e+=c);else for(;++d<f;)isNaN(c=+b.call(a,a[d],d))||(e+=c);return e};s.mean=function(a,b){var c,e=a.length,f=0,h=-1,g=0;if(1===arguments.length)for(;++h<e;)d(c=a[h])&&(f+=(c-f)/++g);else for(;++h<e;)d(c=b.call(a,a[h],h))&&(f+=(c-f)/++g);return g?f:void 0};s.quantile=function(a,b){var c=(a.length-1)*b+1,e=Math.floor(c),f=+a[e-
1];return(c-=e)?f+c*(a[e]-f):f};s.median=function(a,b){return 1<arguments.length&&(a=a.map(b)),a=a.filter(d),a.length?s.quantile(a.sort(s.ascending),0.5):void 0};s.bisector=function(a){return{left:function(b,c,e,f){3>arguments.length&&(e=0);for(4>arguments.length&&(f=b.length);f>e;){var d=e+f>>>1;a.call(b,b[d],d)<c?e=d+1:f=d}return e},right:function(b,c,e,f){3>arguments.length&&(e=0);for(4>arguments.length&&(f=b.length);f>e;){var d=e+f>>>1;c<a.call(b,b[d],d)?f=d:e=d+1}return e}}};var Rf=s.bisector(function(a){return a});
s.bisectLeft=Rf.left;s.bisect=s.bisectRight=Rf.right;s.shuffle=function(a){for(var b,c,e=a.length;e;)c=0|Math.random()*e--,b=a[e],a[e]=a[c],a[c]=b;return a};s.permute=function(a,b){for(var c=b.length,e=Array(c);c--;)e[c]=a[b[c]];return e};s.pairs=function(a){for(var b=0,c=a.length-1,e=a[0],f=Array(0>c?0:c);c>b;)f[b]=[e,e=a[++b]];return f};s.zip=function(){if(!(f=arguments.length))return[];for(var b=-1,c=s.min(arguments,a),e=Array(c);++b<c;)for(var f,d=-1,h=e[b]=Array(f);++d<f;)h[d]=arguments[d][b];
return e};s.transpose=function(a){return s.zip.apply(s,a)};s.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};s.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};s.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};s.merge=function(a){var b,c,e,f=a.length;b=-1;for(var d=0;++b<f;)d+=a[b].length;for(c=Array(d);0<=--f;){e=a[f];for(b=e.length;0<=--b;)c[--d]=e[b]}return c};var W=Math.abs;s.range=function(a,b,c){if(3>arguments.length&&(c=1,2>arguments.length&&
(b=a,a=0)),1/0===(b-a)/c)throw Error("infinite range");var e,f=[],d;e=W(c);for(d=1;e*d%1;)d*=10;var h=-1;if(a*=d,b*=d,c*=d,0>c)for(;(e=a+c*++h)>b;)f.push(e/d);else for(;(e=a+c*++h)<b;)f.push(e/d);return f};s.map=function(a){var c=new b;if(a instanceof b)a.forEach(function(a,b){c.set(a,b)});else for(var e in a)c.set(e,a[e]);return c};c(b,{has:f,get:function(a){return this[db+a]},set:function(a,b){return this[db+a]=b},remove:function(a){return a=db+a,a in this&&delete this[a]},keys:e,values:function(){var a=
[];return this.forEach(function(b,c){a.push(c)}),a},entries:function(){var a=[];return this.forEach(function(b,c){a.push({key:b,value:c})}),a},size:h,empty:g,forEach:function(a){for(var b in this)b.charCodeAt(0)===Nb&&a.call(this,b.substring(1),this[b])}});var db="\x00",Nb=db.charCodeAt(0);s.nest=function(){function a(c,g,k){if(k>=h.length)return f?f.call(d,g):e?g.sort(e):g;for(var l,m,n,p,q=-1,Y=g.length,r=h[k++],D=new b;++q<Y;)(p=D.get(l=r(m=g[q])))?p.push(m):D.set(l,[m]);return c?(m=c(),n=function(b,
e){m.set(b,a(c,e,k))}):(m={},n=function(b,e){m[b]=a(c,e,k)}),D.forEach(n),m}function c(a,b){if(b>=h.length)return a;var e=[],f=g[b++];return a.forEach(function(a,f){e.push({key:a,values:c(f,b)})}),f?e.sort(function(a,b){return f(a.key,b.key)}):e}var e,f,d={},h=[],g=[];return d.map=function(b,c){return a(c,b,0)},d.entries=function(b){return c(a(s.map,b,0),0)},d.key=function(a){return h.push(a),d},d.sortKeys=function(a){return g[h.length-1]=a,d},d.sortValues=function(a){return e=a,d},d.rollup=function(a){return f=
a,d},d};s.set=function(a){var b=new k;if(a)for(var c=0,e=a.length;e>c;++c)b.add(a[c]);return b};c(k,{has:f,add:function(a){return this[db+a]=!0,a},remove:function(a){return a=db+a,a in this&&delete this[a]},values:e,size:h,empty:g,forEach:function(a){for(var b in this)b.charCodeAt(0)===Nb&&a.call(this,b.substring(1))}});s.behavior={};s.rebind=function(a,b){for(var c,e=1,f=arguments.length;++e<f;)a[c=arguments[e]]=l(a,b,b[c]);return a};var Sd="webkit ms moz Moz o O".split(" ");s.dispatch=function(){for(var a=
new p,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=q(a);return a};p.prototype.on=function(a,b){var c=a.indexOf("."),e="";if(0<=c&&(e=a.substring(c+1),a=a.substring(0,c)),a)return 2>arguments.length?this[a].on(e):this[a].on(e,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(e,null);return this}};s.event=null;s.requote=function(a){return a.replace(Yh,"\\$&")};var Yh=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ob={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=
b[c]},Mc=function(a,b){return b.querySelector(a)},Nc=function(a,b){return b.querySelectorAll(a)},Zh=Xa[m(Xa,"matchesSelector")],Td=function(a,b){return Zh.call(a,b)};"function"==typeof Sizzle&&(Mc=function(a,b){return Sizzle(a,b)[0]||null},Nc=Sizzle,Td=Sizzle.matchesSelector);s.selection=function(){return Sf};var ba=s.selection.prototype=[];ba.select=function(a){var b,c,e,f,d=[];a=z(a);for(var h=-1,g=this.length;++h<g;){d.push(b=[]);b.parentNode=(e=this[h]).parentNode;for(var k=-1,l=e.length;++k<
l;)(f=e[k])?(b.push(c=a.call(f,f.__data__,k,h)),c&&"__data__"in f&&(c.__data__=f.__data__)):b.push(null)}return v(d)};ba.selectAll=function(a){var b,c,e=[];a=H(a);for(var f=-1,d=this.length;++f<d;)for(var h=this[f],g=-1,k=h.length;++g<k;)(c=h[g])&&(e.push(b=Wa(a.call(c,c.__data__,g,f))),b.parentNode=c);return v(e)};var Kd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};
s.ns={prefix:Kd,qualify:function(a){var b=a.indexOf(":"),c=a;return 0<=b&&(c=a.substring(0,b),a=a.substring(b+1)),Kd.hasOwnProperty(c)?{space:Kd[c],local:a}:a}};ba.attr=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node();return a=s.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(F(b,a[b]));return this}return this.each(F(a,b))};ba.classed=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node(),e=(a=a.trim().split(/^|\s+/)).length,
f=-1;if(b=c.classList)for(;++f<e;){if(!b.contains(a[f]))return!1}else for(b=c.getAttribute("class");++f<e;)if(!C(a[f]).test(b))return!1;return!0}for(b in a)this.each(A(b,a[b]));return this}return this.each(A(a,b))};ba.style=function(a,b,c){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(b="");for(c in a)this.each(w(c,a[c],b));return this}if(2>e)return sa.getComputedStyle(this.node(),null).getPropertyValue(a);c=""}return this.each(w(a,b,c))};ba.property=function(a,b){if(2>arguments.length){if("string"==
typeof a)return this.node()[a];for(b in a)this.each(K(b,a[b]));return this}return this.each(K(a,b))};ba.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};ba.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=
""}:function(){this.innerHTML=a}):this.node().innerHTML};ba.append=function(a){return a=P(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};ba.insert=function(a,b){return a=P(a),b=z(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};ba.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})};ba.data=function(a,c){function e(a,f){var d,h,g,I=a.length,n=f.length,p=Math.min(I,n),
q=Array(n),r=Array(n),D=Array(I);if(c){var $=new b,w=new b,t=[];for(d=-1;++d<I;)p=c.call(h=a[d],h.__data__,d),$.has(p)?D[d]=h:$.set(p,h),t.push(p);for(d=-1;++d<n;)p=c.call(f,g=f[d],d),(h=$.get(p))?(q[d]=h,h.__data__=g):w.has(p)||(r[d]={__data__:g}),w.set(p,g),$.remove(p);for(d=-1;++d<I;)$.has(t[d])&&(D[d]=a[d])}else{for(d=-1;++d<p;)h=a[d],g=f[d],h?(h.__data__=g,q[d]=h):r[d]={__data__:g};for(;n>d;++d)r[d]={__data__:f[d]};for(;I>d;++d)D[d]=a[d]}r.update=q;r.parentNode=q.parentNode=D.parentNode=a.parentNode;
k.push(r);l.push(q);m.push(D)}var f,d,h=-1,g=this.length;if(!arguments.length){for(a=Array(g=(f=this[0]).length);++h<g;)(d=f[h])&&(a[h]=d.__data__);return a}var k=ra([]),l=v([]),m=v([]);if("function"==typeof a)for(;++h<g;)e(f=this[h],a.call(f,f.parentNode.__data__,h));else for(;++h<g;)e(f=this[h],a);return l.enter=function(){return k},l.exit=function(){return m},l};ba.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};ba.filter=function(a){var b,c,e,f=
[];"function"!=typeof a&&(a=J(a));for(var d=0,h=this.length;h>d;d++){f.push(b=[]);b.parentNode=(c=this[d]).parentNode;for(var g=0,k=c.length;k>g;g++)(e=c[g])&&a.call(e,e.__data__,g,d)&&b.push(e)}return v(f)};ba.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,e=this[a],f=e.length-1,d=e[f];0<=--f;)(c=e[f])&&(d&&d!==c.nextSibling&&d.parentNode.insertBefore(c,d),d=c);return this};ba.sort=function(a){a=ca.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};
ba.each=function(a){return R(this,function(b,c,e){a.call(b,b.__data__,c,e)})};ba.call=function(a){var b=Wa(arguments);return a.apply(b[0]=this,b),this};ba.empty=function(){return!this.node()};ba.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],e=0,f=c.length;f>e;e++){var d=c[e];if(d)return d}return null};ba.size=function(){var a=0;return this.each(function(){++a}),a};var Oa=[];s.selection.enter=ra;s.selection.enter.prototype=Oa;Oa.append=ba.append;Oa.empty=ba.empty;Oa.node=ba.node;
Oa.call=ba.call;Oa.size=ba.size;Oa.select=function(a){for(var b,c,e,f,d,h=[],g=-1,k=this.length;++g<k;){e=(f=this[g]).update;h.push(b=[]);b.parentNode=f.parentNode;for(var l=-1,m=f.length;++l<m;)(d=f[l])?(b.push(e[l]=c=a.call(f.parentNode,d.__data__,l,g)),c.__data__=d.__data__):b.push(null)}return v(h)};Oa.insert=function(a,b){return 2>arguments.length&&(b=x(this)),ba.insert.call(this,a,b)};ba.transition=function(){for(var a,b,c=mb||++Tf,e=[],f=xc||{time:Date.now(),ease:$g,delay:0,duration:250},d=
-1,h=this.length;++d<h;){e.push(a=[]);for(var g=this[d],k=-1,l=g.length;++k<l;)(b=g[k])&&uc(b,k,c,f),a.push(b)}return Mb(e,c)};ba.interrupt=function(){return this.each(y)};s.select=function(a){a=["string"==typeof a?Mc(a,Ia):a];return a.parentNode=Xa,v([a])};s.selectAll=function(a){a=Wa("string"==typeof a?Nc(a,Ia):a);return a.parentNode=Xa,v([a])};var Sf=s.select(Xa);ba.on=function(a,b,c){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(b=!1);for(c in a)this.each(za(c,a[c],b));return this}if(2>
e)return(e=this.node()["__on"+a])&&e._;c=!1}return this.each(za(a,b,c))};var Pc=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});Pc.forEach(function(a){"on"+a in Ia&&Pc.remove(a)});var Ab="onselectstart"in Ia?null:m(Xa.style,"userSelect"),kg=0;s.mouse=function(a){return Q(a,t())};var Qc=/WebKit/.test(sa.navigator.userAgent)?-1:0;s.touches=function(a,b){return 2>arguments.length&&(b=t().touches),b?Wa(b).map(function(b){var c=Q(a,b);return c.identifier=b.identifier,c}):[]};s.behavior.drag=function(){function a(){this.on("mousedown.drag",
f).on("touchstart.drag",d)}function b(a,f,d,h){return function(){var b,g=this.parentNode,k=c.of(this,arguments),l=s.event.target,m=a(),I=null==m?"drag":"drag-"+m,n=f(g,m),p=0,q=s.select(sa).on(d+"."+I,function(){var a=f(g,m),c=a[0]-n[0],e=a[1]-n[1];p|=c|e;n=a;k({type:"drag",x:a[0]+b[0],y:a[1]+b[1],dx:c,dy:e})}).on(h+"."+I,function(){q.on(d+"."+I,null).on(h+"."+I,null);r(p&&s.event.target===l);k({type:"dragend"})}),r=ea();e?(b=e.apply(this,arguments),b=[b.x-n[0],b.y-n[1]]):b=[0,0];k({type:"dragstart"})}}
var c=u(a,"drag","dragstart","dragend"),e=null,f=b(n,s.mouse,"mousemove","mouseup"),d=b(function(){return s.event.changedTouches[0].identifier},function(a,b){return s.touches(a).filter(function(a){return a.identifier===b})[0]},"touchmove","touchend");return a.origin=function(b){return arguments.length?(e=b,a):e},s.rebind(a,c,"on")};var S=Math.PI,Ba=2*S,va=S/2,N=1E-6,nd=N*N,U=S/180,ha=180/S,yc=Math.SQRT2,Ld=2;s.interpolateZoom=function(a,b){function c(a){var b=a*r;if(q){a=Z(p);var h=d/(Ld*m),l,I=yc*
b+p;l=((I=Math.exp(2*I))-1)/(I+1);l*=a;var n=p,I=((n=Math.exp(n))-1/n)/2,h=h*(l-I);return[e+h*g,f+h*k,d*a/Z(yc*b+p)]}return[e+a*g,f+a*k,d*Math.exp(yc*b)]}var e=a[0],f=a[1],d=a[2],h=b[2],g=b[0]-e,k=b[1]-f,l=g*g+k*k,m=Math.sqrt(l),n=(h*h-d*d+4*l)/(2*d*Ld*m),l=(h*h-d*d-4*l)/(2*h*Ld*m),p=Math.log(Math.sqrt(n*n+1)-n),q=Math.log(Math.sqrt(l*l+1)-l)-p,r=(q||Math.log(h/d))/yc;return c.duration=1E3*r,c};s.behavior.zoom=function(){function a(b){b.on(H,k).on($h+".zoom",m).on(J,n).on("dblclick.zoom",p).on(La,
l)}function b(a){return[(a[0]-z.x)/z.k,(a[1]-z.y)/z.k]}function c(a){z.k=Math.max(K[0],Math.min(K[1],a))}function e(a,b){b=[b[0]*z.k+z.x,b[1]*z.k+z.y];z.x+=a[0]-b[0];z.y+=a[1]-b[1]}function f(){v&&v.domain(E.range().map(function(a){return(a-z.x)/z.k}).map(E.invert));A&&A.domain(B.range().map(function(a){return(a-z.y)/z.k}).map(B.invert))}function d(a){a({type:"zoomstart"})}function h(a){f();a({type:"zoom",scale:z.k,translate:[z.x,z.y]})}function g(a){a({type:"zoomend"})}function k(){var a=this,c=
R.of(a,arguments),f=s.event.target,l=0,m=s.select(sa).on(J,function(){l=1;e(s.mouse(a),I);h(c)}).on(x,function(){m.on(J,sa===a?n:null).on(x,null);p(l&&s.event.target===f);g(c)}),I=b(s.mouse(a)),p=ea();y.call(a);d(c)}function l(){function a(){var c=s.touches(I);return m=z.k,c.forEach(function(a){a.identifier in p&&(p[a.identifier]=b(a))}),c}function f(){for(var b=s.event.changedTouches,d=0,g=b.length;g>d;++d)p[b[d].identifier]=null;g=a();d=Date.now();1===g.length?(500>d-t&&(b=g[0],g=p[b.identifier],
c(2*z.k),e(b,g),r(),h(n)),t=d):1<g.length&&(b=g[0],g=g[1],d=b[0]-g[0],b=b[1]-g[1],q=d*d+b*b)}var m,I=this,n=R.of(I,arguments),p={},q=0,D=s.event.changedTouches[0].identifier,w="touchmove.zoom-"+D,E="touchend.zoom-"+D,u=s.select(sa).on(w,function(){for(var a,b,f,d,g=s.touches(I),k=0,l=g.length;l>k;++k,d=null)if(f=g[k],d=p[f.identifier]){if(b)break;a=f;b=d}if(d){var r=(r=f[0]-a[0])*r+(r=f[1]-a[1])*r,g=q&&Math.sqrt(r/q);a=[(a[0]+f[0])/2,(a[1]+f[1])/2];b=[(b[0]+d[0])/2,(b[1]+d[1])/2];c(g*m)}t=null;e(a,
b);h(n)}).on(E,function(){if(s.event.touches.length){for(var b=s.event.changedTouches,c=0,e=b.length;e>c;++c)delete p[b[c].identifier];for(var f in p)return void a()}u.on(w,null).on(E,null);ia.on(H,k).on(La,l);v();g(n)}),ia=s.select(I).on(H,null).on(La,f),v=ea();y.call(I);f();d(n)}function m(){var a=R.of(this,arguments);w?clearTimeout(w):(y.call(this),d(a));w=setTimeout(function(){w=null;g(a)},50);r();var f=D||s.mouse(this);q||(q=b(f));c(Math.pow(2,0.002*zc())*z.k);e(f,q);h(a)}function n(){q=null}
function p(){var a=R.of(this,arguments),f=s.mouse(this),k=b(f),l=Math.log(z.k)/Math.LN2;d(a);c(Math.pow(2,s.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1));e(f,k);h(a);g(a)}var q,D,w,t,E,v,B,A,z={x:0,y:0,k:1},F=[960,500],K=Uf,H="mousedown.zoom",J="mousemove.zoom",x="mouseup.zoom",La="touchstart.zoom",R=u(a,"zoomstart","zoom","zoomend");return a.event=function(a){a.each(function(){var a=R.of(this,arguments),b=z;mb?s.select(this).transition().each("start.zoom",function(){z=this.__chart__||{x:0,y:0,
k:1};d(a)}).tween("zoom:zoom",function(){var c=F[0],e=c/2,f=F[1]/2,d=s.interpolateZoom([(e-z.x)/z.k,(f-z.y)/z.k,c/z.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){b=d(b);var g=c/b[2];this.__chart__=z={x:e-b[0]*g,y:f-b[1]*g,k:g};h(a)}}).each("end.zoom",function(){g(a)}):(this.__chart__=z,d(a),h(a),g(a))})},a.translate=function(b){return arguments.length?(z={x:+b[0],y:+b[1],k:z.k},f(),a):[z.x,z.y]},a.scale=function(b){return arguments.length?(z={x:z.x,y:z.y,k:+b},f(),a):z.k},a.scaleExtent=function(b){return arguments.length?
(K=null==b?Uf:[+b[0],+b[1]],a):K},a.center=function(b){return arguments.length?(D=b&&[+b[0],+b[1]],a):D},a.size=function(b){return arguments.length?(F=b&&[+b[0],+b[1]],a):F},a.x=function(b){return arguments.length?(v=b,E=b.copy(),z={x:0,y:0,k:1},a):v},a.y=function(b){return arguments.length?(A=b,B=b.copy(),z={x:0,y:0,k:1},a):A},s.rebind(a,R,"on")};var zc,Uf=[0,1/0],$h="onwheel"in Ia?(zc=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ia?(zc=function(){return s.event.wheelDelta},
"mousewheel"):(zc=function(){return-s.event.detail},"MozMousePixelScroll");ga.prototype.toString=function(){return this.rgb()+""};s.hsl=function(a,b,c){return 1===arguments.length?a instanceof ka?T(a.h,a.s,a.l):Yd(""+a,Zd,T):T(+a,+b,+c)};var Md=ka.prototype=new ga;Md.brighter=function(a){return a=Math.pow(0.7,arguments.length?a:1),T(this.h,this.s,this.l/a)};Md.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),T(this.h,this.s,a*this.l)};Md.rgb=function(){return ma(this.h,this.s,this.l)};
s.hcl=function(a,b,c){return 1===arguments.length?a instanceof E?aa(a.h,a.c,a.l):a instanceof D?Xd(a.l,a.a,a.b):Xd((a=$d((a=s.rgb(a)).r,a.g,a.b)).l,a.a,a.b):aa(+a,+b,+c)};var Nd=E.prototype=new ga;Nd.brighter=function(a){return aa(this.h,this.c,Math.min(100,this.l+Ac*(arguments.length?a:1)))};Nd.darker=function(a){return aa(this.h,this.c,Math.max(0,this.l-Ac*(arguments.length?a:1)))};Nd.rgb=function(){return Ka(this.h,this.c,this.l).rgb()};s.lab=function(a,b,c){return 1===arguments.length?a instanceof
D?ta(a.l,a.a,a.b):a instanceof E?Ka(a.l,a.c,a.h):$d((a=s.rgb(a)).r,a.g,a.b):ta(+a,+b,+c)};var Ac=18,Ud=0.95047,Vd=1,Wd=1.08883,Od=D.prototype=new ga;Od.brighter=function(a){return ta(Math.min(100,this.l+Ac*(arguments.length?a:1)),this.a,this.b)};Od.darker=function(a){return ta(Math.max(0,this.l-Ac*(arguments.length?a:1)),this.a,this.b)};Od.rgb=function(){return La(this.l,this.a,this.b)};s.rgb=function(a,b,c){return 1===arguments.length?a instanceof Uc?Ja(a.r,a.g,a.b):Yd(""+a,Ja,ma):Ja(~~a,~~b,~~c)};
var Bc=Uc.prototype=new ga;Bc.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);var b=this.r,c=this.g,e=this.b;return b||c||e?(b&&30>b&&(b=30),c&&30>c&&(c=30),e&&30>e&&(e=30),Ja(Math.min(255,~~(b/a)),Math.min(255,~~(c/a)),Math.min(255,~~(e/a)))):Ja(30,30,30)};Bc.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),Ja(~~(a*this.r),~~(a*this.g),~~(a*this.b))};Bc.hsl=function(){return Zd(this.r,this.g,this.b)};Bc.toString=function(){return"#"+nb(this.r)+nb(this.g)+nb(this.b)};var Rb=
s.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,
violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Rb.forEach(function(a,b){Rb.set(a,Ja(b>>16,255&b>>8,255&b))});s.functor=fa;s.xhr=Xc(pa);s.dsv=function(a,b){function c(a,d,h){3>arguments.length&&(h=d,d=null);var g=Sb(a,b,null==d?e:f(d),h);return g.row=function(a){return arguments.length?g.response(null==(d=a)?e:f(a)):d},g}function e(a){return c.parse(a.responseText)}function f(a){return function(b){return c.parse(b.responseText,a)}}function d(b){return b.map(h).join(a)}
function h(a){return g.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var g=RegExp('["'+a+"\n]"),l=a.charCodeAt(0);return c.parse=function(a,b){var e;return c.parseRows(a,function(a,c){if(e)return e(a,c-1);var f=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");e=b?function(a,c){return b(f(a),c)}:f})},c.parseRows=function(a,b){function c(){if(m>=k)return h;if(f)return f=!1,d;var b=m;if(34===a.charCodeAt(b)){for(var e=b;e++<k;)if(34===a.charCodeAt(e)){if(34!==
a.charCodeAt(e+1))break;++e}m=e+2;var g=a.charCodeAt(e+1);return 13===g?(f=!0,10===a.charCodeAt(e+2)&&++m):10===g&&(f=!0),a.substring(b+1,e).replace(/""/g,'"')}for(;k>m;){g=a.charCodeAt(m++);e=1;if(10===g)f=!0;else if(13===g)f=!0,10===a.charCodeAt(m)&&(++m,++e);else if(g!==l)continue;return a.substring(b,m-e)}return a.substring(b)}for(var e,f,d={},h={},g=[],k=a.length,m=0,n=0;(e=c())!==h;){for(var I=[];e!==d&&e!==h;)I.push(e),e=c();(!b||(I=b(I,n++)))&&g.push(I)}return g},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);
var e=new k,f=[];return b.forEach(function(a){for(var b in a)e.has(b)||f.push(e.add(b))}),[f.map(h).join(a)].concat(b.map(function(b){return f.map(function(a){return h(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(d).join("\n")},c};s.csv=s.dsv(",","text/csv");s.tsv=s.dsv("\t","text/tab-separated-values");var Vb,Wb,Ub,Tb,Pa,ce=sa[m(sa,"requestAnimationFrame")]||function(a){setTimeout(a,17)};s.timer=function(a,b,c){var e=arguments.length;2>e&&(b=0);3>e&&(c=Date.now());e={c:a,
t:c+b,f:!1,n:null};Wb?Wb.n=e:Vb=e;Wb=e;Ub||(Tb=clearTimeout(Tb),Ub=1,ce(Yc))};s.timer.flush=function(){ae();be()};s.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var ai="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*W(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});s.formatPrefix=function(a,b){var c=0;return a&&(0>a&&(a*=-1),b&&(a=s.round(a,Zc(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),
c=Math.max(-24,Math.min(24,3*Math.floor((0>=c?c+1:c-1)/3)))),ai[8+c/3]};var de=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ng=s.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,
b){return(a=s.round(a,Zc(a,b))).toFixed(Math.max(0,Math.min(20,Zc(a*(1+1E-15),b))))}}),O=s.time={},ua=Date;Qa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},
getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Va.setUTCDate.apply(this._,arguments)},setDay:function(){Va.setUTCDay.apply(this._,arguments)},setFullYear:function(){Va.setUTCFullYear.apply(this._,arguments)},setHours:function(){Va.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Va.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Va.setUTCMinutes.apply(this._,arguments)},
setMonth:function(){Va.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Va.setUTCSeconds.apply(this._,arguments)},setTime:function(){Va.setTime.apply(this._,arguments)}};var Va=Date.prototype;O.year=eb(function(a){return a=O.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});O.years=O.year.range;O.years.utc=O.year.utc.range;O.day=eb(function(a){var b=new ua(2E3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},
function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});O.days=O.day.range;O.days.utc=O.day.utc.range;O.dayOfYear=function(a){var b=O.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,b){b=7-b;var c=O[a]=eb(function(a){return(a=O.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=O.year(a).getDay();
return Math.floor((O.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});O[a+"s"]=c.range;O[a+"s"].utc=c.utc.range;O[a+"OfYear"]=function(a){var c=O.year(a).getDay();return Math.floor((O.dayOfYear(a)+(c+b)%7)/7)}});O.week=O.sunday;O.weeks=O.sunday.range;O.weeks.utc=O.sunday.utc.range;O.weekOfYear=O.sundayOfYear;var ee={"-":"",_:" ","0":"0"},na=/^\s*\d+/,he=/^%/;s.locale=function(a){return{numberFormat:mg(a),timeFormat:pg(a)}};var Vf=s.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",
date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});s.format=Vf.numberFormat;s.geo={};ad.prototype={s:0,t:0,add:function(a){ie(a,this.t,Cc);ie(Cc.s,this.s,this);this.s?this.t+=Cc.t:this.s=Cc.t},
reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Cc=new ad;s.geo.stream=function(a,b){a&&Wf.hasOwnProperty(a.type)?Wf[a.type](a,b):$b(a,b)};var Wf={Feature:function(a,b){$b(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,e=-1,f=c.length;++e<f;)$b(c[e].geometry,b)}},je={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,e=-1,f=c.length;++e<f;)a=c[e],b.point(a[0],a[1],
a[2])},LineString:function(a,b){bd(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,e=-1,f=c.length;++e<f;)bd(c[e],b,0)},Polygon:function(a,b){ke(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,e=-1,f=c.length;++e<f;)ke(c[e],b)},GeometryCollection:function(a,b){for(var c=a.geometries,e=-1,f=c.length;++e<f;)$b(c[e],b)}};s.geo.area=function(a){return xb=0,s.geo.stream(a,Aa),xb};var xb,fb=new ad,Aa={sphere:function(){xb+=4*S},point:n,lineStart:n,lineEnd:n,
polygonStart:function(){fb.reset();Aa.lineStart=Eg},polygonEnd:function(){var a=2*fb;xb+=0>a?4*S+a:a;Aa.lineStart=Aa.lineEnd=Aa.point=n}};s.geo.bounds=function(){function a(b,c){u.push(v=[m=b,p=b]);n>c&&(n=c);c>q&&(q=c)}function b(c,e){var f=gb([c*U,e*U]);if(t){var d=ob(t,f),d=ob([d[1],-d[0],0],d);dc(d);var d=ec(d),h=c-r,k=0<h?1:-1,l=d[0]*ha*k,h=180<W(h);h^(l>k*r&&k*c>l)?(d=d[1]*ha,d>q&&(q=d)):(l=(l+360)%360-180,h^(l>k*r&&k*c>l))?(d=-d[1]*ha,n>d&&(n=d)):(n>e&&(n=e),e>q&&(q=e));h?r>c?g(m,c)>g(m,p)&&
(p=c):g(c,p)>g(m,p)&&(m=c):p>=m?(m>c&&(m=c),c>p&&(p=c)):c>r?g(m,c)>g(m,p)&&(p=c):g(c,p)>g(m,p)&&(m=c)}else a(c,e);t=f;r=c}function c(){B.point=b}function e(){v[0]=m;v[1]=p;B.point=a;t=null}function f(a,c){if(t){var e=a-r;E+=180<W(e)?e+(0<e?360:-360):e}else D=a,w=c;Aa.point(a,c);b(a,c)}function d(){Aa.lineStart()}function h(){f(D,w);Aa.lineEnd();W(E)>N&&(m=-(p=180));v[0]=m;v[1]=p;t=null}function g(a,b){return 0>(b-=a)?b+360:b}function k(a,b){return a[0]-b[0]}function l(a,b){return b[0]<=b[1]?b[0]<=
a&&a<=b[1]:a<b[0]||b[1]<a}var m,n,p,q,r,D,w,t,E,u,v,B={point:a,lineStart:c,lineEnd:e,polygonStart:function(){B.point=f;B.lineStart=d;B.lineEnd=h;E=0;Aa.polygonStart()},polygonEnd:function(){Aa.polygonEnd();B.point=a;B.lineStart=c;B.lineEnd=e;0>fb?(m=-(p=180),n=-(q=90)):E>N?q=90:-N>E&&(n=-90);v[0]=m;v[1]=p}};return function(a){q=p=-(m=n=1/0);u=[];s.geo.stream(a,B);if(a=u.length){u.sort(k);for(var b,c=1,e=u[0],f=[e];a>c;++c)b=u[c],l(b[0],e)||l(b[1],e)?(g(e[0],b[1])>g(e[0],e[1])&&(e[1]=b[1]),g(b[0],
e[1])>g(e[0],e[1])&&(e[0]=b[0])):f.push(e=b);var d,h=-1/0;a=f.length-1;c=0;for(e=f[a];a>=c;e=b,++c)b=f[c],(d=g(e[1],b[0]))>h&&(h=d,m=b[0],p=e[1])}return u=v=null,1/0===m||1/0===n?[[0/0,0/0],[0/0,0/0]]:[[m,n],[p,q]]}}();s.geo.centroid=function(a){Cb=pb=Ra=Sa=Ma=Da=Ea=xa=Ya=Za=Na=0;s.geo.stream(a,Ga);a=Ya;var b=Za,c=Na,e=a*a+b*b+c*c;return nd>e&&(a=Da,b=Ea,c=xa,N>pb&&(a=Ra,b=Sa,c=Ma),e=a*a+b*b+c*c,nd>e)?[0/0,0/0]:[Math.atan2(b,a)*ha,V(c/Math.sqrt(e))*ha]};var Cb,pb,Ra,Sa,Ma,Da,Ea,xa,Ya,Za,Na,Ga={sphere:n,
point:dd,lineStart:le,lineEnd:me,polygonStart:function(){Ga.lineStart=Fg},polygonEnd:function(){Ga.lineStart=le}},Ce=pe(qb,function(a){var b,c=0/0,e=0/0,f=0/0;return{lineStart:function(){a.lineStart();b=1},point:function(d,h){var g=0<d?S:-S,k=W(d-c);if(W(k-S)<N)a.point(c,e=0<(e+h)/2?va:-va),a.point(f,e),a.lineEnd(),a.lineStart(),a.point(g,e),a.point(d,e),b=0;else if(f!==g&&k>=S){W(c-f)<N&&(c-=f*N);W(d-g)<N&&(d-=g*N);var k=c,l=e,m=d,n,p,q=Math.sin(k-m);e=W(q)>N?Math.atan((Math.sin(l)*(p=Math.cos(h))*
Math.sin(m)-Math.sin(h)*(n=Math.cos(l))*Math.sin(k))/(n*p*q)):(l+h)/2;a.point(f,e);a.lineEnd();a.lineStart();a.point(g,e);b=0}a.point(c=d,e=h);f=g},lineEnd:function(){a.lineEnd();c=e=0/0},clean:function(){return 2-b}}},function(a,b,c,e){null==a?(c*=va,e.point(-S,c),e.point(0,c),e.point(S,c),e.point(S,0),e.point(S,-c),e.point(0,-c),e.point(-S,-c),e.point(-S,0),e.point(-S,c)):W(a[0]-b[0])>N?(a=a[0]<b[0]?S:-S,c=c*a/2,e.point(-a,c),e.point(0,c),e.point(a,c)):e.point(b[0],b[1])},[-S,-S/2]),hc=1E9;s.geo.clipExtent=
function(){var a,b,c,e,f,d,h={stream:function(a){return f&&(f.valid=!1),f=d(a),f.valid=!0,f},extent:function(g){return arguments.length?(d=se(a=+g[0][0],b=+g[0][1],c=+g[1][0],e=+g[1][1]),f&&(f.valid=!1,f=null),h):[[a,b],[c,e]]}};return h.extent([[0,0],[960,500]])};(s.geo.conicEqualArea=function(){return fd(ue)}).raw=ue;s.geo.albers=function(){return s.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};s.geo.albersUsa=function(){function a(d){var h=d[0];d=d[1];
return b=null,c(h,d),b||(e(h,d),b)||f(h,d),b}var b,c,e,f,d=s.geo.albers(),h=s.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=s.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),k={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=d.scale(),c=d.translate(),e=(a[0]-c[0])/b,b=(a[1]-c[1])/b;return(0.12<=b&&0.234>b&&-0.425<=e&&-0.214>e?h:0.166<=b&&0.234>b&&-0.214<=e&&-0.115>e?g:d).invert(a)},a.stream=function(a){var b=d.stream(a),c=h.stream(a),
e=g.stream(a);return{point:function(a,f){b.point(a,f);c.point(a,f);e.point(a,f)},sphere:function(){b.sphere();c.sphere();e.sphere()},lineStart:function(){b.lineStart();c.lineStart();e.lineStart()},lineEnd:function(){b.lineEnd();c.lineEnd();e.lineEnd()},polygonStart:function(){b.polygonStart();c.polygonStart();e.polygonStart()},polygonEnd:function(){b.polygonEnd();c.polygonEnd();e.polygonEnd()}}},a.precision=function(b){return arguments.length?(d.precision(b),h.precision(b),g.precision(b),a):d.precision()},
a.scale=function(b){return arguments.length?(d.scale(b),h.scale(0.35*b),g.scale(b),a.translate(d.translate())):d.scale()},a.translate=function(b){if(!arguments.length)return d.translate();var l=d.scale(),m=+b[0],n=+b[1];return c=d.translate(b).clipExtent([[m-0.455*l,n-0.238*l],[m+0.455*l,n+0.238*l]]).stream(k).point,e=h.translate([m-0.307*l,n+0.201*l]).clipExtent([[m-0.425*l+N,n+0.12*l+N],[m-0.214*l-N,n+0.234*l-N]]).stream(k).point,f=g.translate([m-0.205*l,n+0.212*l]).clipExtent([[m-0.214*l+N,n+0.166*
l+N],[m-0.115*l-N,n+0.234*l-N]]).stream(k).point,a},a.scale(1070)};var Dc,ic,Ec,Fc,Gc,Hc,$a={point:n,lineStart:n,lineEnd:n,polygonStart:function(){ic=0;$a.lineStart=Jg},polygonEnd:function(){$a.lineStart=$a.lineEnd=$a.point=n;Dc+=W(ic/2)}},bi={point:function(a,b){Ec>a&&(Ec=a);a>Gc&&(Gc=a);Fc>b&&(Fc=b);b>Hc&&(Hc=b)},lineStart:n,lineEnd:n,polygonStart:n,polygonEnd:n},Ha={point:hb,lineStart:we,lineEnd:xe,polygonStart:function(){Ha.lineStart=Lg},polygonEnd:function(){Ha.point=hb;Ha.lineStart=we;Ha.lineEnd=
xe}};s.geo.path=function(){function a(b){return b&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),d&&d.valid||(d=e(f)),s.geo.stream(b,d)),f.result()}var b,c,e,f,d,h=4.5;return a.area=function(a){return Dc=0,s.geo.stream(a,e($a)),Dc},a.centroid=function(a){return Ra=Sa=Ma=Da=Ea=xa=Ya=Za=Na=0,s.geo.stream(a,e(Ha)),Na?[Ya/Na,Za/Na]:xa?[Da/xa,Ea/xa]:Ma?[Ra/Ma,Sa/Ma]:[0/0,0/0]},a.bounds=function(a){return Gc=Hc=-(Ec=Fc=1/0),s.geo.stream(a,e(bi)),[[Ec,Fc],[Gc,Hc]]},a.projection=function(c){return arguments.length?
(e=(b=c)?c.stream||Ng(c):pa,d=null,a):b},a.context=function(b){return arguments.length?(f=null==(c=b)?new Kg:new Mg(b),"function"!=typeof h&&f.pointRadius(h),d=null,a):c},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(f.pointRadius(+b),+b),a):h},a.projection(s.geo.albersUsa()).context(null)};s.geo.transform=function(a){return{stream:function(b){b=new Be(b);for(var c in a)b[c]=a[c];return b}}};Be.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},
lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};s.geo.projection=ab;s.geo.projectionMutator=gd;(s.geo.equirectangular=function(){return ab(Db)}).raw=Db.invert=Db;s.geo.rotation=function(a){function b(c){return c=a(c[0]*U,c[1]*U),c[0]*=ha,c[1]*=ha,c}return a=hd(a[0]%360*U,a[1]*U,2<a.length?a[2]*U:0),b.invert=function(b){return b=a.invert(b[0]*U,b[1]*U),b[0]*=
ha,b[1]*=ha,b},b};De.invert=Db;s.geo.circle=function(){function a(){var b="function"==typeof e?e.apply(this,arguments):e,f=hd(-b[0]*U,-b[1]*U,0).invert,d=[];return c(null,null,1,{point:function(a,b){d.push(a=f(a,b));a[0]*=ha;a[1]*=ha}}),{type:"Polygon",coordinates:[d]}}var b,c,e=[0,0],f=6;return a.origin=function(b){return arguments.length?(e=b,a):e},a.angle=function(e){return arguments.length?(c=ed((b=+e)*U,f*U),a):b},a.precision=function(e){return arguments.length?(c=ed(b*U,(f=+e)*U),a):f},a.angle(90)};
s.geo.distance=function(a,b){var c,e=(b[0]-a[0])*U,f=a[1]*U,d=b[1]*U,h=Math.sin(e),e=Math.cos(e),g=Math.sin(f),f=Math.cos(f),k=Math.sin(d),d=Math.cos(d);return Math.atan2(Math.sqrt((c=d*h)*c+(c=f*k-g*d*e)*c),g*k+f*d*e)};s.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return s.range(Math.ceil(d/w)*w,f,w).map(p).concat(s.range(Math.ceil(l/t)*t,k,t).map(q)).concat(s.range(Math.ceil(e/r)*r,c,r).filter(function(a){return W(a%w)>N}).map(m)).concat(s.range(Math.ceil(g/
D)*D,h,D).filter(function(a){return W(a%t)>N}).map(n))}var c,e,f,d,h,g,k,l,m,n,p,q,r=10,D=r,w=90,t=360,E=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[p(d).concat(q(k).slice(1),p(f).reverse().slice(1),q(l).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(d=+b[0][0],f=+b[1][0],
l=+b[0][1],k=+b[1][1],d>f&&(b=d,d=f,f=b),l>k&&(b=l,l=k,k=b),a.precision(E)):[[d,l],[f,k]]},a.minorExtent=function(b){return arguments.length?(e=+b[0][0],c=+b[1][0],g=+b[0][1],h=+b[1][1],e>c&&(b=e,e=c,c=b),g>h&&(b=g,g=h,h=b),a.precision(E)):[[e,g],[c,h]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(w=+b[0],t=+b[1],a):[w,t]},a.minorStep=function(b){return arguments.length?(r=+b[0],D=+b[1],a):[r,D]},a.precision=
function(b){return arguments.length?(E=+b,m=Ie(g,h,90),n=Je(e,c,E),p=Ie(l,k,90),q=Je(d,f,E),a):E},a.majorExtent([[-180,-90+N],[180,90-N]]).minorExtent([[-180,-80-N],[180,80+N]])};s.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||e.apply(this,arguments),c||f.apply(this,arguments)]}}var b,c,e=id,f=jd;return a.distance=function(){return s.geo.distance(b||e.apply(this,arguments),c||f.apply(this,arguments))},a.source=function(c){return arguments.length?(e=c,b="function"==
typeof c?null:c,a):e},a.target=function(b){return arguments.length?(f=b,c="function"==typeof b?null:b,a):f},a.precision=function(){return arguments.length?a:0},a};s.geo.interpolate=function(a,b){return Og(a[0]*U,a[1]*U,b[0]*U,b[1]*U)};s.geo.length=function(a){return Ic=0,s.geo.stream(a,yb),Ic};var Ic,yb={sphere:n,point:n,lineStart:function(){function a(f,d){var h=Math.sin(d*=U),g=Math.cos(d),k=W((f*=U)-b),l=Math.cos(k);Ic+=Math.atan2(Math.sqrt((k=g*Math.sin(k))*k+(k=e*h-c*g*l)*k),c*h+e*g*l);b=f;c=
h;e=g}var b,c,e;yb.point=function(f,d){b=f*U;c=Math.sin(d*=U);e=Math.cos(d);yb.point=a};yb.lineEnd=function(){yb.point=yb.lineEnd=n}},lineEnd:n,polygonStart:n,polygonEnd:n},Xf=Eb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(s.geo.azimuthalEqualArea=function(){return ab(Xf)}).raw=Xf;var Yf=Eb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},pa);(s.geo.azimuthalEquidistant=function(){return ab(Yf)}).raw=Yf;(s.geo.conicConformal=function(){return fd(Ke)}).raw=Ke;(s.geo.conicEquidistant=
function(){return fd(Le)}).raw=Le;var Zf=Eb(function(a){return 1/a},Math.atan);(s.geo.gnomonic=function(){return ab(Zf)}).raw=Zf;jc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-va]};(s.geo.mercator=function(){return Me(jc)}).raw=jc;var $f=Eb(function(){return 1},Math.asin);(s.geo.orthographic=function(){return ab($f)}).raw=$f;var ag=Eb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(s.geo.stereographic=function(){return ab(ag)}).raw=ag;kd.invert=function(a,b){return[-b,
2*Math.atan(Math.exp(a))-va]};(s.geo.transverseMercator=function(){var a=Me(kd),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[-a[1],a[0]])},a.rotate=function(a){return a?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},a.rotate([0,0])}).raw=kd;s.geom={};s.geom.hull=function(a){function b(a){if(3>a.length)return[];var f,d=fa(c),h=fa(e),g=a.length,k=[],l=[];for(f=0;g>f;f++)k.push([+d.call(this,a[f],f),+h.call(this,a[f],f),f]);k.sort(Pg);for(f=0;g>
f;f++)l.push([k[f][0],-k[f][1]]);var d=Ne(k),l=Ne(l),h=l[0]===d[0],g=l[l.length-1]===d[d.length-1],m=[];for(f=d.length-1;0<=f;--f)m.push(a[k[d[f]][2]]);for(f=+h;f<l.length-g;++f)m.push(a[k[l[f]][2]]);return m}var c=rb,e=Fb;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(e=a,b):e},b)};s.geom.polygon=function(a){return Ob(a,Jc),a};var Jc=s.geom.polygon.prototype=[];Jc.area=function(){for(var a,b=-1,c=this.length,e=this[c-1],f=
0;++b<c;)a=e,e=this[b],f+=a[1]*e[0]-a[0]*e[1];return 0.5*f};Jc.centroid=function(a){var b,c,e=-1,f=this.length,d=0,h=0,g=this[f-1];for(arguments.length||(a=-1/(6*this.area()));++e<f;)b=g,g=this[e],c=b[0]*g[1]-g[0]*b[1],d+=(b[0]+g[0])*c,h+=(b[1]+g[1])*c;return[d*a,h*a]};Jc.clip=function(a){for(var b,c,e,f,d,h,g=Pe(a),k=-1,l=this.length-Pe(this),m=this[l-1];++k<l;){b=a.slice();a.length=0;f=this[k];d=b[(e=b.length-g)-1];for(c=-1;++c<e;)h=b[c],ld(h,m,f)?(ld(d,m,f)||a.push(Oe(d,h,m,f)),a.push(h)):ld(d,
m,f)&&a.push(Oe(d,h,m,f)),d=h;g&&a.push(a[0]);m=f}return a};var vb,ib,tb,od,Gb,Re=[],Ve=[];Te.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Ue),b.length};mc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};pd.prototype={insert:function(a,b){var c,e,f;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=
b}else a.R=b;c=a}else this._?(a=Xe(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);b.L=b.R=null;b.U=c;b.C=!0;for(a=b;c&&c.C;)e=c.U,c===e.L?(f=e.R,f&&f.C?(c.C=f.C=!1,e.C=!0,a=e):(a===c.R&&(Ib(this,c),a=c,c=a.U),c.C=!1,e.C=!0,Jb(this,e))):(f=e.L,f&&f.C?(c.C=f.C=!1,e.C=!0,a=e):(a===c.L&&(Jb(this,c),a=c,c=a.U),c.C=!1,e.C=!0,Ib(this,e))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b,c,e,f=a.U,d=a.L,h=a.R;if(c=d?h?Xe(h):d:h,f?f.L===a?f.L=
c:f.R=c:this._=c,d&&h?(e=c.C,c.C=a.C,c.L=d,d.U=c,c!==h?(f=c.U,c.U=a.U,a=c.R,f.L=a,c.R=h,h.U=c):(c.U=f,f=c,a=c.R)):(e=a.C,a=c),a&&(a.U=f),!e){if(a&&a.C)return a.C=!1,void 0;do{if(a===this._)break;if(a===f.L){if(b=f.R,b.C&&(b.C=!1,f.C=!0,Ib(this,f),b=f.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,Jb(this,b),b=f.R);b.C=f.C;f.C=b.R.C=!1;Ib(this,f);a=this._;break}}else if(b=f.L,b.C&&(b.C=!1,f.C=!0,Jb(this,f),b=f.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,Ib(this,b),b=f.L);b.C=f.C;
f.C=b.L.C=!1;Jb(this,f);a=this._;break}b.C=!0;a=f;f=f.U}while(!a.C);a&&(a.C=!1)}}};s.geom.voronoi=function(a){function b(a){var e=Array(a.length),f=g[0][0],d=g[0][1],h=g[1][0],k=g[1][1];return qd(c(a),g).cells.forEach(function(b,c){var g=b.edges,l=b.site;(e[c]=g.length?g.map(function(a){a=a.start();return[a.x,a.y]}):l.x>=f&&l.x<=h&&l.y>=d&&l.y<=k?[[f,k],[h,k],[h,d],[f,d]]:[]).point=a[c]}),e}function c(a){return a.map(function(a,b){return{x:Math.round(d(a,b)/N)*N,y:Math.round(h(a,b)/N)*N,i:b}})}var e=
rb,f=Fb,d=e,h=f,g=Kc;return a?b(a):(b.links=function(a){return qd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return qd(c(a)).cells.forEach(function(c,e){for(var f,d=c.site,h=c.edges.sort(Ue),g=-1,k=h.length,l=h[k-1].edge,l=l.l===d?l.r:l.l;++g<k;)f=l,l=h[g].edge,l=l.l===d?l.r:l.l,e<f.i&&e<l.i&&0>(d.x-l.x)*(f.y-d.y)-(d.x-f.x)*(l.y-d.y)&&b.push([a[e],a[f.i],a[l.i]])}),b},b.x=function(a){return arguments.length?
(d=fa(e=a),b):e},b.y=function(a){return arguments.length?(h=fa(f=a),b):f},b.clipExtent=function(a){return arguments.length?(g=null==a?Kc:a,b):g===Kc?null:g},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):g===Kc?null:g&&g[1]},b)};var Kc=[[-1E6,-1E6],[1E6,1E6]];s.geom.delaunay=function(a){return s.geom.voronoi().triangles(a)};s.geom.quadtree=function(a,b,c,e,f){function d(a){function l(a,b,c,e,f,d,h,g){if(!isNaN(c)&&!isNaN(e))if(a.leaf){var k=a.x,n=a.y;if(null!=k){if(!(0.01>W(k-
c)+W(n-e))){var p=a.point;a.x=a.y=a.point=null;m(a,p,k,n,f,d,h,g)}m(a,b,c,e,f,d,h,g)}else a.x=c,a.y=e,a.point=b}else m(a,b,c,e,f,d,h,g)}function m(a,b,c,e,f,d,h,g){var k=0.5*(f+h),n=0.5*(d+g),p=c>=k,q=e>=n,r=(q<<1)+p;a.leaf=!1;a=a.nodes[r]||(a.nodes[r]=Ye());p?f=k:h=k;q?d=n:g=n;l(a,b,c,e,f,d,h,g)}var n,p,q,r,I,D,w,t,E,u=fa(g),v=fa(k);if(null!=b)D=b,w=c,t=e,E=f;else if(t=E=-(D=w=1/0),p=[],q=[],I=a.length,h)for(r=0;I>r;++r)n=a[r],n.x<D&&(D=n.x),n.y<w&&(w=n.y),n.x>t&&(t=n.x),n.y>E&&(E=n.y),p.push(n.x),
q.push(n.y);else for(r=0;I>r;++r){var s=+u(n=a[r],r);n=+v(n,r);D>s&&(D=s);w>n&&(w=n);s>t&&(t=s);n>E&&(E=n);p.push(s);q.push(n)}s=t-D;n=E-w;s>n?E=w+s:t=D+n;var B=Ye();if(B.add=function(a){l(B,a,+u(a,++r),+v(a,r),D,w,t,E)},B.visit=function(a){Kb(a,B,D,w,t,E)},r=-1,null==b){for(;++r<I;)l(B,a[r],p[r],q[r],D,w,t,E);--r}else a.forEach(B.add);return p=q=a=n=null,B}var h,g=rb,k=Fb;return(h=arguments.length)?(g=Vg,k=Wg,3===h&&(f=c,e=b,c=b=0),d(a)):(d.x=function(a){return arguments.length?(g=a,d):g},d.y=function(a){return arguments.length?
(k=a,d):k},d.extent=function(a){return arguments.length?(null==a?b=c=e=f=null:(b=+a[0][0],c=+a[0][1],e=+a[1][0],f=+a[1][1]),d):null==b?null:[[b,c],[e,f]]},d.size=function(a){return arguments.length?(null==a?b=c=e=f=null:(b=c=0,e=+a[0],f=+a[1]),d):null==b?null:[e-b,f-c]},d)};s.interpolateRgb=rd;s.interpolateObject=Ze;s.interpolateNumber=Ta;s.interpolateString=$e;var nc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;s.interpolate=jb;s.interpolators=[function(a,b){var c=typeof b;return("string"===c?Rb.has(b)||
/^(#|rgb\(|hsl\()/.test(b)?rd:$e:b instanceof ga?rd:"object"===c?Array.isArray(b)?oc:Ze:Ta)(a,b)}];s.interpolateArray=oc;var bg=function(){return pa},ci=s.map({linear:bg,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return Yg},cubic:function(){return Zg},sin:function(){return ah},exp:function(){return bh},circle:function(){return ch},elastic:function(a,b){var c;return 2>arguments.length&&(b=0.45),arguments.length?c=b/Ba*Math.asin(1/a):(a=1,c=b/4),function(e){return 1+
a*Math.pow(2,-10*e)*Math.sin((e-c)*Ba/b)}},back:function(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}},bounce:function(){return dh}}),di=s.map({"in":pa,out:af,"in-out":bf,"out-in":function(a){return bf(af(a))}});s.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.substring(0,b):a,b=0<=b?a.substring(b+1):"in";return c=ci.get(c)||bg,b=di.get(b)||pa,Xg(b(c.apply(null,Pf.call(arguments,1))))};s.interpolateHcl=function(a,b){a=s.hcl(a);b=s.hcl(b);var c=a.h,e=a.c,f=a.l,d=b.h-c,h=b.c-e,g=b.l-
f;return isNaN(h)&&(h=0,e=isNaN(e)?b.c:e),isNaN(d)?(d=0,c=isNaN(c)?b.h:c):180<d?d-=360:-180>d&&(d+=360),function(a){return Ka(c+d*a,e+h*a,f+g*a)+""}};s.interpolateHsl=function(a,b){a=s.hsl(a);b=s.hsl(b);var c=a.h,e=a.s,f=a.l,d=b.h-c,h=b.s-e,g=b.l-f;return isNaN(h)&&(h=0,e=isNaN(e)?b.s:e),isNaN(d)?(d=0,c=isNaN(c)?b.h:c):180<d?d-=360:-180>d&&(d+=360),function(a){return ma(c+d*a,e+h*a,f+g*a)+""}};s.interpolateLab=function(a,b){a=s.lab(a);b=s.lab(b);var c=a.l,e=a.a,f=a.b,d=b.l-c,h=b.a-e,g=b.b-f;return function(a){return La(c+
d*a,e+h*a,f+g*a)+""}};s.interpolateRound=cf;s.transform=function(a){var b=Ia.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new df(c?c.matrix:ei)})(a)};df.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ei={a:1,b:0,c:0,d:1,e:0,f:0};s.interpolateTransform=ff;s.layout={};s.layout.bundle=function(){return function(a){for(var b=
[],c=-1,e=a.length;++c<e;)b.push(gh(a[c]));return b}};s.layout.chord=function(){function a(){var l,n,p,q,r,D={},I=[],w=s.range(d),t=[];c=[];e=[];l=0;for(q=-1;++q<d;){n=0;for(r=-1;++r<d;)n+=f[q][r];I.push(n);t.push(s.range(d));l+=n}h&&w.sort(function(a,b){return h(I[a],I[b])});g&&t.forEach(function(a,b){a.sort(function(a,c){return g(f[b][a],f[b][c])})});l=(Ba-m*d)/l;n=0;for(q=-1;++q<d;){p=n;for(r=-1;++r<d;){var E=w[q],u=t[E][r],v=f[E][u],B=n,A=n+=v*l;D[E+"-"+u]={index:E,subindex:u,startAngle:B,endAngle:A,
value:v}}e[E]={index:E,startAngle:p,endAngle:n,value:(n-p)/l};n+=m}for(q=-1;++q<d;)for(r=q-1;++r<d;)l=D[q+"-"+r],n=D[r+"-"+q],(l.value||n.value)&&c.push(l.value<n.value?{source:n,target:l}:{source:l,target:n});k&&b()}function b(){c.sort(function(a,b){return k((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,e,f,d,h,g,k,l={},m=0;return l.matrix=function(a){return arguments.length?(d=(f=a)&&f.length,c=e=null,l):f},l.padding=function(a){return arguments.length?(m=a,c=e=null,
l):m},l.sortGroups=function(a){return arguments.length?(h=a,c=e=null,l):h},l.sortSubgroups=function(a){return arguments.length?(g=a,c=null,l):g},l.sortChords=function(a){return arguments.length?(k=a,c&&b(),l):k},l.chords=function(){return c||a(),c},l.groups=function(){return e||a(),e},l};s.layout.force=function(){function a(b){return function(a,c,e,f){if(a.point!==b){e=a.cx-b.x;var d=a.cy-b.y;c=f-c;f=e*e+d*d;if(f>c*c/w)return r>f&&(c=a.charge/f,b.px-=e*c,b.py-=d*c),!0;a.point&&(f&&r>f)&&(c=a.pointCharge/
f,b.px-=e*c,b.py-=d*c)}return!a.charge}}function b(a){a.px=s.event.x;a.py=s.event.y;g.resume()}var c,e,f,d,h,g={},k=s.dispatch("start","tick","end"),l=[1,1],m=0.9,n=fi,p=gi,q=-30,r=hi,D=0.1,w=0.64,E=[],t=[];return g.tick=function(){if(0.005>(e*=0.99))return k.end({type:"end",alpha:e=0}),!0;var b,c,g,n,p,r,w,u,v=E.length,B=t.length;for(c=0;B>c;++c)g=t[c],b=g.source,n=g.target,w=n.x-b.x,u=n.y-b.y,(p=w*w+u*u)&&(p=e*d[c]*((p=Math.sqrt(p))-f[c])/p,w*=p,u*=p,n.x-=w*(r=b.weight/(n.weight+b.weight)),n.y-=
u*r,b.x+=w*(r=1-r),b.y+=u*r);if((r=e*D)&&(w=l[0]/2,u=l[1]/2,c=-1,r))for(;++c<v;)g=E[c],g.x+=(w-g.x)*r,g.y+=(u-g.y)*r;if(q){hf(b=s.geom.quadtree(E),e,h);for(c=-1;++c<v;)(g=E[c]).fixed||b.visit(a(g))}for(c=-1;++c<v;)g=E[c],g.fixed?(g.x=g.px,g.y=g.py):(g.x-=(g.px-(g.px=g.x))*m,g.y-=(g.py-(g.py=g.y))*m);k.tick({type:"tick",alpha:e})},g.nodes=function(a){return arguments.length?(E=a,g):E},g.links=function(a){return arguments.length?(t=a,g):t},g.size=function(a){return arguments.length?(l=a,g):l},g.linkDistance=
function(a){return arguments.length?(n="function"==typeof a?a:+a,g):n},g.distance=g.linkDistance,g.linkStrength=function(a){return arguments.length?(p="function"==typeof a?a:+a,g):p},g.friction=function(a){return arguments.length?(m=+a,g):m},g.charge=function(a){return arguments.length?(q="function"==typeof a?a:+a,g):q},g.chargeDistance=function(a){return arguments.length?(r=a*a,g):Math.sqrt(r)},g.gravity=function(a){return arguments.length?(D=+a,g):D},g.theta=function(a){return arguments.length?
(w=a*a,g):Math.sqrt(w)},g.alpha=function(a){return arguments.length?(a=+a,e?e=0<a?a:0:0<a&&(k.start({type:"start",alpha:e=a}),s.timer(g.tick)),g):e},g.start=function(){function a(e,f){if(!c){c=Array(k);for(g=0;k>g;++g)c[g]=[];for(g=0;l>g;++g){var d=t[g];c[d.source.index].push(d.target);c[d.target.index].push(d.source)}}for(var h=c[b],g=-1,l=h.length;++g<l;)if(!isNaN(d=h[g][e]))return d;return Math.random()*f}var b,c,e,k=E.length,m=t.length,r=l[0],D=l[1];for(b=0;k>b;++b)(e=E[b]).index=b,e.weight=0;
for(b=0;m>b;++b)e=t[b],"number"==typeof e.source&&(e.source=E[e.source]),"number"==typeof e.target&&(e.target=E[e.target]),++e.source.weight,++e.target.weight;for(b=0;k>b;++b)e=E[b],isNaN(e.x)&&(e.x=a("x",r)),isNaN(e.y)&&(e.y=a("y",D)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(f=[],"function"==typeof n)for(b=0;m>b;++b)f[b]=+n.call(this,t[b],b);else for(b=0;m>b;++b)f[b]=n;if(d=[],"function"==typeof p)for(b=0;m>b;++b)d[b]=+p.call(this,t[b],b);else for(b=0;m>b;++b)d[b]=p;if(h=[],"function"==
typeof q)for(b=0;k>b;++b)h[b]=+q.call(this,E[b],b);else for(b=0;k>b;++b)h[b]=q;return g.resume()},g.resume=function(){return g.alpha(0.1)},g.stop=function(){return g.alpha(0)},g.drag=function(){return c||(c=s.behavior.drag().origin(pa).on("dragstart.force",hh).on("drag.force",b).on("dragend.force",ih)),arguments.length?(this.on("mouseover.force",jh).on("mouseout.force",kh).call(c),void 0):c},s.rebind(g,k,"on")};var fi=20,gi=1,hi=1/0;s.layout.hierarchy=function(){function a(b,h,g){var k=f.call(c,b,
h);if(b.depth=h,g.push(b),k&&(l=k.length)){for(var l,m=-1,n=b.children=Array(l),p=0,q=h+1;++m<l;)h=n[m]=a(k[m],q,g),h.parent=b,p+=h.value;e&&n.sort(e);d&&(b.value=p)}else delete b.children,d&&(b.value=+d.call(c,b,h)||0);return b}function b(a,e){var f=a.children,h=0;if(f&&(g=f.length))for(var g,k=-1,l=e+1;++k<g;)h+=b(f[k],l);else d&&(h=+d.call(c,a,e)||0);return d&&(a.value=h),h}function c(b){var e=[];return a(b,0,e),e}var e=oh,f=mh,d=nh;return c.sort=function(a){return arguments.length?(e=a,c):e},
c.children=function(a){return arguments.length?(f=a,c):f},c.value=function(a){return arguments.length?(d=a,c):d},c.revalue=function(a){return b(a,0),a},c};s.layout.partition=function(){function a(b,c,e,f){var d=b.children;if(b.x=c,b.y=b.depth*f,b.dx=e,b.dy=f,d&&(h=d.length)){var h,g,k=-1;for(e=b.value?e/b.value:0;++k<h;)a(g=d[k],c,b=g.value*e,f),c+=b}}function b(a){a=a.children;var c=0;if(a&&(e=a.length))for(var e,f=-1;++f<e;)c=Math.max(c,b(a[f]));return 1+c}function c(d,h){var g=e.call(this,d,h);
return a(g[0],0,f[0],f[1]/b(g[0])),g}var e=s.layout.hierarchy(),f=[1,1];return c.size=function(a){return arguments.length?(f=a,c):f},Lb(c,e)};s.layout.pie=function(){function a(d){var h=d.map(function(c,e){return+b.call(a,c,e)}),g=+("function"==typeof e?e.apply(this,arguments):e),k=(("function"==typeof f?f.apply(this,arguments):f)-g)/s.sum(h),l=s.range(d.length);null!=c&&l.sort(c===cg?function(a,b){return h[b]-h[a]}:function(a,b){return c(d[a],d[b])});var m=[];return l.forEach(function(a){var b;m[a]=
{data:d[a],value:b=h[a],startAngle:g,endAngle:g+=b*k}}),m}var b=Number,c=cg,e=0,f=Ba;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(e=b,a):e},a.endAngle=function(b){return arguments.length?(f=b,a):f},a};var cg={};s.layout.stack=function(){function a(g,k){var l=g.map(function(c,e){return b.call(a,c,e)}),m=l.map(function(b){return b.map(function(b,c){return[d.call(a,b,c),h.call(a,b,
c)]})}),n=c.call(a,m,k),l=s.permute(l,n),m=s.permute(m,n),p,q,r=e.call(a,m,k),D=l.length,w=l[0].length;for(p=0;w>p;++p){f.call(a,l[0][p],q=r[p],m[0][p][1]);for(n=1;D>n;++n)f.call(a,l[n][p],q+=m[n-1][p][1],m[n][p][1])}return g}var b=pa,c=sd,e=td,f=rh,d=ph,h=qh;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:ii.get(b)||sd,a):c},a.offset=function(b){return arguments.length?(e="function"==typeof b?b:ji.get(b)||td,a):
e},a.x=function(b){return arguments.length?(d=b,a):d},a.y=function(b){return arguments.length?(h=b,a):h},a.out=function(b){return arguments.length?(f=b,a):f},a};var ii=s.map({"inside-out":function(a){var b,c=a.length,e=a.map(sh),f=a.map(th),d=s.range(c).sort(function(a,b){return e[a]-e[b]}),h=0,g=0,k=[],l=[];for(a=0;c>a;++a)b=d[a],g>h?(h+=f[b],k.push(b)):(g+=f[b],l.push(b));return l.reverse().concat(k)},reverse:function(a){return s.range(a.length).reverse()},"default":sd}),ji=s.map({silhouette:function(a){var b,
c,e,f=a.length,d=a[0].length,h=[],g=0,k=[];for(c=0;d>c;++c){for(e=b=0;f>b;b++)e+=a[b][c][1];e>g&&(g=e);h.push(e)}for(c=0;d>c;++c)k[c]=(g-h[c])/2;return k},wiggle:function(a){var b,c,e,f,d,h,g,k,l,m=a.length,n=a[0],p=n.length,q=[];q[0]=k=l=0;for(c=1;p>c;++c){for(f=b=0;m>b;++b)f+=a[b][c][1];d=b=0;for(g=n[c][0]-n[c-1][0];m>b;++b){e=0;for(h=(a[b][c][1]-a[b][c-1][1])/(2*g);b>e;++e)h+=(a[e][c][1]-a[e][c-1][1])/g;d+=h*a[b][c][1]}q[c]=k-=f?d/f*g:0;l>k&&(l=k)}for(c=0;p>c;++c)q[c]-=l;return q},expand:function(a){var b,
c,e,f=a.length,d=a[0].length,h=1/f,g=[];for(c=0;d>c;++c){for(e=b=0;f>b;b++)e+=a[b][c][1];if(e)for(b=0;f>b;b++)a[b][c][1]/=e;else for(b=0;f>b;b++)a[b][c][1]=h}for(c=0;d>c;++c)g[c]=0;return g},zero:td});s.layout.histogram=function(){function a(d,h){var g,k,l=[],m=d.map(c,this),n=e.call(this,m,h),p=f.call(this,n,m,h);h=-1;for(var q=m.length,r=p.length-1,D=b?1:1/q;++h<r;)g=l[h]=[],g.dx=p[h+1]-(g.x=p[h]),g.y=0;if(0<r)for(h=-1;++h<q;)k=m[h],k>=n[0]&&k<=n[1]&&(g=l[s.bisect(p,k,1,r)-1],g.y+=D,g.push(d[h]));
return l}var b=!0,c=Number,e=wh,f=vh;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(e=fa(b),a):e},a.bins=function(b){return arguments.length?(f="number"==typeof b?function(a){return jf(a,b)}:fa(b),a):f},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a};s.layout.tree=function(){function a(d,h){function g(a,b){var e=a.children,f=a._tree;if(e&&(d=e.length)){for(var d,h,k,l=e[0],m=l,n=-1;++n<d;){k=e[n];g(k,h);var p=k;if(h){for(var q=
void 0,r=p,D=p,w=p.parent.children[0],E=r._tree.mod,t=D._tree.mod,I=h._tree.mod,u=w._tree.mod;h=vd(h),r=ud(r),h&&r;){w=ud(w);D=vd(D);D._tree.ancestor=p;q=h._tree.prelim+I-r._tree.prelim-E+c(h,r);if(0<q){var v=h._tree.ancestor.parent==p.parent?h._tree.ancestor:m,s=p,B=q,v=v._tree,s=s._tree,A=B/(s.number-v.number);v.change+=A;s.change-=A;s.shift+=B;s.prelim+=B;s.mod+=B;E+=q;t+=q}I+=h._tree.mod;E+=r._tree.mod;u+=w._tree.mod;t+=D._tree.mod}h&&!vd(D)&&(D._tree.thread=h,D._tree.mod+=I-t);r&&!ud(w)&&(w._tree.thread=
r,w._tree.mod+=E-u,m=p)}h=k}n=d=0;p=a.children;for(m=p.length;0<=--m;)e=p[m]._tree,e.prelim+=d,e.mod+=d,d+=e.shift+(n+=e.change);k=0.5*(l._tree.prelim+k._tree.prelim);b?(f.prelim=b._tree.prelim+c(a,b),f.mod=f.prelim-k):f.prelim=k}else b&&(f.prelim=b._tree.prelim+c(a,b))}function k(a,b){a.x=a._tree.prelim+b;var c=a.children;if(c&&(e=c.length)){var e,f=-1;for(b+=a._tree.mod;++f<e;)k(c[f],b)}}var l=b.call(this,d,h),m=l[0];Ua(m,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?
b._tree.number+1:0}});g(m);k(m,-m._tree.prelim);var n=pc(m,yh),p=pc(m,xh),q=pc(m,zh),r=n.x-c(n,p)/2,D=p.x+c(p,n)/2,w=q.depth||1;return Ua(m,f?function(a){a.x*=e[0];a.y=a.depth*e[1];delete a._tree}:function(a){a.x=(a.x-r)/(D-r)*e[0];a.y=a.depth/w*e[1];delete a._tree}),l}var b=s.layout.hierarchy().sort(null).value(null),c=kf,e=[1,1],f=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(f=null==(e=b),a):f?null:e},a.nodeSize=function(b){return arguments.length?
(f=null!=(e=b),a):f?e:null},Lb(a,b)};s.layout.pack=function(){function a(d,h){var g=c.call(this,d,h),k=g[0],l=f[0],m=f[1],n=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(k.x=k.y=0,Ua(k,function(a){a.r=+n(a.value)}),Ua(k,nf),e){var p=e*(b?1:Math.max(2*k.r/l,2*k.r/m))/2;Ua(k,function(a){a.r+=p});Ua(k,nf);Ua(k,function(a){a.r-=p})}return pf(k,l/2,m/2,b?1:1/Math.max(2*k.r/l,2*k.r/m)),g}var b,c=s.layout.hierarchy().sort(Ah),e=0,f=[1,1];return a.size=function(b){return arguments.length?
(f=b,a):f},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(e=+b,a):e},Lb(a,c)};s.layout.cluster=function(){function a(d,h){var g,k=b.call(this,d,h),l=k[0],m=0;Ua(l,function(a){var b=a.children;b&&b.length?(a.x=Eh(b),a.y=Dh(b)):(a.x=g?m+=c(a,g):0,a.y=0,g=a)});var n=qf(l),p=rf(l),q=n.x-c(n,p)/2,r=p.x+c(p,n)/2;return Ua(l,f?function(a){a.x=(a.x-l.x)*e[0];a.y=(l.y-a.y)*e[1]}:function(a){a.x=(a.x-q)/(r-q)*e[0];a.y=
(1-(l.y?a.y/l.y:1))*e[1]}),k}var b=s.layout.hierarchy().sort(null).value(null),c=kf,e=[1,1],f=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(f=null==(e=b),a):f?null:e},a.nodeSize=function(b){return arguments.length?(f=null!=(e=b),a):f?e:null},Lb(a,b)};s.layout.treemap=function(){function a(b,c){for(var e,f,d=-1,h=b.length;++d<h;)f=(e=b[d]).value*(0>c?0:c),e.area=isNaN(f)||0>=f?0:f}function b(c){var f=c.children;if(f&&f.length){var d,
h=m(c),g=[],k=f.slice(),l=1/0,n="slice"===p?h.dx:"dice"===p?h.dy:"slice-dice"===p?1&c.depth?h.dy:h.dx:Math.min(h.dx,h.dy);a(k,h.dx*h.dy/c.value);for(g.area=0;0<(c=k.length);){g.push(c=k[c-1]);g.area+=c.area;var r;if(!(r="squarify"!==p)){c=n;d=void 0;var D=g.area;r=0;for(var w=1/0,E=-1,t=g.length;++E<t;)(d=g[E].area)&&(w>d&&(w=d),d>r&&(r=d));r=(d=(D*=D,c*=c,D?Math.max(c*r*q/D,D/(c*w*q)):1/0))<=l}r?(k.pop(),l=d):(g.area-=g.pop().area,e(g,n,h,!1),n=Math.min(h.dx,h.dy),g.length=g.area=0,l=1/0)}g.length&&
(e(g,n,h,!0),g.length=g.area=0);f.forEach(b)}}function c(b){var f=b.children;if(f&&f.length){var d=m(b),h=f.slice(),g=[];a(h,d.dx*d.dy/b.value);for(g.area=0;b=h.pop();)g.push(b),g.area+=b.area,null!=b.z&&(e(g,b.z?d.dx:d.dy,d,!h.length),g.length=g.area=0);f.forEach(c)}}function e(a,b,c,f){var d,h=-1,k=a.length,l=c.x,m=c.y,n=b?g(a.area/b):0;if(b==c.dx){for((f||n>c.dy)&&(n=c.dy);++h<k;)d=a[h],d.x=l,d.y=m,d.dy=n,l+=d.dx=Math.min(c.x+c.dx-l,n?g(d.area/n):0);d.z=!0;d.dx+=c.x+c.dx-l;c.y+=n;c.dy-=n}else{for((f||
n>c.dx)&&(n=c.dx);++h<k;)d=a[h],d.x=l,d.y=m,d.dx=n,m+=d.dy=Math.min(c.y+c.dy-m,n?g(d.area/n):0);d.z=!1;d.dy+=c.y+c.dy-m;c.x+=n;c.dx-=n}}function f(e){e=d||h(e);var g=e[0];return g.x=0,g.y=0,g.dx=k[0],g.dy=k[1],d&&h.revalue(g),a([g],g.dx*g.dy/g.value),(d?c:b)(g),n&&(d=e),e}var d,h=s.layout.hierarchy(),g=Math.round,k=[1,1],l=null,m=xd,n=!1,p="squarify",q=0.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(k=a,f):k},f.padding=function(a){function b(c){var e=a.call(f,c,c.depth);return null==
e?xd(c):sf(c,"number"==typeof e?[e,e,e,e]:e)}function c(b){return sf(b,a)}if(!arguments.length)return l;var e;return m=null==(l=a)?xd:"function"==(e=typeof a)?b:"number"===e?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(g=a?Math.round:Number,f):g!=Number},f.sticky=function(a){return arguments.length?(n=a,d=null,f):n},f.ratio=function(a){return arguments.length?(q=a,f):q},f.mode=function(a){return arguments.length?(p=a+"",f):p},Lb(f,h)};s.random={normal:function(a,b){var c=arguments.length;
return 2>c&&(b=1),1>c&&(a=0),function(){var c,e;do c=2*Math.random()-1,e=2*Math.random()-1,e=c*c+e*e;while(!e||1<e);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=s.random.normal.apply(s,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=s.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}};s.scale={};var Gh={floor:pa,ceil:pa};s.scale.linear=function(){return uf([0,
1],[0,1],jb,!1)};var Jh={s:1,g:1,p:1,r:1,e:1};s.scale.log=function(){return vf(s.scale.linear().domain([0,1]),10,!0,[1,10])};var wf=s.format(".0e"),Kh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};s.scale.pow=function(){return xf(s.scale.linear(),1,[0,1])};s.scale.sqrt=function(){return s.scale.pow().exponent(0.5)};s.scale.ordinal=function(){return yf([],{t:"range",a:[[]]})};s.scale.category10=function(){return s.scale.ordinal().range(ki)};s.scale.category20=function(){return s.scale.ordinal().range(li)};
s.scale.category20b=function(){return s.scale.ordinal().range(mi)};s.scale.category20c=function(){return s.scale.ordinal().range(ni)};var ki=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Qb),li=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Qb),mi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,
12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Qb),ni=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Qb);s.scale.quantile=function(){return zf([],[])};s.scale.quantize=function(){return Af(0,1,[0,1])};s.scale.threshold=function(){return Bf([0.5],[0,1])};s.scale.identity=function(){return Cf([0,1])};s.svg={};s.svg.arc=
function(){function a(){var d=b.apply(this,arguments),h=c.apply(this,arguments),g=e.apply(this,arguments)+kb,k=f.apply(this,arguments)+kb,l=(g>k&&(l=g,g=k,k=l),k-g),m=S>l?"0":"1",n=Math.cos(g),g=Math.sin(g),p=Math.cos(k),k=Math.sin(k);return l>=oi?d?"M0,"+h+"A"+h+","+h+" 0 1,1 0,"+-h+"A"+h+","+h+" 0 1,1 0,"+h+"M0,"+d+"A"+d+","+d+" 0 1,0 0,"+-d+"A"+d+","+d+" 0 1,0 0,"+d+"Z":"M0,"+h+"A"+h+","+h+" 0 1,1 0,"+-h+"A"+h+","+h+" 0 1,1 0,"+h+"Z":d?"M"+h*n+","+h*g+"A"+h+","+h+" 0 "+m+",1 "+h*p+","+h*k+"L"+
d*p+","+d*k+"A"+d+","+d+" 0 "+m+",0 "+d*n+","+d*g+"Z":"M"+h*n+","+h*g+"A"+h+","+h+" 0 "+m+",1 "+h*p+","+h*k+"L0,0Z"}var b=Lh,c=Mh,e=Df,f=Ef;return a.innerRadius=function(c){return arguments.length?(b=fa(c),a):b},a.outerRadius=function(b){return arguments.length?(c=fa(b),a):c},a.startAngle=function(b){return arguments.length?(e=fa(b),a):e},a.endAngle=function(b){return arguments.length?(f=fa(b),a):f},a.centroid=function(){var a=(b.apply(this,arguments)+c.apply(this,arguments))/2,d=(e.apply(this,arguments)+
f.apply(this,arguments))/2+kb;return[Math.cos(d)*a,Math.sin(d)*a]},a};var kb=-va,oi=Ba-N;s.svg.line=function(){return Ff(pa)};var Bd=s.map({linear:Ca,"linear-closed":function(a){return Ca(a)+"Z"},step:function(a){for(var b=0,c=a.length,e=a[0],f=[e[0],",",e[1]];++b<c;)f.push("H",(e[0]+(e=a[b])[0])/2,"V",e[1]);return 1<c&&f.push("H",e[0]),f.join("")},"step-before":Cd,"step-after":Dd,basis:Gf,"basis-open":function(a){if(4>a.length)return Ca(a);for(var b,c=[],e=-1,f=a.length,d=[0],h=[0];3>++e;)b=a[e],
d.push(b[0]),h.push(b[1]);c.push(Fa(cb,d)+","+Fa(cb,h));for(--e;++e<f;)b=a[e],d.shift(),d.push(b[0]),h.shift(),h.push(b[1]),Fd(c,d,h);return c.join("")},"basis-closed":function(a){for(var b,c,e=-1,f=a.length,d=f+4,h=[],g=[];4>++e;)c=a[e%f],h.push(c[0]),g.push(c[1]);b=[Fa(cb,h),",",Fa(cb,g)];for(--e;++e<d;)c=a[e%f],h.shift(),h.push(c[0]),g.shift(),g.push(c[1]),Fd(b,h,g);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var e,f,d=a[0][0],h=a[0][1],g=a[c][0]-d,k=a[c][1]-h,l=-1;++l<=c;)e=
a[l],f=l/c,e[0]=b*e[0]+(1-b)*(d+f*g),e[1]=b*e[1]+(1-b)*(h+f*k);return Gf(a)},cardinal:function(a,b){return 3>a.length?Ca(a):a[0]+tc(a,Ed(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ca(a):a[1]+tc(a.slice(1,a.length-1),Ed(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Ca(a):a[0]+tc((a.push(a[0]),a),Ed([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Ca(a);else{var b=a[0],c,e,f,d,h=[],g;c=0;g=a.length-1;for(var k=[],l=a[1],m=k[0]=Gd(a[0],l);++c<g;)k[c]=
(m+(m=Gd(l,l=a[c+1])))/2;g=(k[c]=m,k);k=-1;for(l=a.length-1;++k<l;)c=Gd(a[k],a[k+1]),W(c)<N?g[k]=g[k+1]=0:(e=g[k]/c,f=g[k+1]/c,d=e*e+f*f,9<d&&(d=3*c/Math.sqrt(d),g[k]=d*e,g[k+1]=d*f));for(k=-1;++k<=l;)d=(a[Math.min(l,k+1)][0]-a[Math.max(0,k-1)][0])/(6*(1+g[k]*g[k])),h.push([d||0,g[k]*d||0]);a=b+tc(a,h)}return a}});Bd.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var Hf=[0,2/3,1/3,0],If=[0,1/3,2/3,0],cb=[0,1/6,2/3,1/6];s.svg.line.radial=function(){var a=Ff(Jf);return a.radius=a.x,delete a.x,
a.angle=a.y,delete a.y,a};Cd.reverse=Dd;Dd.reverse=Cd;s.svg.area=function(){return Kf(pa)};s.svg.area.radial=function(){var a=Kf(Jf);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};s.svg.chord=function(){function a(f,d){var h=b(this,c,f,d),g=b(this,e,f,d);return"M"+h.p0+("A"+h.r+","+h.r+" 0 "+ +(h.a1-h.a0>S)+",1 "+h.p1)+(h.a0==g.a0&&h.a1==g.a1?"Q 0,0 "+h.p0:"Q 0,0 "+g.p0+
("A"+g.r+","+g.r+" 0 "+ +(g.a1-g.a0>S)+",1 "+g.p1)+("Q 0,0 "+h.p0))+"Z"}function b(a,c,e,g){var k=c.call(a,e,g);c=f.call(a,k,g);e=d.call(a,k,g)+kb;a=h.call(a,k,g)+kb;return{r:c,a0:e,a1:a,p0:[c*Math.cos(e),c*Math.sin(e)],p1:[c*Math.cos(a),c*Math.sin(a)]}}var c=id,e=jd,f=Nh,d=Df,h=Ef;return a.radius=function(b){return arguments.length?(f=fa(b),a):f},a.source=function(b){return arguments.length?(c=fa(b),a):c},a.target=function(b){return arguments.length?(e=fa(b),a):e},a.startAngle=function(b){return arguments.length?
(d=fa(b),a):d},a.endAngle=function(b){return arguments.length?(h=fa(b),a):h},a};s.svg.diagonal=function(){function a(f,d){var h=b.call(this,f,d),g=c.call(this,f,d),k=(h.y+g.y)/2,h=[h,{x:h.x,y:k},{x:g.x,y:k},g];return h=h.map(e),"M"+h[0]+"C"+h[1]+" "+h[2]+" "+h[3]}var b=id,c=jd,e=Lf;return a.source=function(c){return arguments.length?(b=fa(c),a):b},a.target=function(b){return arguments.length?(c=fa(b),a):c},a.projection=function(b){return arguments.length?(e=b,a):e},a};s.svg.diagonal.radial=function(){var a=
s.svg.diagonal(),b=Lf,c=a.projection;return a.projection=function(a){return arguments.length?c(Oh(b=a)):b},a};s.svg.symbol=function(){function a(e,f){return(dg.get(b.call(this,e,f))||Mf)(c.call(this,e,f))}var b=Qh,c=Ph;return a.type=function(c){return arguments.length?(b=fa(c),a):b},a.size=function(b){return arguments.length?(c=fa(b),a):c},a};var dg=s.map({circle:Mf,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+
-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*eg));var b=a*eg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/Lc);var b=a*Lc/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Lc);var b=a*Lc/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});s.svg.symbolTypes=dg.keys();var mb,xc,Lc=Math.sqrt(3),eg=Math.tan(30*U),oa=[],Tf=0;oa.call=
ba.call;oa.empty=ba.empty;oa.node=ba.node;oa.size=ba.size;s.transition=function(a){return arguments.length?mb?a.transition():a:Sf.transition()};s.transition.prototype=oa;oa.select=function(a){var b,c,e,f=this.id,d=[];a=z(a);for(var h=-1,g=this.length;++h<g;){d.push(b=[]);for(var k=this[h],l=-1,m=k.length;++l<m;)(e=k[l])&&(c=a.call(e,e.__data__,l,h))?("__data__"in e&&(c.__data__=e.__data__),uc(c,l,f,e.__transition__[f]),b.push(c)):b.push(null)}return Mb(d,f)};oa.selectAll=function(a){var b,c,e,f,d=
this.id,h=[];a=H(a);for(var g=-1,k=this.length;++g<k;)for(var l=this[g],m=-1,n=l.length;++m<n;)if(b=l[m]){f=b.__transition__[d];c=a.call(b,b.__data__,m,g);h.push(b=[]);for(var p=-1,q=c.length;++p<q;)(e=c[p])&&uc(e,p,d,f),b.push(e)}return Mb(h,d)};oa.filter=function(a){var b,c,e,f=[];"function"!=typeof a&&(a=J(a));for(var d=0,h=this.length;h>d;d++){f.push(b=[]);c=this[d];for(var g=0,k=c.length;k>g;g++)(e=c[g])&&a.call(e,e.__data__,g,d)&&b.push(e)}return Mb(f,this.id)};oa.tween=function(a,b){var c=
this.id;return 2>arguments.length?this.node().__transition__[c].tween.get(a):R(this,null==b?function(b){b.__transition__[c].tween.remove(a)}:function(e){e.__transition__[c].tween.set(a,b)})};oa.attr=function(a,b){function c(){this.removeAttribute(g)}function e(){this.removeAttributeNS(g.space,g.local)}function f(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(g);return c!==a&&(b=h(c,a),function(a){this.setAttribute(g,b(a))})})}function d(a){return null==a?e:(a+="",function(){var b,
c=this.getAttributeNS(g.space,g.local);return c!==a&&(b=h(c,a),function(a){this.setAttributeNS(g.space,g.local,b(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var h="transform"==a?ff:jb,g=s.ns.qualify(a);return Hd(this,"attr."+a,b,g.local?d:f)};oa.attrTween=function(a,b){function c(a,e){var d=b.call(this,a,e,this.getAttribute(f));return d&&function(a){this.setAttribute(f,d(a))}}function e(a,c){var d=b.call(this,a,c,this.getAttributeNS(f.space,f.local));return d&&function(a){this.setAttributeNS(f.space,
f.local,d(a))}}var f=s.ns.qualify(a);return this.tween("attr."+a,f.local?e:c)};oa.style=function(a,b,c){function e(){this.style.removeProperty(a)}var f=arguments.length;if(3>f){if("string"!=typeof a){2>f&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return Hd(this,"style."+a,b,function(b){return null==b?e:(b+="",function(){var e,f=sa.getComputedStyle(this,null).getPropertyValue(a);return f!==b&&(e=jb(f,b),function(b){this.style.setProperty(a,e(b),c)})})})};oa.styleTween=function(a,b,c){return 3>
arguments.length&&(c=""),this.tween("style."+a,function(e,f){var d=b.call(this,e,f,sa.getComputedStyle(this,null).getPropertyValue(a));return d&&function(b){this.style.setProperty(a,d(b),c)}})};oa.text=function(a){return Hd(this,"text",a,Rh)};oa.remove=function(){return this.each("end.transition",function(){var a;2>this.__transition__.count&&(a=this.parentNode)&&a.removeChild(this)})};oa.ease=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].ease:("function"!=typeof a&&
(a=s.ease.apply(s,arguments)),R(this,function(c){c.__transition__[b].ease=a}))};oa.delay=function(a){var b=this.id;return R(this,"function"==typeof a?function(c,e,f){c.__transition__[b].delay=+a.call(c,c.__data__,e,f)}:(a=+a,function(c){c.__transition__[b].delay=a}))};oa.duration=function(a){var b=this.id;return R(this,"function"==typeof a?function(c,e,f){c.__transition__[b].duration=Math.max(1,a.call(c,c.__data__,e,f))}:(a=Math.max(1,a),function(c){c.__transition__[b].duration=a}))};oa.each=function(a,
b){var c=this.id;if(2>arguments.length){var e=xc,f=mb;mb=c;R(this,function(b,e,f){xc=b.__transition__[c];a.call(b,b.__data__,e,f)});xc=e;mb=f}else R(this,function(e){e=e.__transition__[c];(e.event||(e.event=s.dispatch("start","end"))).on(a,b)});return this};oa.transition=function(){for(var a,b,c,e,f=this.id,d=++Tf,h=[],g=0,k=this.length;k>g;g++){h.push(a=[]);b=this[g];for(var l=0,m=b.length;m>l;l++)(c=b[l])&&(e=Object.create(c.__transition__[f]),e.delay+=e.duration,uc(c,l,d,e)),a.push(c)}return Mb(h,
d)};s.svg.axis=function(){function a(l){l.each(function(){var a,l=s.select(this),m=this.__chart__||c,n=this.__chart__=c.copy(),p=null==k?n.ticks?n.ticks.apply(n,g):n.domain():k,q=null==b?n.tickFormat?n.tickFormat.apply(n,g):pa:b,r=l.selectAll(".tick").data(p,n),p=r.enter().insert("g",".domain").attr("class","tick").style("opacity",N),D=s.transition(r.exit()).style("opacity",N).remove(),w=s.transition(r).style("opacity",1),E=qc(n),l=l.selectAll(".domain").data([0]),l=(l.enter().append("path").attr("class",
"domain"),s.transition(l));p.append("line");p.append("text");var t=p.select("line"),u=w.select("line"),q=r.select("text").text(q),r=p.select("text"),v=w.select("text");switch(e){case "bottom":a=Nf;t.attr("y2",f);r.attr("y",Math.max(f,0)+h);u.attr("x2",0).attr("y2",f);v.attr("x",0).attr("y",Math.max(f,0)+h);q.attr("dy",".71em").style("text-anchor","middle");l.attr("d","M"+E[0]+","+d+"V0H"+E[1]+"V"+d);break;case "top":a=Nf;t.attr("y2",-f);r.attr("y",-(Math.max(f,0)+h));u.attr("x2",0).attr("y2",-f);
v.attr("x",0).attr("y",-(Math.max(f,0)+h));q.attr("dy","0em").style("text-anchor","middle");l.attr("d","M"+E[0]+","+-d+"V0H"+E[1]+"V"+-d);break;case "left":a=Of;t.attr("x2",-f);r.attr("x",-(Math.max(f,0)+h));u.attr("x2",-f).attr("y2",0);v.attr("x",-(Math.max(f,0)+h)).attr("y",0);q.attr("dy",".32em").style("text-anchor","end");l.attr("d","M"+-d+","+E[0]+"H0V"+E[1]+"H"+-d);break;case "right":a=Of,t.attr("x2",f),r.attr("x",Math.max(f,0)+h),u.attr("x2",f).attr("y2",0),v.attr("x",Math.max(f,0)+h).attr("y",
0),q.attr("dy",".32em").style("text-anchor","start"),l.attr("d","M"+d+","+E[0]+"H0V"+E[1]+"H"+d)}if(n.rangeBand)var B=n,A=B.rangeBand()/2,m=n=function(a){return B(a)+A};else m.rangeBand?m=n:D.call(a,n);p.call(a,m);w.call(a,n)})}var b,c=s.scale.linear(),e=fg,f=6,d=6,h=3,g=[10],k=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(e=b in pi?b+"":fg,a):e},a.ticks=function(){return arguments.length?(g=arguments,a):g},a.tickValues=function(b){return arguments.length?
(k=b,a):k},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(f=+b,d=+arguments[c-1],a):f},a.innerTickSize=function(b){return arguments.length?(f=+b,a):f},a.outerTickSize=function(b){return arguments.length?(d=+b,a):d},a.tickPadding=function(b){return arguments.length?(h=+b,a):h},a.tickSubdivide=function(){return arguments.length&&a},a};var fg="bottom",pi={top:1,right:1,bottom:1,left:1};s.svg.brush=function(){function a(d){d.each(function(){var d=
s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),h=d.selectAll(".background").data([0]);h.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");d.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var g=d.selectAll(".resize").data(D,pa);g.exit().remove();g.enter().append("g").attr("class",function(a){return"resize "+
a}).style("cursor",function(a){return qi[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");g.style("display",a.empty()?"none":null);var m,d=s.transition(d),h=s.transition(h);k&&(m=qc(k),h.attr("x",m[0]).attr("width",m[1]-m[0]),c(d));l&&(m=qc(l),h.attr("y",m[0]).attr("height",m[1]-m[0]),e(d));b(d)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+
m[+/e$/.test(a)]+","+n[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",m[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",m[1]-m[0])}function e(a){a.select(".extent").attr("y",n[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",n[1]-n[0])}function f(){function D(){var a=s.mouse(v),f=!1;u&&(a[0]+=u[0],a[1]+=u[1]);J||(s.event.altKey?(t||(t=[(m[0]+m[1])/2,(n[0]+n[1])/2]),x[0]=m[+(a[0]<t[0])],x[1]=n[+(a[1]<t[1])]):t=null);K&&w(a,k,0)&&(c(z),f=!0);H&&w(a,l,1)&&(e(z),f=!0);
f&&(b(z),A({type:"brush",mode:J?"move":"resize"}))}function w(a,b,c){var e,f,g=qc(b);b=g[0];var g=g[1],k=x[c],l=c?n:m,r=l[1]-l[0];return J&&(b-=k,g-=r+k),e=(c?q:p)?Math.max(b,Math.min(g,a[c])):a[c],J?f=(e+=k)+r:(t&&(k=Math.max(b,Math.min(g,2*t[c]-e))),e>k?(f=e,e=k):f=k),l[0]!=e||l[1]!=f?(c?h=null:d=null,l[0]=e,l[1]=f,!0):void 0}function E(){D();z.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);s.select("body").style("cursor",null);La.on("mousemove.brush",
null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);y();A({type:"brushend"})}var t,u,v=this,B=s.select(s.event.target),A=g.of(v,arguments),z=s.select(v),F=B.datum(),K=!/^(n|s)$/.test(F)&&k,H=!/^(e|w)$/.test(F)&&l,J=B.classed("extent"),y=ea(),x=s.mouse(v),La=s.select(sa).on("keydown.brush",function(){32==s.event.keyCode&&(J||(t=null,x[0]-=m[1],x[1]-=n[1],J=2),r())}).on("keyup.brush",function(){32==s.event.keyCode&&2==J&&
(x[0]+=m[1],x[1]+=n[1],J=0,r())});if(s.event.changedTouches?La.on("touchmove.brush",D).on("touchend.brush",E):La.on("mousemove.brush",D).on("mouseup.brush",E),z.interrupt().selectAll("*").interrupt(),J)x[0]=m[0]-x[0],x[1]=n[0]-x[1];else if(F){var R=+/w$/.test(F),F=+/^n/.test(F);u=[m[1-R]-x[0],n[1-F]-x[1]];x[0]=m[R];x[1]=n[F]}else s.event.altKey&&(t=x.slice());z.style("pointer-events","none").selectAll(".resize").style("display",null);s.select("body").style("cursor",B.style("cursor"));A({type:"brushstart"});
D()}var d,h,g=u(a,"brushstart","brush","brushend"),k=null,l=null,m=[0,0],n=[0,0],p=!0,q=!0,D=Pd[0];return a.event=function(a){a.each(function(){var a=g.of(this,arguments),b={x:m,y:n,i:d,j:h},c=this.__chart__||b;this.__chart__=b;mb?s.select(this).transition().each("start.brush",function(){d=c.i;h=c.j;m=c.x;n=c.y;a({type:"brushstart"})}).tween("brush:brush",function(){var c=oc(m,b.x),e=oc(n,b.y);return d=h=null,function(f){m=b.x=c(f);n=b.y=e(f);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){d=
b.i;h=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(k=b,D=Pd[!k<<1|!l],a):k},a.y=function(b){return arguments.length?(l=b,D=Pd[!k<<1|!l],a):l},a.clamp=function(b){return arguments.length?(k&&l?(p=!!b[0],q=!!b[1]):k?p=!!b:l&&(q=!!b),a):k&&l?[p,q]:k?p:l?q:null},a.extent=function(b){var c,e,f,g,p;return arguments.length?(k&&(c=b[0],e=b[1],l&&(c=c[0],e=e[0]),d=[c,e],k.invert&&
(c=k(c),e=k(e)),c>e&&(p=c,c=e,e=p),(c!=m[0]||e!=m[1])&&(m=[c,e])),l&&(f=b[0],g=b[1],k&&(f=f[1],g=g[1]),h=[f,g],l.invert&&(f=l(f),g=l(g)),f>g&&(p=f,f=g,g=p),(f!=n[0]||g!=n[1])&&(n=[f,g])),a):(k&&(d?(c=d[0],e=d[1]):(c=m[0],e=m[1],k.invert&&(c=k.invert(c),e=k.invert(e)),c>e&&(p=c,c=e,e=p))),l&&(h?(f=h[0],g=h[1]):(f=n[0],g=n[1],l.invert&&(f=l.invert(f),g=l.invert(g)),f>g&&(p=f,f=g,g=p))),k&&l?[[c,f],[e,g]]:k?[c,e]:l&&[f,g])},a.clear=function(){return a.empty()||(m=[0,0],n=[0,0],d=h=null),a},a.empty=function(){return!!k&&
m[0]==m[1]||!!l&&n[0]==n[1]},s.rebind(a,g,"on")};var qi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pd=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],Qd=O.format=Vf.timeFormat,gg=Qd.utc,hg=gg("%Y-%m-%dT%H:%M:%S.%LZ");Qd.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Id:hg;Id.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Id.toString=hg.toString;O.second=eb(function(a){return new ua(1E3*
Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});O.seconds=O.second.range;O.seconds.utc=O.second.utc.range;O.minute=eb(function(a){return new ua(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});O.minutes=O.minute.range;O.minutes.utc=O.minute.utc.range;O.hour=eb(function(a){var b=a.getTimezoneOffset()/60;return new ua(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+
36E5*Math.floor(b))},function(a){return a.getHours()});O.hours=O.hour.range;O.hours.utc=O.hour.utc.range;O.month=eb(function(a){return a=O.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});O.months=O.month.range;O.months.utc=O.month.utc.range;var vc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Rd=[[O.second,1],[O.second,5],[O.second,15],[O.second,30],[O.minute,1],[O.minute,5],[O.minute,15],[O.minute,
30],[O.hour,1],[O.hour,3],[O.hour,6],[O.hour,12],[O.day,1],[O.day,2],[O.week,1],[O.month,1],[O.month,3],[O.year,1]],ri=Qd.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",qb]]),Sh={range:function(a,b,c){return s.range(Math.ceil(a/
c)*c,+b,c).map(lb)},floor:pa,ceil:pa};Rd.year=O.year;O.scale=function(){return Jd(s.scale.linear(),Rd,ri)};var ig=Rd.map(function(a){return[a[0].utc,a[1]]}),si=gg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],
["%Y",qb]]);ig.year=O.year.utc;O.scale.utc=function(){return Jd(s.scale.linear(),ig,si)};s.text=Xc(function(a){return a.responseText});s.json=function(a,b){return Sb(a,"application/json",Th,b)};s.html=function(a,b){return Sb(a,"text/html",Uh,b)};s.xml=Xc(function(a){return a.responseXML});"function"==typeof define&&define.amd?define(s):"object"==typeof module&&module.exports?module.exports=s:this.d3=s}();"use strict";
tv.exportTo("tv.ui",function(){function d(a,b){var d=tv.ui.getStringColorId(a);b&&(d+=c);return tv.ui.getColorPalette()[d]}var a=document.currentScript.ownerDocument,c=tv.ui.getColorPaletteHighlightIdBoost(),b=tv.ui.define("svg",void 0,"http://www.w3.org/2000/svg");b.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.classList.add("chart-base");this.seriesKeys_=this.data_=this.chartTitle_=void 0;this.width_=400;this.height_=300;for(var b=a.querySelector("#chart-base-template").content.querySelector("svg"),
c=0;c<b.children.length;c++)this.appendChild(b.children[c].cloneNode(!0));Object.defineProperty(this,"width",{get:function(){return this.width_},set:function(a){this.width_=a;this.updateContents_()}});Object.defineProperty(this,"height",{get:function(){return this.height_},set:function(a){this.height_=a;this.updateContents_()}})},get chartTitle(){return chartTitle_},set chartTitle(a){this.chartTitle_=a;this.updateContents_()},get chartAreaElement(){return this.querySelector("#chart-area")},get data(){return this.data_},
setSize:function(a){this.width_=a.width;this.height_=a.height;this.updateContents_()},get margin(){var a={top:20,right:20,bottom:30,left:50};this.chartTitle_&&(a.top+=20);return a},get chartAreaSize(){var a=this.margin;return{width:this.width_-a.left-a.right,height:this.height_-a.top-a.bottom}},getLegendKeys_:function(){throw Error("Not implemented");},updateScales_:function(a,b){throw Error("Not implemented");},updateContents_:function(){var a=this.margin,b=this.chartAreaSize.width,c=this.chartAreaSize.height,
d=d3.select(this);d.attr("width",this.width_);d.attr("height",this.height_);d=d3.select(this.chartAreaElement);d.attr("transform","translate("+a.left+","+a.top+")");this.updateScales_(b,c);if(this.xScale_&&this.yScale_){var a=d3.svg.axis().scale(this.xScale_).orient("bottom"),k=d3.svg.axis().scale(this.yScale_).orient("left");d.select(".x.axis").attr("transform","translate(0,"+c+")").call(a);d.select(".y.axis").call(k)}c=d.select("#title");this.chartTitle_?c.attr("transform","translate("+0.5*b+",-5)").style("display",
void 0).style("text-anchor","middle").attr("class","title").attr("width",b).text(this.chartTitle_):c.style("display","none");this.updateLegend_()},updateLegend_:function(){var a=this.getLegendKeys_();if(void 0!==a){var b=d3.select(this.chartAreaElement),c=this.chartAreaSize,a=b.selectAll(".legend").data(a.slice().reverse());a.enter().append("g").attr("class","legend").attr("transform",function(a,b){return"translate(0,"+20*b+")"}).append("text").text(function(a){return a});a.exit().remove();a.attr("x",
c.width-18).attr("width",18).attr("height",18).style("fill",function(a){return d(a,this.currentHighlightedLegendKey===a)}.bind(this));a.selectAll("text").attr("x",c.width-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(a){return a})}},get highlightedLegendKey(){return this.highlightedLegendKey_},set highlightedLegendKey(a){this.highlightedLegendKey_=a;this.updateHighlight_()},get currentHighlightedLegendKey(){return this.tempHighlightedLegendKey_?this.tempHighlightedLegendKey_:
this.highlightedLegendKey_},pushTempHighlightedLegendKey:function(a){if(this.tempHighlightedLegendKey_)throw Error("push cannot nest");this.tempHighlightedLegendKey_=a;this.updateHighlight_()},popTempHighlightedLegendKey:function(a){if(this.tempHighlightedLegendKey_!=a)throw Error("pop cannot happen");this.tempHighlightedLegendKey_=void 0;this.updateHighlight_()},updateHighlight_:function(){var a=this;d3.select(this.chartAreaElement).selectAll(".legend").each(function(b){var c=b==a.currentHighlightedLegendKey;
b=d(b,c);this.style.fill=b;this.style.fontWeight=c?"bold":""})}};return{getColorOfKey:d,ChartBase:b}});"use strict";
tv.exportTo("tv.ui",function(){var d=tv.ui.ChartBase,a=tv.ui.getColorOfKey,c=tv.ui.define("pie-chart",d);c.prototype={__proto__:d.prototype,decorate:function(){d.prototype.decorate.call(this);this.classList.add("pie-chart");this.seriesKeys_=this.data_=void 0;var a=d3.select(this.chartAreaElement).append("g").attr("class","pie-group");this.pieGroup_=a.node();this.pathsGroup_=a.append("g").attr("class","paths").node();this.labelsGroup_=a.append("g").attr("class","labels").node();this.linesGroup_=a.append("g").attr("class",
"lines").node()},get data(){return this.data_},set data(a){if(void 0!==a){var c=[],e={};a.forEach(function(a){a=a.label;if(e[a])throw Error("Label "+a+" has been used already");c.push(a);e[a]=!0},this);this.seriesKeys_=c}else this.seriesKeys_=void 0;this.data_=a;this.updateContents_()},get margin(){var a={top:0,right:0,bottom:0,left:0};this.chartTitle_&&(a.top+=40);return a},getMinSize:function(){if(!tv.ui.isElementAttachedToDocument(this))throw Error("Cannot measure when unattached");this.updateContents_();
var a=d3.select(this.labelsGroup_).selectAll(".label"),c=-Number.MAX_VALUE,e=0,d=0;a.each(function(a){a=this.getBoundingClientRect();c=Math.max(c,a.width+32);"end"==this.style.textAnchor?e+=a.height:d+=a.height});var a=this.querySelector("#title").getBoundingClientRect().width,g=this.margin,k=g.left+g.right,g=g.top+g.bottom;return{width:Math.max(200+2*c,1.1*a)+k,height:g+1.25*Math.max(200,e,d)}},getLegendKeys_:function(){},updateScales_:function(a,c){},updateContents_:function(){d.prototype.updateContents_.call(this);
if(this.data_){var b=this.chartAreaSize.width,c=this.chartAreaSize.height,e=Math.max(100,Math.min(b,0.95*c)/2);d3.select(this.pieGroup_).attr("transform","translate("+b/2+","+c/2+")");var b=d3.layout.pie().value(function(a){return a.value}).sort(null),c=d3.select(this.pathsGroup_).datum(this.data_).selectAll("path").data(b),h=d3.svg.arc().innerRadius(0).outerRadius(e-30),g=d3.svg.arc().innerRadius(e-100).outerRadius(e-30),k=d3.svg.arc().innerRadius(e-50).outerRadius(e-50),l=d3.svg.arc().innerRadius(e).outerRadius(e);
c.enter().append("path").attr("class","arc").attr("fill",function(b,c){var e=this.data_[c];return a(e.label,e.label===this.currentHighlightedLegendKey)}.bind(this)).attr("d",h).on("click",function(a,b){var c=this.data_[b],e=new Event("item-click");e.data=c;e.index=b;this.dispatchEvent(e);d3.event.stopPropagation()}.bind(this)).on("mouseenter",function(a,b){this.pushTempHighlightedLegendKey(this.data_[b].label)}.bind(this)).on("mouseleave",function(a,b){this.popTempHighlightedLegendKey(this.data_[b].label)}.bind(this));
c.enter().append("text").attr("class","arc-text").attr("transform",function(a){return"translate("+g.centroid(a)+")"}).attr("dy",".35em").style("text-anchor","middle").text(function(a,b){var c=this.data_[b];return void 0===c.valueText||0.4>a.endAngle-a.startAngle?"":c.valueText}.bind(this));c.exit().remove();c=d3.select(this.labelsGroup_).selectAll(".label").data(b(this.data_));c.enter().append("text").attr("class","label").attr("dy",".35em");c.text(function(a){return 40<a.data.label.length?a.data.label.substr(0,
40)+"...":a.data.label});c.attr("transform",function(a){var b=l.centroid(a);b[0]=e*(a.startAngle+(a.endAngle-a.startAngle)/2<Math.PI?1:-1);return"translate("+b+")"});c.style("text-anchor",function(a){return a.startAngle+(a.endAngle-a.startAngle)/2<Math.PI?"start":"end"});b=d3.select(this.linesGroup_).selectAll(".line").data(b(this.data_));b.enter().append("polyline").attr("class","line").attr("dy",".35em");b.attr("points",function(a){var b=l.centroid(a);b[0]=0.95*e*(a.startAngle+(a.endAngle-a.startAngle)/
2<Math.PI?1:-1);return[k.centroid(a),l.centroid(a),b]})}},updateHighlight_:function(){d.prototype.updateHighlight_.call(this);var b=this;d3.select(this.pathsGroup_).selectAll(".arc").each(function(c,e){var d=b.data_[e],d=a(d.label,d.label==b.currentHighlightedLegendKey);this.style.fill=d})}};return{PieChart:c}});"use strict";
tv.exportTo("tv.ui",function(){var d=tv.ui.ChartBase,a=tv.ui.getColorOfKey,c=tv.ui.define("sunburst-chart",d);c.prototype={__proto__:d.prototype,decorate:function(){d.prototype.decorate.call(this);this.classList.add("sunburst-chart");this.seriesKeys_=this.data_=void 0;this.yDomainMax_=this.yDomainMin_=0;this.arc_=this.radius_=this.yDomainScale_=this.xDomainScale_=void 0;this.selectedNode_=null;this.nodes_=this.vis_=void 0;this.minX_=0;this.maxX_=1;this.clickedY_=this.minY_=0;var a=d3.select(this.chartAreaElement);
this.legendSel_=a.append("g");a=a.append("g").attr("class","pie-group");this.pieGroup_=a.node();this.backSel_=a.append("g");this.pathsGroup_=a.append("g").attr("class","paths").node()},get data(){return this.data_},set data(a){this.data_=a;this.updateContents_()},get margin(){var a={top:0,right:0,bottom:0,left:0};this.chartTitle_&&(a.top+=40);return a},set selectedNodeID(a){this.zoomToID_(a)},get selectedNodeID(){return null!=this.selectedNode_?this.selectedNode_.id:null},get selectedNode(){return null!=
this.selectedNode_?this.selectedNode_:null},getMinSize:function(){if(!tv.ui.isElementAttachedToDocument(this))throw Error("Cannot measure when unattached");this.updateContents_();this.querySelector("#title").getBoundingClientRect();return{width:600,height:600}},getLegendKeys_:function(){},updateScales_:function(a,c){},arcTween_:function(a,c,e){var d=this,g,k,l;0<e?(g=d3.interpolate(d.xDomainScale_.domain(),[a,c]),k=d3.interpolate(d.yDomainScale_.domain(),[e,d.yDomainMax_])):(g=d3.interpolate(d.xDomainScale_.domain(),
[a,c]),k=d3.interpolate(d.yDomainScale_.domain(),[d.yDomainMin_,d.yDomainMax_]));l=d3.interpolate(d.yDomainScale_.range(),[50,d.radius_]);return function(a,b){return b?function(b){return d.arc_(a)}:function(b){d.xDomainScale_.domain(g(b));d.yDomainScale_.domain(k(b)).range(l(b));return d.arc_(a)}}},getNodeById_:function(a){return!this.nodes_||0>a||a>this.nodes_.length?null:this.nodes_[a]},zoomOut_:function(){window.history.back()},zoomToDepth:function(a){for(var c=this.data_.nodes;c.depth!==a;){if(1!==
c.children.length)throw Error("zoomToDepth requires the tree to be linear till the specified depth.");c=c.children[0]}return this.zoomToID_(c.id)},zoomToID_:function(a){(a=this.getNodeById_(a))?(this.clickedY_=a.y,this.minX_=a.x,this.maxX_=a.x+a.dx,this.minY_=a.y):(this.clickedY_=-1,this.minX_=0,this.maxX_=1,this.minY_=0);this.selectedNode_=a;this.redrawSegments_(this.minX_,this.maxX_,this.minY_);this.vis_.selectAll("path").transition().duration(750).attrTween("d",this.arcTween_(this.minX_,this.maxX_,
this.minY_));this.showBreadcrumbs_(a);var c=new Event("node-selected");c.node=a;this.dispatchEvent(c)},click_:function(a){if(d3.event.shiftKey){var c=0.5*(this.maxX_-this.minX_);this.minX_=a.x+0.5*a.dx-0.5*c;this.minX_=0>this.minX_?0:this.minX_;this.maxX_=this.minX_+c;this.maxX_=1<this.maxX_?1:this.maxX_;this.minX_=this.maxX_-c;this.selectedNode_=a;this.redrawSegments_(this.minX_,this.maxX_,this.minY_);this.vis_.selectAll("path").transition().duration(750).attrTween("d",this.arcTween_(this.minX_,
this.maxX_,this.minY_))}else this.selectedNodeID=a.id,c=new Event("node-clicked"),c.node=a,this.dispatchEvent(c)},getAncestors_:function(a){for(var c=[];a.parent;)c.unshift(a),a=a.parent;return c},showBreadcrumbs_:function(a){var c=this.getAncestors_(a);this.vis_.selectAll("path").style("opacity",function(a){return 0<=c.indexOf(a)?0.7:1});var e=new Event("node-highlighted");e.node=a;this.dispatchEvent(e)},mouseOver_:function(a){this.showBreadcrumbs_(a)},mouseLeave_:function(a){var c=this;null!=c.selectedNode_?
c.showBreadcrumbs_(c.selectedNode_):(c.vis_.selectAll("path").on("mouseover",null),c.vis_.selectAll("path").transition().duration(300).style("opacity",1).each("end",function(){d3.select(c).on("mouseover",function(a){c.mouseOver_(a)})}))},redrawSegments_:function(b,c,e){var d=this,g=c-b,k=d.nodes_.filter(function(a){return a.depth&&a.y>=e&&a.x<c&&a.x+a.dx>b&&0.001<a.dx/g}),k=d.vis_.data([d.data_.nodes]).selectAll("path").data(k,function(a){return a.id});k.enter().insert("svg:path").attr("d",d.arc_).attr("fill-rule",
"evenodd").style("fill",function(b){return a(b.category)}).style("opacity",1).on("mouseover",function(a){d.mouseOver_(a)}).on("click",function(a){d.click_(a)});k.exit().remove();return k},updateContents_:function(){d.prototype.updateContents_.call(this);if(this.data_){var b=this,c=d3.layout.partition().size([1,1]).value(function(a){return a.size});b.nodes_=c.nodes(b.data_.nodes);var e={};b.nodes_.forEach(function(a,b){a.id=b;e[a.category]=null});c=b.legendSel_.append("svg:svg").attr("width",85).attr("height",
23*d3.keys(e).length).selectAll("g").data(d3.keys(e)).enter().append("svg:g").attr("transform",function(a,b){return"translate(0,"+23*b+")"});c.append("svg:rect").attr("rx",3).attr("ry",3).attr("width",85).attr("height",20).style("fill",function(b){return a(b)});c.append("svg:text").attr("x",42.5).attr("y",10).attr("dy","0.35em").attr("text-anchor","middle").attr("fill","#fff").attr("font-size","12px").text(function(a){return a});var c=b.chartAreaSize.width,h=b.chartAreaSize.height;b.radius_=Math.max(100,
Math.min(c,h)/2);d3.select(b.pieGroup_).attr("transform","translate("+c/2+","+h/2+")");b.selectedNode_=null;c=1+d3.max(b.nodes_,function(a){return a.depth});b.yDomainMin_=1/c;b.yDomainMax_=Math.min(Math.max(c,20),50)/c;b.xDomainScale_=d3.scale.linear().range([0,2*Math.PI]);b.yDomainScale_=d3.scale.sqrt().domain([b.yDomainMin_,b.yDomainMax_]).range([50,b.radius_]);b.arc_=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,b.xDomainScale_(a.x)))}).endAngle(function(a){return Math.max(0,
Math.min(2*Math.PI,b.xDomainScale_(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,b.yDomainScale_(a.y))}).outerRadius(function(a){return Math.max(0,b.yDomainScale_(a.y+a.dy))});b.backSel_.append("svg:circle").attr("r",b.radius_).style("opacity",0).on("click",function(){b.zoomOut_()});b.vis_=d3.select(b.pathsGroup_);b.selectedNodeID=0;b.vis_.on("mouseleave",function(a){b.mouseLeave_(a)})}},updateHighlight_:function(){d.prototype.updateHighlight_.call(this);var b=this;d3.select(this.pathsGroup_).selectAll(".arc").each(function(c,
e){var d=b.data_[e],g=d.label==b.currentHighlightedLegendKey;a(d.label,g);this.style.fill=a(d.label,g)})}};return{SunburstChart:c}});"use strict";
tv.exportTo("tracing",function(){function d(a,b){var c={category:a.category,name:a.name,leaf_node_id:a.leaf_node_id};if(b||0<a.children.length){c.children=[];for(var e=0;e<a.children.length;e++)c.children.push(d(a.children[e],!1));0<a.selfTime&&(c.children.push({name:"<self>",category:c.category,size:a.selfTime,leaf_node_id:a.leaf_node_id}),delete c.leaf_node_id)}else c.size=a.selfTime;return b?c.children:c}function a(a,b){for(var c={},e=a.getEventsOrganizedByType().samples,f=0;f<e.length;f++){var g=
e[f];if(g.title==b){var r=g.thread,t=void 0;r.tid in c?t=c[r.tid]:(t=new h(r),c[r.tid]=t);t.addSample(g)}}var e={name:"<All Threads>",category:"root",children:[]},u;for(u in c)c.hasOwnProperty(u)&&(f=c[u],f={name:"Thread "+f.thread.tid+": "+f.thread.name,category:"Thread",children:d(f.rootNode,!0)},e.children.push(f));return e}var c=document.currentScript.ownerDocument,b=tracing.RequestSelectionChangeEvent,f=tv.ui.getColorOfKey,e=function(a,b){this.parent=void 0;this.name=a;this.category=b;this.selfTime=
0;this.children=[];this.leaf_node_id=void 0};e.prototype={addChild:function(a){this.children.push(a);a.parent=this}};var h=function(a){this.thread=a;this.rootNode=new e("root","root");this.rootCategories={};this.sfToNode={};this.sfToNode[0]=self.rootNode};h.prototype={getCallTreeNode:function(a){if(a.id in this.sfToNode)return this.sfToNode[a.id];var b=new e(a.title,a.category);this.sfToNode[a.id]=b;if(a.parentFrame)this.getCallTreeNode(a.parentFrame).addChild(b);else{var c=this.rootCategories[a.category];
c||(c=new e(a.category,a.category),this.rootNode.addChild(c),this.rootCategories[a.category]=c);c.addChild(b)}return b},addSample:function(a){var b=this.getCallTreeNode(a.leafStackFrame);b.leaf_node_id=a.leafStackFrame.id;b.selfTime+=a.weight}};var g=tv.ui.define("x-sample-summary-panel",tracing.TimelineViewSidePanel);g.textLabel="Sampling Summary";g.supportsModel=function(a){return void 0==a?{supported:!1,reason:"Unknown tracing model"}:0==a.samples.length?{supported:!1,reason:"No sampling data in trace"}:
{supported:!0}};g.prototype={__proto__:tracing.TimelineViewSidePanel.prototype,decorate:function(){tracing.TimelineViewSidePanel.prototype.decorate.call(this);this.classList.add("x-sample-summary-panel");this.appendChild(tv.instantiateTemplate("#x-sample-summary-panel-template",c));this.selection_=this.chart_=this.sampleTypeSelector_=this.sampleType_=void 0},get selection(){return this.selection_},set selection(a){this.selection_=a;for(var b={},c=0;c<a.length;++c){var e=a[c],f=e.leafStackFrame.id;
b[f]||(b[f]=new tracing.Selection);b[f].push(e)}this.stackFrameIdToSamples_=b;this.updateContents_()},get sampleType(){return this.sampleType_},set sampleType(a){this.sampleType_=a;this.sampleTypeSelector_&&(this.sampleTypeSelector_.selectedValue=a);this.updateResultArea_()},updateCallees_:function(a){var b=document.createElement("table"),c=document.createElement("col"),e=document.createElement("col");c.className+="x-col-numeric";e.className+="x-col-numeric";b.appendChild(c);b.appendChild(e);c=b.createTHead().insertRow(0);
c.style.backgroundColor="#888";c.insertCell(0).appendChild(document.createTextNode("Samples"));c.insertCell(1).appendChild(document.createTextNode("Percent"));c.insertCell(2).appendChild(document.createTextNode("Symbol"));c=b.createTBody();if(a.children)for(e=0;e<a.children.length;e++){var d=a.children[e],h=c.insertRow(e),g=f(d.category);void 0==g&&(g="#444444");h.style.backgroundColor=g;var g=h.insertCell(0),t=h.insertCell(1),h=h.insertCell(2);g.className+="x-td-numeric";t.className+="x-td-numeric";
g.appendChild(document.createTextNode(d.value.toString()));t.appendChild(document.createTextNode((100*d.value/a.value).toFixed(2)+"%"));h.appendChild(document.createTextNode(d.name))}tv.ui.SortableTable.decorate(b);a=this.querySelector("x-callees");a.textContent="";a.appendChild(b)},updateHighlight_:function(a){var b=100;null!=this.chart_.selectedNode&&(b=100*a.value/this.chart_.selectedNode.value);this.querySelector("x-explanation").innerHTML=a.value+"<br>"+b.toFixed(2)+"%";var b=document.createElement("table"),
c=b.createTHead(),e=b.createTBody(),c=c.insertRow(0);c.style.backgroundColor="#888";c.insertCell(0).appendChild(document.createTextNode("Call Stack"));for(c=[];a&&a.id;)c.push(a),a=a.parent;for(a=0;a<c.length;a++){var d=e.insertRow(a),h=f(c[a].category);void 0==h&&(h="#444444");d.style.backgroundColor=h;0==a&&(d.style.fontWeight="bold");d.insertCell(0).appendChild(document.createTextNode(c[a].name))}e=this.querySelector("x-sequence");e.textContent="";e.appendChild(b)},getSamplesFromNode_:function(a){var b=
new tracing.Selection;if(void 0!==a.leaf_node_id)b.addSelection(this.stackFrameIdToSamples_[a.leaf_node_id]);else{if(void 0===a.children||0===a.children.length)throw Error("A node should either have samples, or children");for(var c=0;c<a.children.length;++c)b.addSelection(this.getSamplesFromNode_(a.children[c]))}return b},updateResultArea_:function(){if(void 0!==this.selection_){var c=this.querySelector("result-area");this.chart_=void 0;c.textContent="";var e=a(this.selection_,this.sampleType_);this.chart_=
new tv.ui.SunburstChart;this.chart_.width=600;this.chart_.height=600;this.chart_.chartTitle="Sampling Summary";this.chart_.addEventListener("node-selected",function(a){this.updateCallees_(a.node)}.bind(this));this.chart_.addEventListener("node-clicked",function(a){var c=new b,e=a.node.depth;"<self>"===a.node.name&&e--;c.selection=this.getSamplesFromNode_(a.node);c.selection.sunburst_zoom_level=e;this.dispatchEvent(c)}.bind(this));this.chart_.addEventListener("node-highlighted",function(a){this.updateHighlight_(a.node)}.bind(this));
this.chart_.data={nodes:e};c.appendChild(this.chart_);this.chart_.setSize(this.chart_.getMinSize());void 0!==this.selection_.sunburst_zoom_level&&this.chart_.zoomToDepth(this.selection_.sunburst_zoom_level)}},updateContents_:function(){if(!(void 0===this.selection_||0==this.selection_.length)){var a,b={};a=this.selection_.getEventsOrganizedByType().samples;for(var c=0;c<a.length;c++)b[a[c].title]=null;a=Object.keys(b);-1==a.indexOf(this.sampleType_)&&(this.sampleType_=a[0]);b=[];for(c=0;c<a.length;c++)b.push({label:a[c],
value:a[c]});a=this.querySelector("x-toolbar");this.sampleTypeSelector_=tv.ui.createSelector(this,"sampleType","samplingSummaryPanel.sampleType",this.sampleType_,b);a.textContent="Sample Type: ";a.appendChild(this.sampleTypeSelector_)}}};return{SamplingSummaryPanel:g,createSunburstData:a}});"use strict";
tv.onPolymerReady(function(){tracing.registerAnalysisSubViewType(0,function(d){return 1!=d.length?!1:d[0]instanceof tracing.trace_model.Sample},SingleSampleAnalysisSubView);tracing.registerAnalysisSubViewType(0,function(d){return 1==d.length?!1:d[0]instanceof tracing.trace_model.Sample},MultipleSamplesAnalysisSubView)});
Polymer("single-sample-analysis-sub-view",{created:function(){this.currentSelection_=void 0},set selection(d){this.currentSelection_=d;this.textContent="";if(0!==d.length){var a=new tracing.analysis.AnalysisResults;this.appendChild(a);this.analyzeSingleSampleEvent_(a,d[0],"Sample Event")}},get selection(){return this.currentSelection_},analyzeSingleSampleEvent_:function(d,a,c){d.appendHeader("Selected "+c+":");c=d.appendTable("analysis-slice-table",2);d.appendInfoRow(c,"Title",a.title);d.appendInfoRowTime(c,
"Sample Time",a.start);d.appendInfoRow(c,"Stack Trace",a.getUserFriendlyStackTrace())}});"use strict";
Polymer("multiple-samples-analysis-sub-view",{created:function(){this.currentSelection_=void 0},set selection(d){this.currentSelection_=d;this.textContent="";if(0!==d.length){var a=new tracing.analysis.AnalysisResults;this.appendChild(a);this.analyzeMultipleSampleEvents_(a,d)}},get selection(){return this.currentSelection_},analyzeMultipleSampleEvents_:function(d,a){var c=new tracing.SamplingSummaryPanel;d.appendChild(c);c.selection=a}});"use strict";
tv.exportTo("tracing.analysis",function(){var d=tv.ui.define("view-base");d.prototype={__proto__:HTMLDivElement.prototype,decorate:function(){},get requiresTallView(){throw Error("Not implemented");},set modelEvent(a){throw Error("Not implemented");},get modelEvent(){throw Error("Not implemented");}};d.decorateSubtype=function(a,c){if(void 0!==a.register)throw Error("Already decorated: "+a);var b=c||{};a.typeNameToViewInfoMap={};a.register=function(c,e,d){if(a.typeNameToViewInfoMap[c])throw Error("Handler already registered for "+
c);a.typeNameToViewInfoMap[c]={constructor:e,options:d||b}};a.unregister=function(b){if(void 0===a.typeNameToViewInfoMap[b])throw Error(b+" not registered");delete a.typeNameToViewInfoMap[b]};a.getViewInfo=function(b){return a.typeNameToViewInfoMap[b]}};return{ViewBase:d}});"use strict";
tv.exportTo("tracing.analysis",function(){var d=tv.ui.define("object-instance-view",tracing.analysis.ViewBase);d.prototype={__proto__:tracing.analysis.ViewBase.prototype,decorate:function(){tracing.analysis.ViewBase.prototype.decorate.call(this);this.objectInstance_=void 0},get requiresTallView(){return!0},set modelEvent(a){this.objectInstance=a},get modelEvent(){return this.objectInstance},get objectInstance(){return this.objectInstance_},set objectInstance(a){this.objectInstance_=a;this.updateContents()},
updateContents:function(){throw Error("Not implemented");}};tracing.analysis.ViewBase.decorateSubtype(d,{showInTrackView:!0});return{ObjectInstanceView:d}});"use strict";
tv.exportTo("tracing.analysis",function(){var d=tv.ui.define("object-snapshot-view",tracing.analysis.ViewBase);d.prototype={__proto__:tracing.analysis.ViewBase.prototype,decorate:function(){tracing.analysis.ViewBase.prototype.decorate.call(this);this.objectSnapshot_=void 0},get requiresTallView(){return!0},set modelEvent(a){this.objectSnapshot=a},get modelEvent(){return this.objectSnapshot},get objectSnapshot(){return this.objectSnapshot_},set objectSnapshot(a){this.objectSnapshot_=a;this.updateContents()},
updateContents:function(){throw Error("Not implemented");}};tracing.analysis.ViewBase.decorateSubtype(d,{showInTrackView:!0,showInstances:!0});return{ObjectSnapshotView:d}});"use strict";
tv.exportTo("tracing.analysis",function(){var d=tracing.analysis.tsRound,a=tv.ui.define("default-object-snapshot-view",tracing.analysis.ObjectSnapshotView);a.prototype={__proto__:tracing.analysis.ObjectSnapshotView.prototype,decorate:function(){tracing.analysis.ObjectSnapshotView.prototype.decorate.apply(this);this.classList.add("default-object-view");this.classList.add("default-object-snapshot-view")},updateContents:function(){var a=this.objectSnapshot;if(a){var c=a.objectInstance,e;e=""+('<div class="title">Snapshot of <a id="instance-link"></a> @ '+
d(a.ts)+"ms</div>\n");e+="<table><tr>";e+='<tr><td>args:</td><td id="args"></td></tr>\n';this.innerHTML=e+="</table>";e=new tracing.analysis.ObjectInstanceLink;e.objectInstance=c;c=this.querySelector("#instance-link");c.parentElement.replaceChild(e,c);c=this.querySelector("#args");c.textContent="";e=tracing.analysis.GenericObjectView();e.object=a.args;c.appendChild(e)}else this.textContent=""}};var c=tv.ui.define("default-object-instance-view",tracing.analysis.ObjectInstanceView);c.prototype={__proto__:tracing.analysis.ObjectInstanceView.prototype,
decorate:function(){tracing.analysis.ObjectInstanceView.prototype.decorate.apply(this);this.classList.add("default-object-view");this.classList.add("default-object-instance-view")},updateContents:function(){var a=this.objectInstance;if(a){var c;c=""+('<div class="title">'+a.typeName+" "+a.id+"</div>\n");c+="<table><tr>";c+="<tr><td>creationTs:</td><td>"+a.creationTs+"</td></tr>\n";c=a.deletionTs!=Number.MAX_VALUE?c+("<tr><td>deletionTs:</td><td>"+a.deletionTs+"</td></tr>\n"):c+"<tr><td>deletionTs:</td><td>not deleted</td></tr>\n";
c+='<tr><td>snapshots:</td><td id="snapshots"></td></tr>\n';this.innerHTML=c+="</table>";var e=this.querySelector("#snapshots");a.snapshots.forEach(function(a){var b=new tracing.analysis.ObjectSnapshotLink;b.objectSnapshot=a;e.appendChild(b)})}else this.textContent=""}};return{DefaultObjectSnapshotView:a,DefaultObjectInstanceView:c}});"use strict";
tv.exportTo("tracing.analysis",function(){var d=tv.ui.define("slice-view",tracing.analysis.ViewBase);d.prototype={__proto__:tracing.analysis.ViewBase.prototype,decorate:function(){tracing.analysis.ViewBase.prototype.decorate.call(this);this.objectInstance_=void 0},get requiresTallView(){return!1},set modelEvent(a){this.slice=a},get modelEvent(){return this.slice},get slice(){return this.slice_},set slice(a){this.slice_=a;this.updateContents()},updateContents:function(){throw Error("Not implemented");
}};tracing.analysis.ViewBase.decorateSubtype(d,{});return{SliceView:d}});"use strict";
Polymer("tracing-analysis-tab-view",{get selectedTab(){if(this.selectedTab_)return this.selectedTab_.content},set selectedTab(d){if(d){this.childrenUpdated_(this.childrenObserver_.takeRecords(),this.childrenObserver_);for(var a=void 0,c=0;c<this.tabs_.length;c++)if(this.tabs_[c].content===d){a=this.tabs_[c].id;break}void 0===a?console.warn("Tab not in tabs list. Ignoring changed selection."):(this.saveCurrentTabScrollPosition_(),this.clearSelectedTab_(),this.setSelectedTabById_(a),this.restoreCurrentTabScrollPosition_())}},
ready:function(){this.tabs_=[];this.selectedTab_=void 0;for(var d=0;d<this.children.length;d++)this.processAddedChild_(this.children[d]);this.childrenObserver_=new MutationObserver(this.childrenUpdated_.bind(this));this.childrenObserver_.observe(this,{childList:"true"})},processAddedChild_:function(d){var a=new MutationObserver(this.childAttributesChanged_.bind(this)),c=new MutationObserver(this.childAttributesChanged_.bind(this)),b={id:this.tabs_.length,content:d,label:d.getAttribute("tab-label"),
observers:{forAttributeSelected:a,forAttributeTabLabel:c},savedScrollTop:0,savedScrollLeft:0};this.tabs_.push(b);d.hasAttribute("selected")&&(this.selectedTab_?d.removeAttribute("selected"):this.setSelectedTabById_(b.id));var f=d.selected,e=this;Object.defineProperty(d,"selected",{configurable:!0,set:function(a){a?(e.saveCurrentTabScrollPosition_(),e.clearSelectedTab_(),e.setSelectedTabById_(b.id),e.restoreCurrentTabScrollPosition_()):e.selectedTab_===b&&(e.saveCurrentTabScrollPosition_(),e.clearSelectedTab_())},
get:function(){return this.hasAttribute("selected")}});f&&(d.selected=f);a.observe(d,{attributeFilter:["selected"]});c.observe(d,{attributeFilter:["tab-label"]})},processRemovedChild_:function(d){for(var a=0;a<this.tabs_.length;a++)this.tabs_[a].id=a,this.tabs_[a].content===d&&(this.tabs_[a].observers.forAttributeSelected.disconnect(),this.tabs_[a].observers.forAttributeTabLabel.disconnect(),this.tabs_[a]===this.selectedTab_&&this.clearSelectedTab_(),d.removeAttribute("selected"),delete d.selected,
this.tabs_.splice(a,1),a--)},childAttributesChanged_:function(d,a){for(var c=void 0,b=0;b<this.tabs_.length;b++){var f=this.tabs_[b].observers;if(f.forAttributeSelected===a||f.forAttributeTabLabel===a){c=this.tabs_[b];break}}if(c)for(b=0;b<d.length;b++)f=c.content,"tab-label"===d[b].attributeName&&(c.label=f.getAttribute("tab-label")),"selected"===d[b].attributeName&&(f=f.hasAttribute("selected"),this.saveCurrentTabScrollPosition_(),this.clearSelectedTab_(),f&&(this.setSelectedTabById_(c.id),this.restoreCurrentTabScrollPosition_()))},
childrenUpdated_:function(d,a){d.forEach(function(a){for(var b=0;b<a.removedNodes.length;b++)this.processRemovedChild_(a.removedNodes[b]);for(b=0;b<a.addedNodes.length;b++)this.processAddedChild_(a.addedNodes[b])},this)},setSelectedTabById_:function(d){this.selectedTab_=this.tabs_[d];this.selectedTab_.observers.forAttributeSelected.disconnect();this.selectedTab_.content.setAttribute("selected","selected");this.selectedTab_.observers.forAttributeSelected.observe(this.selectedTab_.content,{attributeFilter:["selected"]})},
saveCurrentTabScrollPosition_:function(){this.selectedTab_&&(this.selectedTab_.savedScrollTop=this.$["content-container"].scrollTop,this.selectedTab_.savedScrollLeft=this.$["content-container"].scrollLeft)},restoreCurrentTabScrollPosition_:function(){this.selectedTab_&&(this.$["content-container"].scrollTop=this.selectedTab_.savedScrollTop,this.$["content-container"].scrollLeft=this.selectedTab_.savedScrollLeft)},clearSelectedTab_:function(){this.selectedTab_&&(this.selectedTab_.observers.forAttributeSelected.disconnect(),
this.selectedTab_.content.removeAttribute("selected"),this.selectedTab_.observers.forAttributeSelected.observe(this.selectedTab_.content,{attributeFilter:["selected"]}),this.selectedTab_=void 0)},tabButtonSelectHandler_:function(d,a,c){this.saveCurrentTabScrollPosition_();this.clearSelectedTab_();this.setSelectedTabById_(c.getAttribute("button-id"));this.restoreCurrentTabScrollPosition_()}});"use strict";
(function(){Polymer("tracing-analysis-view",{ready:function(){this.currentSelection_=this.currentView_=void 0},set tallMode(d){d?this.classList.add("tall-mode"):this.classList.remove("tall-mode")},get tallMode(){return this.classList.contains("tall-mode")},get currentView(){return this.currentView_},get selection(){return this.currentSelection_},set selection(d){this.processSelection_(d)},processSelection_:function(d){this.tallMode=!1;this.textContent="";d=d.getEventsOrganizedByType(!0);var a,c=!1;
1<tv.dictionaryLength(d)?(c=!0,a=new TracingAnalysisTabView,this.appendChild(a)):a=this;for(var b in d){var f=void 0,f=this.findSubViewForEventsOfSingleType_(d[b]);a.appendChild(f);if(f.__lookupSetter__("modelEvent")){if(1!=d[b].length)throw Error("modelEvent-configuration only supported with  selections of length=1");f.modelEvent=d[b][0]}else f.selection=d[b];this.tallMode=this.tallMode||f.requiresTallView;if(c){var e;e=b.replace(/[A-Z]/g," $&");e=e.charAt(0).toUpperCase()+e.slice(1);f.tabLabel=
e;f.hasAttribute("tab-label")||f.setAttribute("tab-label",e)}}c?(a.selectedTab=a.firstChild,this.currentView_=a):this.currentView_=this.firstChild},findSubViewForEventsOfSingleType_:function(d){var a=tracing.getAnalysisSubViewTypes().filter(function(a){return a.supportsSelectionPredicate(d)});if(0==a.length)throw Error("Received events that could not be analyzed!");a.sort(function(a,b){return b.importance-a.importance});a=a[0];return a.options.passSelectionToConstructor?new a.viewConstructor(d):new a.viewConstructor}})})();
"use strict";
tv.exportTo("tracing.analysis",function(){var d=document.currentScript.ownerDocument,a=tracing.analysis.tsRound,c=tv.ui.define("cpu-slice-view",tracing.analysis.SliceView);c.prototype={__proto__:tracing.analysis.SliceView.prototype,decorate:function(){tracing.analysis.SliceView.prototype.decorate.call(this);this.classList.add("cpu-slice-view")},updateContents:function(){this.textContent="";this.appendChild(tv.instantiateTemplate("#cpu-slice-view-template",d));var b=this.slice,c=b.threadThatWasRunning;c?
(this.querySelector("#process-name").textContent=c.parent.userFriendlyName,this.querySelector("#thread-name").textContent=c.userFriendlyName):(this.querySelector("#process-name").parentElement.style.display="none",this.querySelector("#thread-name").textContent=b.title);this.querySelector("#start").textContent=a(b.start)+"ms";this.querySelector("#duration").textContent=a(b.duration)+"ms";var c=this.querySelector("#running-thread"),e=b.getAssociatedTimeslice();e?(b=new tracing.analysis.AnalysisLink,
b.textContent="Click to select",b.selectionGenerator=function(){var a=new tracing.Selection;a.push(e);return a}.bind(this),c.appendChild(b)):c.parentElement.style.display="none"}};tracing.analysis.SliceView.register("tracing.analysis.CpuSlice",c);return{CpuSliceView:c}});"use strict";
tv.exportTo("tracing.analysis",function(){var d=document.currentScript.ownerDocument,a=tracing.analysis.tsRound,c=tv.ui.define("thread-time-slice-view",tracing.analysis.SliceView);c.prototype={__proto__:tracing.analysis.SliceView.prototype,decorate:function(){tracing.analysis.SliceView.prototype.decorate.call(this);this.classList.add("thread-time-slice-view")},updateContents:function(){this.textContent="";this.appendChild(tv.instantiateTemplate("#thread-time-slice-view-template",d));var b=this.slice,
c=b.thread;this.querySelector("#state").textContent=b.title;var e=tv.ui.getColorPalette()[b.colorId];this.querySelector("#state").style.backgroundColor=e;this.querySelector("#process-name").textContent=c.parent.userFriendlyName;this.querySelector("#thread-name").textContent=c.userFriendlyName;this.querySelector("#start").textContent=a(b.start)+"ms";this.querySelector("#duration").textContent=a(b.duration)+"ms";c=this.querySelector("#on-cpu");e=this.querySelector("#running-instead");if(b.cpuOnWhichThreadWasRunning){e.parentElement.removeChild(e);
var h=new tracing.analysis.AnalysisLink;h.textContent=b.cpuOnWhichThreadWasRunning.userFriendlyName;h.selectionGenerator=function(){var a=new tracing.Selection;a.push(b.getAssociatedCpuSlice());return a}.bind(this);c.appendChild(h)}else{c.parentElement.removeChild(c);var g=b.getCpuSliceThatTookCpu();g?(h=new tracing.analysis.AnalysisLink,h.textContent=g.thread?g.thread.userFriendlyName:g.title,h.selectionGenerator=function(){var a=new tracing.Selection;a.push(g);return a}.bind(this),e.appendChild(h)):
e.parentElement.removeChild(e)}c=this.querySelector("#args");0<tv.dictionaryKeys(b.args).length?(e=new tracing.analysis.GenericObjectView,e.object=b.args,c.appendChild(e)):c.parentElement.removeChild(c)}};tracing.analysis.SliceView.register("tracing.analysis.ThreadTimeSlice",c);return{ThreadTimeSliceView:c}});"use strict";
tv.exportTo("tracing",function(){function d(){this.model_=this.timeline_=void 0;this.filterText_="";this.filterHits_=new tracing.Selection;this.filterHitsDirty_=!0;this.currentHitIndex_=-1}d.prototype={__proto__:Object.prototype,get timeline(){return this.timeline_},set timeline(a){this.timeline_=a;this.filterHitsDirty_=!0},get filterText(){return this.filterText_},set filterText(a){a!=this.filterText_&&(this.filterText_=a,this.filterHitsDirty_=!0,this.timeline&&this.timeline.setHighlightAndClearSelection(this.filterHits))},
get filterHits(){if(this.filterHitsDirty_&&(this.filterHitsDirty_=!1,this.filterHits_=new tracing.Selection,this.currentHitIndex_=-1,this.timeline_&&this.filterText.length)){var a=new tracing.TitleFilter(this.filterText);this.timeline.addAllObjectsMatchingFilterToSelection(a,this.filterHits_)}return this.filterHits_},get currentHitIndex(){return this.currentHitIndex_},find_:function(a){-1===this.currentHitIndex_&&0>a&&(this.currentHitIndex_=0);var c=this.filterHits.length;this.currentHitIndex_=(this.currentHitIndex_+
a+c)%c;this.timeline&&(this.timeline.selection=this.filterHits.subSelection(this.currentHitIndex_,1))},findNext:function(){this.find_(1)},findPrevious:function(){this.find_(-1)},reset:function(){this.filterText_="";this.filterHitsDirty_=!0}};return{FindController:d}});"use strict";
tv.exportTo("tv",function(){function d(a){this.document_=a||document;if(d.instance)throw Error("KeyEventManager is a singleton.");this.onEvent_=this.onEvent_.bind(this);this.document_.addEventListener("keydown",this.onEvent_);this.document_.addEventListener("keypress",this.onEvent_);this.document_.addEventListener("keyup",this.onEvent_);this.listeners_=[]}d.instance=void 0;document.head.addEventListener("tv-unittest-will-run",function(){d.instance&&(d.instance.destroy(),d.instance=void 0);d.instance=
new d});d.prototype={addListener:function(a,c,b){b.keyEventManagerGuid_||(b.keyEventManagerGuid_=tv.GUID.allocate(),b.keyEventManagerRefCount_=0);b.classList.add("key-event-manager-target");b.keyEventManagerRefCount_++;this.listeners_.push({guid:b.keyEventManagerGuid_,type:a,handler:c})},onEvent_:function(a){var c=void 0,b=!1,f=a.preventDefault;a.preventDefault=function(){c=!1;f.call(this)};var e=a.stopPropagation;a.stopPropagation=function(){b=!0;e.call(this)};a.stopImmediatePropagation=function(){throw Error("Not implemented");
};for(var d=this.document_.querySelectorAll(".key-event-manager-target"),g={},k=0;k<d.length;k++)g[d[k].keyEventManagerGuid_]=d[k];for(var d=this.listeners_.concat(),l=a.type,m=0,k=0;k<d.length;k++){var n=d[k];if(n.type===l){var p=g[n.guid];if(p&&(n=n.handler,m=n.handleEvent?m|!1===n.handleEvent.call(n,a):m|!1===n.call(p,a),b))break}}return!m&&c},removeListener:function(a,c,b){if(void 0===b.keyEventManagerGuid_)throw Error("Was not registered with KeyEventManager");if(0===b.keyEventManagerRefCount_)throw Error("No events were registered on the provided thisArg");
for(var f=0;f<this.listeners_.length;f++){var e=this.listeners_[f];if(e.type==a&&e.handler==c&&e.guid==b.keyEventManagerGuid_){b.keyEventManagerRefCount_--;0===b.keyEventManagerRefCount_&&b.classList.remove("key-event-manager-target");this.listeners_.splice(f,1);return}}throw Error("Listener not found");},destroy:function(){this.listeners_.splice(0);this.document_.removeEventListener("keydown",this.onEvent_);this.document_.removeEventListener("keypress",this.onEvent_);this.document_.removeEventListener("keyup",
this.onEvent_)},dispatchFakeEvent:function(a,c){var b=new KeyboardEvent(a,c);return d.instance.onEvent_.call(void 0,b)}};d.instance=new d;return{KeyEventManager:d}});"use strict";
tv.exportTo("tv.ui",function(){function d(a){this.onMouseDown_=this.onMouseDown_.bind(this);this.onMouseMove_=this.onMouseMove_.bind(this);this.onMouseUp_=this.onMouseUp_.bind(this);this.targetElement=a}d.prototype={get targetElement(){return this.targetElement_},set targetElement(a){this.targetElement_&&this.targetElement_.removeEventListener("mousedown",this.onMouseDown_);(this.targetElement_=a)&&this.targetElement_.addEventListener("mousedown",this.onMouseDown_)},onMouseDown_:function(a){if(0!==
a.button)return!0;a=this.remakeEvent_(a,"mouse-tracker-start");this.targetElement_.dispatchEvent(a);document.addEventListener("mousemove",this.onMouseMove_);document.addEventListener("mouseup",this.onMouseUp_);this.targetElement_.addEventListener("blur",this.onMouseUp_);this.savePreviousUserSelect_=document.body.style["-webkit-user-select"];document.body.style["-webkit-user-select"]="none";a.preventDefault();return!0},onMouseMove_:function(a){a=this.remakeEvent_(a,"mouse-tracker-move");this.targetElement_.dispatchEvent(a)},
onMouseUp_:function(a){document.removeEventListener("mousemove",this.onMouseMove_);document.removeEventListener("mouseup",this.onMouseUp_);this.targetElement_.removeEventListener("blur",this.onMouseUp_);document.body.style["-webkit-user-select"]=this.savePreviousUserSelect_;a=this.remakeEvent_(a,"mouse-tracker-end");this.targetElement_.dispatchEvent(a)},remakeEvent_:function(a,c){var b=new tv.Event(c,!0,!0);b.x=a.x;b.y=a.y;b.offsetX=a.offsetX;b.offsetY=a.offsetY;b.clientX=a.clientX;b.clientY=a.clientY;
return b}};return{MouseTracker:d,trackMouseMovesUntilMouseUp:function(a,c){function b(f){document.removeEventListener("mousemove",a);document.removeEventListener("mouseup",b);c&&c(f)}document.addEventListener("mousemove",a);document.addEventListener("mouseup",b)}}});"use strict";
tv.exportTo("tv.ui",function(){var d=document.currentScript.ownerDocument,a={SELECTION:1,PANSCAN:2,ZOOM:4,TIMING:8,ROTATE:16,ALL_MODES:31},c={};c[a.PANSCAN]={title:"pan",className:"pan-scan-mode-button",eventNames:{enter:"enterpan",begin:"beginpan",update:"updatepan",end:"endpan",exit:"exitpan"}};c[a.SELECTION]={title:"selection",className:"selection-mode-button",eventNames:{enter:"enterselection",begin:"beginselection",update:"updateselection",end:"endselection",exit:"exitselection"}};c[a.ZOOM]=
{title:"zoom",className:"zoom-mode-button",eventNames:{enter:"enterzoom",begin:"beginzoom",update:"updatezoom",end:"endzoom",exit:"exitzoom"}};c[a.TIMING]={title:"timing",className:"timing-mode-button",eventNames:{enter:"entertiming",begin:"begintiming",update:"updatetiming",end:"endtiming",exit:"exittiming"}};c[a.ROTATE]={title:"rotate",className:"rotate-mode-button",eventNames:{enter:"enterrotate",begin:"beginrotate",update:"updaterotate",end:"endrotate",exit:"exitrotate"}};var b={SHIFT:1,SPACE:2,
CMD_OR_CTRL:4},f=tv.ui.define("div");f.prototype={__proto__:HTMLDivElement.prototype,decorate:function(b){this.classList.add("mouse-mode-selector");var c=tv.instantiateTemplate("#mouse-mode-selector-template",d);this.appendChild(c);this.buttonsEl_=this.querySelector(".buttons");this.dragHandleEl_=this.querySelector(".drag-handle");this.supportedModeMask=a.ALL_MODES;this.initialRelativeMouseDownPos_={x:0,y:0};this.defaultMode_=a.PANSCAN;this.settingsKey_=void 0;this.mousePos_={x:0,y:0};this.mouseDownPos_=
{x:0,y:0};this.dragHandleEl_.addEventListener("mousedown",this.onDragHandleMouseDown_.bind(this));this.onMouseDown_=this.onMouseDown_.bind(this);this.onMouseMove_=this.onMouseMove_.bind(this);this.onMouseUp_=this.onMouseUp_.bind(this);this.buttonsEl_.addEventListener("mouseup",this.onButtonMouseUp_);this.buttonsEl_.addEventListener("mousedown",this.onButtonMouseDown_);this.buttonsEl_.addEventListener("click",this.onButtonPress_.bind(this));tv.KeyEventManager.instance.addListener("keydown",this.onKeyDown_,
this);tv.KeyEventManager.instance.addListener("keyup",this.onKeyUp_,this);this.mode_=void 0;this.modeToKeyCodeMap_={};this.modifierToModeMap_={};this.targetElement=b;this.spacePressed_=!1;this.modeBeforeAlternativeModeActivated_=null;this.isClick_=this.isInteracting_=!1},get targetElement(){return this.targetElement_},set targetElement(a){this.targetElement_&&this.targetElement_.removeEventListener("mousedown",this.onMouseDown_);(this.targetElement_=a)&&this.targetElement_.addEventListener("mousedown",
this.onMouseDown_)},get defaultMode(){return this.defaultMode_},set defaultMode(a){this.defaultMode_=a},get settingsKey(){return this.settingsKey_},set settingsKey(a){if(this.settingsKey_=a)if(a=tv.Settings.get(this.settingsKey_+".mode",void 0),void 0===c[a]&&(a=void 0),0===(a&this.supportedModeMask_)&&(a=void 0),a||(a=this.defaultMode_),this.mode=a,a=tv.Settings.get(this.settingsKey_+".pos",void 0))this.pos=a},get supportedModeMask(){return this.supportedModeMask_},set supportedModeMask(b){function f(a){var b=
document.createElement("div");b.mode=a;b.title=c[a].title;b.classList.add("tool-button");b.classList.add(c[a].className);return b}if(this.mode&&0===(b&this.mode))throw Error("supportedModeMask must include current mode.");this.supportedModeMask_=b;this.buttonsEl_.textContent="";for(var d in a)"ALL_MODES"!=d&&(b=a[d],0!==(this.supportedModeMask_&b)&&this.buttonsEl_.appendChild(f(b)))},get mode(){return this.currentMode_},set mode(a){if(void 0!==a){if("number"!==typeof a)throw Error("Mode must be a number");
if(0===(a&this.supportedModeMask_))throw Error("Cannot switch to this mode, it is not supported");if(void 0===c[a])throw Error("Unrecognized mode");}var b;if(this.currentMode_!==a){if(this.currentMode_){b=c[this.currentMode_];var f=this.buttonsEl_.querySelector("."+b.className);f&&f.classList.remove("active");this.isInteracting_&&(f=this.createEvent_(c[this.mode].eventNames.end),this.dispatchEvent(f));tv.dispatchSimpleEvent(this,b.eventNames.exit,!0)}if(this.currentMode_=a)b=c[this.currentMode_],
(f=this.buttonsEl_.querySelector("."+b.className))&&f.classList.add("active"),this.mouseDownPos_.x=this.mousePos_.x,this.mouseDownPos_.y=this.mousePos_.y,this.isInAlternativeMode_||tv.dispatchSimpleEvent(this,b.eventNames.enter,!0),this.isInteracting_&&(f=this.createEvent_(c[this.mode].eventNames.begin),this.dispatchEvent(f));this.settingsKey_&&!this.isInAlternativeMode_&&tv.Settings.set(this.settingsKey_+".mode",this.mode)}},setKeyCodeForMode:function(a,b){if(0===(a&this.supportedModeMask_))throw Error("Mode not supported");
this.modeToKeyCodeMap_[a]=b;if(this.buttonsEl_){var f=c[a],d=this.buttonsEl_.querySelector("."+f.className);d&&(d.title=f.title+" ("+String.fromCharCode(b)+")")}},setCurrentMousePosFromEvent_:function(a){this.mousePos_.x=a.clientX;this.mousePos_.y=a.clientY},createEvent_:function(a,b){var c=new tv.Event(a,!0);c.clientX=this.mousePos_.x;c.clientY=this.mousePos_.y;c.deltaX=this.mousePos_.x-this.mouseDownPos_.x;c.deltaY=this.mousePos_.y-this.mouseDownPos_.y;c.mouseDownX=this.mouseDownPos_.x;c.mouseDownY=
this.mouseDownPos_.y;c.didPreventDefault=!1;c.preventDefault=function(){c.didPreventDefault=!0;b&&b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()};c.stopImmediatePropagation=function(){throw Error("Not implemented");};return c},onMouseDown_:function(a){0===a.button&&(this.setCurrentMousePosFromEvent_(a),a=this.createEvent_(c[this.mode].eventNames.begin,a),this.dispatchEvent(a),this.isClick_=this.isInteracting_=!0,tv.ui.trackMouseMovesUntilMouseUp(this.onMouseMove_,this.onMouseUp_))},
onMouseMove_:function(a){this.setCurrentMousePosFromEvent_(a);var b=this.createEvent_(c[this.mode].eventNames.update,a);this.dispatchEvent(b);this.isInteracting_&&this.checkIsClick_(a)},onMouseUp_:function(a){if(0===a.button){var b=this.createEvent_(c[this.mode].eventNames.end,a);b.isClick=this.isClick_;this.dispatchEvent(b);this.isClick_&&!b.didPreventDefault&&this.dispatchClickEvents_(a);this.isInteracting_=!1;this.updateAlternativeModeState_(a)}},onButtonMouseDown_:function(a){a.preventDefault();
a.stopImmediatePropagation()},onButtonMouseUp_:function(a){a.preventDefault();a.stopImmediatePropagation()},onButtonPress_:function(a){this.modeBeforeAlternativeModeActivated_=void 0;this.mode=a.target.mode;a.preventDefault()},onKeyDown_:function(a){32===a.keyCode&&(this.spacePressed_=!0);this.updateAlternativeModeState_(a)},onKeyUp_:function(a){32===a.keyCode&&(this.spacePressed_=!1);var b=!1;tv.iterItems(this.modeToKeyCodeMap_,function(c,f){a.keyCode===f&&(this.modeBeforeAlternativeModeActivated_=
void 0,this.mode=parseInt(c),b=!0)},this);b?(a.preventDefault(),a.stopPropagation()):this.updateAlternativeModeState_(a)},updateAlternativeModeState_:function(a){var c=this.spacePressed_,f=tv.isMac&&a.metaKey||!tv.isMac&&a.ctrlKey,d=this.supportedModeMask_,l=!1;a.shiftKey&&0!==(this.modifierToModeMap_[b.SHIFT]&d)?(a=this.modifierToModeMap_[b.SHIFT],l=!0):c&&0!==(this.modifierToModeMap_[b.SPACE]&d)?(a=this.modifierToModeMap_[b.SPACE],l=!0):f&&0!==(this.modifierToModeMap_[b.CMD_OR_CTRL]&d)?(a=this.modifierToModeMap_[b.CMD_OR_CTRL],
l=!0):this.isInAlternativeMode_?(a=this.modeBeforeAlternativeModeActivated_,l=!1):a=void 0;this.mode===a||void 0===a||(l&&(this.modeBeforeAlternativeModeActivated_=this.mode),this.mode=a)},get isInAlternativeMode_(){return!!this.modeBeforeAlternativeModeActivated_},setModifierForAlternateMode:function(a,b){this.modifierToModeMap_[b]=a},get pos(){return{x:parseInt(this.style.left),y:parseInt(this.style.top)}},set pos(a){a=this.constrainPositionToBounds_(a);this.style.left=a.x+"px";this.style.top=a.y+
"px";this.settingsKey_&&tv.Settings.set(this.settingsKey_+".pos",this.pos)},constrainPositionToBounds_:function(a){var b=tv.windowRectForElement(this.offsetParent||document.body),c=b.height-this.offsetHeight,b=b.width-this.offsetWidth,f={};f.x=Math.max(a.x,0);f.x=Math.min(f.x,b);f.y=Math.max(a.y,0);f.y=Math.min(f.y,c);return f},onDragHandleMouseDown_:function(a){a.preventDefault();a.stopImmediatePropagation();var b=a.clientX-this.offsetLeft,c=a.clientY-this.offsetTop;tv.ui.trackMouseMovesUntilMouseUp(function(a){var e=
{};e.x=a.clientX-b;e.y=a.clientY-c;this.pos=e}.bind(this))},checkIsClick_:function(a){if(this.isInteracting_&&this.isClick_){a=this.mousePos_.x-this.mouseDownPos_.x;var b=this.mousePos_.y-this.mouseDownPos_.y;16<a*a+b*b&&(this.isClick_=!1)}},dispatchClickEvents_:function(b){if(this.isClick_){b=c[a.SELECTION].eventNames;var f=this.createEvent_(b.begin);this.dispatchEvent(f);f=this.createEvent_(b.end);this.dispatchEvent(f)}}};return{MIN_MOUSE_SELECTION_DISTANCE:4,MouseModeSelector:f,MOUSE_SELECTOR_MODE:a,
MODIFIER:b}});"use strict";
tv.exportTo("tracing",function(){function d(){this.textWidthMap={}}function a(a,c){this.string=a;this.width=c}var c={};new d;d.prototype={get:function(b,f,e,d,g){var k=c[e];k||(k={},c[e]=k);d=k[f];d||(k[f]={},d=k[f]);k=d[g];if(void 0===k){for(k=!1;this.labelWidthWorld(b,e,f)>g&&!(1>0.75*e.length);)e=e.substring(0,0.75*e.length),k=!0;k&&3<e.length&&(e=e.substring(0,e.length-3)+"...");k=new a(e,this.labelWidth(b,e));d[g]=k}return k},quickMeasureText_:function(a,c){var e=this.textWidthMap[c];e||(e=a.measureText(c).width,
this.textWidthMap[c]=e);return e},labelWidth:function(a,c){return this.quickMeasureText_(a,c)+2},labelWidthWorld:function(a,c,e){return this.labelWidth(a,c)*e}};return{ElidedTitleCache:d}});"use strict";
tv.exportTo("tracing",function(){function d(a,b,c,f,d){a.moveTo(b,c);a.lineTo(f,d)}function a(a,b,c,f,d,m,n){a.beginPath();a.moveTo(b,c);a.lineTo(f,d);a.lineTo(m,n);a.closePath()}var c=new tracing.ElidedTitleCache,b=tv.ui.getColorPalette(),f=tracing.EventPresenter;return{drawSlices:function(a,c,d,k,l,m,n){var p=window.devicePixelRatio||1,q=c.xViewVectorToWorld(1);l*=p;p*=4;l<p&&(p=0);var r=l-p;a.save();c.applyTransformToCanvas(a);c=new tracing.FastRectRenderer(a,2*q,2*q,b);c.setYandH(0,l);for(d=tv.findLowIndexInSortedArray(m,
function(a){return a.start+a.duration},d);d<m.length;++d){var t=m[d],u=t.start;if(u>k)break;var v=q;0<t.duration&&(v=Math.max(t.duration,0.001),v<q&&(v=q));var z=f.getSliceColorId(t),H=f.getSliceAlpha(t,n),F=0.7*H;if(t.cpuDuration){var t=v*(t.cpuDuration/t.duration),G=v-t;t<1*q&&(t=0,G=v);G<3*q&&(t=v,G=0);0<t&&c.fillRect(u,t,z,H);0<G&&(c.setYandH(0,r),c.fillRect(u+t-q,G+q,z,F),c.setYandH(r,p),c.fillRect(u+t-q,G+q,z,H),c.setYandH(0,l))}else c.fillRect(u,v,z,H)}c.flush();a.restore()},drawInstantSlicesAsLines:function(a,
b,c,d,l,m,n){l*=window.devicePixelRatio||1;var p=b.xViewVectorToWorld(1);a.save();a.lineWidth=p*n;b.applyTransformToCanvas(a);a.beginPath();for(b=tv.findLowIndexInSortedArray(m,function(a){return a.start},c);b<m.length;++b){c=m[b];n=c.start;if(n>d)break;a.strokeStyle=f.getInstantSliceColor(c);a.moveTo(n,0);a.lineTo(n,l)}a.stroke();a.restore()},drawLabels:function(a,b,d,k,l,m,n,p){var q=window.devicePixelRatio||1,r=b.xViewVectorToWorld(1);a.save();a.textAlign="center";a.textBaseline="top";a.font=n*
q+"px sans-serif";m&&(a.font="italic "+a.font);m=p*q;n=tv.findLowIndexInSortedArray(l,function(a){return a.start+a.duration},d);for(d=20*r;n<l.length;++n){q=l[n];if(q.start>k)break;if(!(q.duration<=d)){p=q.title+(q.didNotFinish?" (Did Not Finish)":"");var t=c.labelWidth(a,p);c.labelWidthWorld(a,p,r)>q.duration&&(t=c.get(a,r,p,t,q.duration),p=t.string,t=t.width);t*r<q.duration&&(a.fillStyle=f.getTextColor(q),q=b.xWorldToView(q.start+0.5*q.duration),a.fillText(p,q,m,t))}}a.restore()},drawLine:d,drawTriangle:a,
drawArrow:function(b,c,f,k,l,m,n){var p=k-c,q=l-f,r=Math.sqrt(p*p+q*q),t=(r-m)/r;m=c+t*p;t=f+t*q;q=q/r*n;n*=-(p/r);b.beginPath();d(b,c,f,k,l);b.stroke();a(b,m+q,t+n,k,l,m-q,t-n);b.fill()},elidedTitleCache_:c,THIN_SLICE_HEIGHT:4}});"use strict";
tv.exportTo("tracing",function(){function d(a){this.viewport_=a;this.range_=new tv.Range;this.rightSelected_=this.leftSelected_=!1;this.rightSnapIndicator_=this.leftSnapIndicator_=void 0}d.prototype={get isEmpty(){return this.range_.isEmpty},reset:function(){this.range_.reset();this.rightSelected_=this.leftSelected_=!1;this.rightSnapIndicator_=this.leftSnapIndicator_=void 0;this.viewport_.dispatchChangeEvent()},get min(){return this.range_.min},set min(a){this.range_.min=a;this.viewport_.dispatchChangeEvent()},
get max(){return this.range_.max},set max(a){this.range_.max=a;this.viewport_.dispatchChangeEvent()},set:function(a){this.range_.reset();this.range_.addRange(a);this.viewport_.dispatchChangeEvent()},setMinAndMax:function(a,c){this.range_.min=a;this.range_.max=c;this.viewport_.dispatchChangeEvent()},get range(){return this.range_.range},asRangeObject:function(){var a=new tv.Range;a.addRange(this.range_);return a},get leftSelected(){return this.leftSelected_},set leftSelected(a){this.leftSelected_!=
a&&(this.leftSelected_=a,this.viewport_.dispatchChangeEvent())},get rightSelected(){return this.rightSelected_},set rightSelected(a){this.rightSelected_!=a&&(this.rightSelected_=a,this.viewport_.dispatchChangeEvent())},get leftSnapIndicator(){return this.leftSnapIndicator_},set leftSnapIndicator(a){this.leftSnapIndicator_=a;this.viewport_.dispatchChangeEvent()},get rightSnapIndicator(){return this.rightSnapIndicator_},set rightSnapIndicator(a){this.rightSnapIndicator_=a;this.viewport_.dispatchChangeEvent()},
draw:function(a,c,b){if(!this.range_.isEmpty){var f=this.viewport_.currentDisplayTransform,e=this.min,d=this.max,g=Math.round(f.xWorldToView(e)),k=Math.round(f.xWorldToView(d));a.fillStyle="rgba(0, 0, 0, 0.2)";e>c&&a.fillRect(f.xWorldToView(c),0,g,a.canvas.height);d<b&&a.fillRect(k,0,f.xWorldToView(b),a.canvas.height);a.lineWidth=Math.round(window.devicePixelRatio||1);0<this.range_.range?(this.drawLine_(a,c,b,a.canvas.height,this.min,this.leftSelected_),this.drawLine_(a,c,b,a.canvas.height,this.max,
this.rightSelected_)):this.drawLine_(a,c,b,a.canvas.height,this.min,this.leftSelected_||this.rightSelected_);a.lineWidth=1}},drawLine_:function(a,c,b,f,e,d){e<c||e>=b||(c=Math.round(this.viewport_.currentDisplayTransform.xWorldToView(e)),a.save(),a.translate(Math.round(a.lineWidth)%2/2,0),a.beginPath(),tracing.drawLine(a,c,0,c,f),a.strokeStyle=d?"rgb(255, 0, 0)":"rgb(0, 0, 0)",a.stroke(),a.restore())},drawIndicators:function(a,c,b){this.leftSnapIndicator_&&this.drawIndicator_(a,c,b,this.range_.min,
this.leftSnapIndicator_,this.leftSelected_);this.rightSnapIndicator_&&this.drawIndicator_(a,c,b,this.range_.max,this.rightSnapIndicator_,this.rightSelected_)},drawIndicator_:function(a,c,b,f,e,d){c=Math.round(this.viewport_.currentDisplayTransform.xWorldToView(f));a.save();a.translate(Math.round(a.lineWidth)%2/2,0);b=e.y*devicePixelRatio;e=e.height*devicePixelRatio;f=4*(window.devicePixelRatio||1);a.fillStyle=d?"rgb(255, 0, 0)":"rgb(0, 0, 0)";tracing.drawTriangle(a,c-0.75*f,b,c+0.75*f,b,c,b+f);a.fill();
tracing.drawTriangle(a,c-0.75*f,b+e,c+0.75*f,b+e,c,b+e-f);a.fill();a.restore()}};return{SnapIndicator:function(a,c){this.y=a;this.height=c},TimelineInterestRange:d}});"use strict";
tv.exportTo("tracing",function(){function d(a){a?this.set(a):(this.scaleX=1,this.panY=this.panX=0)}d.prototype={set:function(a){this.scaleX=a.scaleX;this.panX=a.panX;this.panY=a.panY},clone:function(){return new d(this)},equals:function(a){var c;if(void 0===a||null===a)return!1;c=1&this.panX===a.panX;c&=this.panY===a.panY;c&=this.scaleX===a.scaleX;return!!c},almostEquals:function(a){var c;if(void 0===a||null===a)return!1;c=1&0.001>Math.abs(this.panX-a.panX);c&=0.001>Math.abs(this.panY-a.panY);c&=
0.001>Math.abs(this.scaleX-a.scaleX);return!!c},incrementPanXInViewUnits:function(a){this.panX+=this.xViewVectorToWorld(a)},xPanWorldPosToViewPos:function(a,c,b){if("string"==typeof c)if("left"===c)c=0;else if("center"===c)c=b/2;else if("right"===c)c=b-1;else throw Error("viewX must be left|center|right or number.");this.panX=c/this.scaleX-a},xPanWorldBoundsIntoView:function(a,c,b){0>this.xWorldToView(a)?this.xPanWorldPosToViewPos(a,"left",b):this.xWorldToView(c)>b&&this.xPanWorldPosToViewPos(c,"right",
b)},xSetWorldBounds:function(a,c,b){this.setPanAndScale(-a,b/(c-a))},setPanAndScale:function(a,c){this.scaleX=c;this.panX=a},xWorldToView:function(a){return(a+this.panX)*this.scaleX},xWorldVectorToView:function(a){return a*this.scaleX},xViewToWorld:function(a){return a/this.scaleX-this.panX},xViewVectorToWorld:function(a){return a/this.scaleX},applyTransformToCanvas:function(a){a.transform(this.scaleX,0,0,1,this.panX*this.scaleX,0)}};return{TimelineDisplayTransform:d}});"use strict";
tv.exportTo("tv.ui",function(){function d(){}d.prototype={canTakeOverFor:function(a){throw Error("Not implemented");},takeOverFor:function(a,c,b){throw Error("Not implemented");},start:function(a,c){throw Error("Not implemented");},didStopEarly:function(a,c,b){},tick:function(a,c){throw Error("Not implemented");}};return{Animation:d}});"use strict";
tv.exportTo("tv.ui",function(){function d(){tv.EventTarget.call(this);this.activeAnimation_=this.target_=void 0;this.tickScheduled_=!1}d.prototype={__proto__:tv.EventTarget.prototype,get target(){return this.target_},set target(a){if(this.activeAnimation_)throw Error("Cannot change target while animation is running.");if(void 0===a.cloneAnimationState||"function"!==typeof a.cloneAnimationState)throw Error("target must have a cloneAnimationState function");this.target_=a},get activeAnimation(){return this.activeAnimation_},
get hasActiveAnimation(){return!!this.activeAnimation_},queueAnimation:function(a,c){if(void 0===this.target_)throw Error("Cannot queue animations without a target");var b;b=void 0!==c?c:window.performance.now();this.activeAnimation_&&this.activeAnimation_.tick(b,this.target_)&&(this.activeAnimation_=void 0);this.activeAnimation_&&(a.canTakeOverFor(this.activeAnimation_)?(this.activeAnimation_.didStopEarly(b,this.target_,!0),a.takeOverFor(this.activeAnimation_,b,this.target_)):this.activeAnimation_.didStopEarly(b,
this.target_,!1));this.activeAnimation_=a;this.activeAnimation_.start(b,this.target_);this.tickScheduled_||(this.tickScheduled_=!0,tv.requestAnimationFrame(this.tickActiveAnimation_,this))},cancelActiveAnimation:function(a){this.activeAnimation_&&(a=void 0!==a?a:window.performance.now(),this.activeAnimation_.didStopEarly(a,this.target_,!1),this.activeAnimation_=void 0)},tickActiveAnimation_:function(a){this.tickScheduled_=!1;if(this.activeAnimation_)if(void 0===this.target_)this.activeAnimation_.didStopEarly(a,
this.target_,!1);else{var c=this.target_.cloneAnimationState();this.activeAnimation_.tick(a,this.target_)&&(this.activeAnimation_=void 0);this.activeAnimation_&&(this.tickScheduled_=!0,tv.requestAnimationFrame(this.tickActiveAnimation_,this));c&&(a=new Event("didtick"),a.oldTargetState=c,this.dispatchEvent(a,!1,!1))}}};return{AnimationController:d}});"use strict";
tv.exportTo("tracing",function(){function d(b){this.parentEl_=b;this.modelTrackContainer_=void 0;this.currentDisplayTransform_=new a;this.initAnimationController_();this.highDetails_=this.highlightVSync_=this.showFlowEvents_=!1;this.gridTimebase_=0;this.gridStep_=1E3/60;this.hasCalledSetupFunction_=this.gridEnabled_=!1;this.onResize_=this.onResize_.bind(this);this.onModelTrackControllerScroll_=this.onModelTrackControllerScroll_.bind(this);this.checkForAttachInterval_=setInterval(this.checkForAttach_.bind(this),
250);this.majorMarkPositions=[];this.interestRange_=new c(this);this.eventToTrackMap_={}}var a=tracing.TimelineDisplayTransform,c=tracing.TimelineInterestRange;d.prototype={__proto__:tv.EventTarget.prototype,setWhenPossible:function(a){this.pendingSetFunction_=a},get isAttachedToDocumentOrInTestMode(){if(void 0!==this.parentEl_)return tv.ui.isElementAttachedToDocument(this.parentEl_)},onResize_:function(){this.dispatchChangeEvent()},checkForAttach_:function(){if(this.isAttachedToDocumentOrInTestMode&&
0!=this.clientWidth){this.iframe_||(this.iframe_=document.createElement("iframe"),this.iframe_.style.cssText="position:absolute;width:100%;height:0;border:0;visibility:hidden;",this.parentEl_.appendChild(this.iframe_),this.iframe_.contentWindow.addEventListener("resize",this.onResize_));var a=this.parentEl_.clientWidth+"x"+this.parentEl_.clientHeight;if(this.pendingSetFunction_){this.lastSize_=a;try{this.pendingSetFunction_()}catch(c){console.log("While running setWhenPossible:",c.message?c.message+
"\n"+c.stack:c.stack)}this.pendingSetFunction_=void 0}window.clearInterval(this.checkForAttachInterval_);this.checkForAttachInterval_=void 0}},dispatchChangeEvent:function(){tv.dispatchSimpleEvent(this,"change")},detach:function(){this.checkForAttachInterval_&&(window.clearInterval(this.checkForAttachInterval_),this.checkForAttachInterval_=void 0);this.iframe_&&(this.iframe_.removeEventListener("resize",this.onResize_),this.parentEl_.removeChild(this.iframe_))},initAnimationController_:function(){this.dtAnimationController_=
new tv.ui.AnimationController;this.dtAnimationController_.addEventListener("didtick",function(a){this.onCurentDisplayTransformChange_(a.oldTargetState)}.bind(this));var a=this;this.dtAnimationController_.target={get panX(){return a.currentDisplayTransform_.panX},set panX(c){a.currentDisplayTransform_.panX=c},get panY(){return a.currentDisplayTransform_.panY},set panY(c){a.currentDisplayTransform_.panY=c},get scaleX(){return a.currentDisplayTransform_.scaleX},set scaleX(c){a.currentDisplayTransform_.scaleX=
c},cloneAnimationState:function(){return a.currentDisplayTransform_.clone()},xPanWorldPosToViewPos:function(c,e){a.currentDisplayTransform_.xPanWorldPosToViewPos(c,e,a.modelTrackContainer_.canvas.clientWidth)}}},get currentDisplayTransform(){return this.currentDisplayTransform_},setDisplayTransformImmediately:function(a){this.dtAnimationController_.cancelActiveAnimation();var c=this.dtAnimationController_.target.cloneAnimationState();this.currentDisplayTransform_.set(a);this.onCurentDisplayTransformChange_(c)},
queueDisplayTransformAnimation:function(a){if(!(a instanceof tv.ui.Animation))throw Error("animation must be instanceof tv.ui.Animation");this.dtAnimationController_.queueAnimation(a)},onCurentDisplayTransformChange_:function(a){this.modelTrackContainer_&&(this.currentDisplayTransform.panY=tv.clamp(this.currentDisplayTransform.panY,0,this.modelTrackContainer_.scrollHeight-this.modelTrackContainer_.clientHeight));var c=!this.currentDisplayTransform.equals(a);this.currentDisplayTransform.panY!==a.panY&&
(this.modelTrackContainer_.scrollTop=this.currentDisplayTransform.panY);c&&this.dispatchChangeEvent()},onModelTrackControllerScroll_:function(a){this.dtAnimationController_.activeAnimation&&this.dtAnimationController_.activeAnimation.affectsPanY&&this.dtAnimationController_.cancelActiveAnimation();this.currentDisplayTransform_.panY=this.modelTrackContainer_.scrollTop},get modelTrackContainer(){return this.modelTrackContainer_},set modelTrackContainer(a){this.modelTrackContainer_&&this.modelTrackContainer_.removeEventListener("scroll",
this.onModelTrackControllerScroll_);this.modelTrackContainer_=a;this.modelTrackContainer_.addEventListener("scroll",this.onModelTrackControllerScroll_)},get showFlowEvents(){return this.showFlowEvents_},set showFlowEvents(a){this.showFlowEvents_=a;this.dispatchChangeEvent()},get highlightVSync(){return this.highlightVSync_},set highlightVSync(a){this.highlightVSync_=a;this.dispatchChangeEvent()},get highDetails(){return this.highDetails_},set highDetails(a){this.highDetails_=a;this.dispatchChangeEvent()},
get gridEnabled(){return this.gridEnabled_},set gridEnabled(a){this.gridEnabled_!=a&&(this.gridEnabled_=a&&!0,this.dispatchChangeEvent())},get gridTimebase(){return this.gridTimebase_},set gridTimebase(a){this.gridTimebase_!=a&&(this.gridTimebase_=a,this.dispatchChangeEvent())},get gridStep(){return this.gridStep_},get interestRange(){return this.interestRange_},drawMajorMarkLines:function(a){a.save();a.translate(Math.round(a.lineWidth)%2/2,0);a.beginPath();for(var c in this.majorMarkPositions){var e=
Math.floor(this.majorMarkPositions[c]);tracing.drawLine(a,e,0,e,a.canvas.height)}a.strokeStyle="#ddd";a.stroke();a.restore()},drawGridLines:function(a,c,e){if(this.gridEnabled){var d=this.currentDisplayTransform,g=this.gridTimebase;a.save();a.translate(Math.round(a.lineWidth)%2/2,0);for(a.beginPath();g<e;){if(g>=c){var k=Math.floor(d.xWorldToView(g));tracing.drawLine(a,k,0,k,a.canvas.height)}g+=this.gridStep}a.strokeStyle="rgba(255, 0, 0, 0.25)";a.stroke();a.restore()}},rebuildEventToTrackMap:function(){this.eventToTrackMap_=
void 0;var a={addEvent:function(a,b){if(!b)throw Error("Must provide a track.");this[a.guid]=b}};this.modelTrackContainer_.addEventsToTrackMap(a);this.eventToTrackMap_=a},trackForEvent:function(a){return this.eventToTrackMap_[a.guid]}};return{TimelineViewport:d}});"use strict";
tv.exportTo("tracing",function(){function d(a,f,e){this.deltaX=a;this.deltaY=f;this.durationMs=void 0===e?c:e;this.startTimeMs=this.startPanY=this.startPanX=void 0}function a(a,f,e,d,g){this.goalFocalPointXWorld=a;this.goalFocalPointXView=f;this.goalFocalPointY=e;this.zoomInRatioX=d;this.durationMs=void 0===g?c:g;this.goalPanY=this.startPanY=this.goalScaleX=this.startScaleX=this.startTimeMs=void 0}var c=100;d.prototype={__proto__:tv.ui.Animation.prototype,get affectsPanY(){return 0!==this.deltaY},
canTakeOverFor:function(a){return a instanceof d},takeOverFor:function(a,c,e){var d=a.goalPanX-e.panX;e=a.goalPanY-e.panY;a=c-(a.startTimeMs+a.durationMs);a=Math.max(a,0);this.deltaX+=d;this.deltaY+=e;this.durationMs+=a},start:function(a,c){this.startTimeMs=a;this.startPanX=c.panX;this.startPanY=c.panY},tick:function(a,c){var e=(a-this.startTimeMs)/this.durationMs,e=tv.clamp(e,0,1);c.panX=tv.lerp(e,this.startPanX,this.goalPanX);this.affectsPanY&&(c.panY=tv.lerp(e,this.startPanY,this.goalPanY));return a>=
this.startTimeMs+this.durationMs},get goalPanX(){return this.startPanX+this.deltaX},get goalPanY(){return this.startPanY+this.deltaY}};a.prototype={__proto__:tv.ui.Animation.prototype,get affectsPanY(){return this.startPanY!=this.goalPanY},canTakeOverFor:function(a){return!1},takeOverFor:function(a,c,e){this.goalScaleX=e.scaleX*this.zoomInRatioX},start:function(a,c){this.startTimeMs=a;this.startScaleX=c.scaleX;this.goalScaleX=this.zoomInRatioX*c.scaleX;this.startPanY=c.panY},tick:function(a,c){var e=
(a-this.startTimeMs)/this.durationMs,e=tv.clamp(e,0,1);c.scaleX=tv.lerp(e,this.startScaleX,this.goalScaleX);this.affectsPanY&&(c.panY=tv.lerp(e,this.startPanY,this.goalFocalPointY));c.xPanWorldPosToViewPos(this.goalFocalPointXWorld,this.goalFocalPointXView);return a>=this.startTimeMs+this.durationMs}};return{TimelineDisplayTransformPanAnimation:d,TimelineDisplayTransformZoomToAnimation:a}});"use strict";tv.exportTo("tracing",function(){return{constants:{HEADING_WIDTH:250}}});"use strict";
tv.exportTo("tracing",function(){function d(a,c){this.viewport_=a;this.onMouseMove_=this.onMouseMove_.bind(this);this.onDblClick_=this.onDblClick_.bind(this);this.targetElement_=c;this.isMovingLeftEdge_=!1}d.prototype={onEnterTiming:function(a){this.targetElement_.addEventListener("mousemove",this.onMouseMove_);this.targetElement_.addEventListener("dblclick",this.onDblClick_)},onBeginTiming:function(a){this.isTouchPointInsideTrackBounds_(a.clientX,a.clientY)&&(a=this.getSnappedToEventPosition_(a),
this.mouseDownAt_(a.x,a.y),this.updateSnapIndicators_(a))},updateSnapIndicators_:function(a){if(a.snapped){var c=this.viewport_.interestRange;c.min===a.x&&(c.leftSnapIndicator=new tracing.SnapIndicator(a.y,a.height));c.max===a.x&&(c.rightSnapIndicator=new tracing.SnapIndicator(a.y,a.height))}},onUpdateTiming:function(a){a=this.getSnappedToEventPosition_(a);this.mouseMoveAt_(a.x,a.y,!0);this.updateSnapIndicators_(a)},onEndTiming:function(a){this.mouseUp_()},onExitTiming:function(a){this.targetElement_.removeEventListener("mousemove",
this.onMouseMove_);this.targetElement_.removeEventListener("dblclick",this.onDblClick_)},onMouseMove_:function(a){if(!a.button){var c=this.getWorldXFromEvent_(a);this.mouseMoveAt_(c,a.clientY,!1)}},onDblClick_:function(a){console.error("not implemented")},isTouchPointInsideTrackBounds_:function(a,c){if(!this.viewport_||!this.viewport_.modelTrackContainer||!this.viewport_.modelTrackContainer.canvas)return!1;var b=this.viewport_.modelTrackContainer.canvas.getBoundingClientRect();return a>=b.left&&a<=
b.right&&c>=b.top&&c<=b.bottom?!0:!1},mouseDownAt_:function(a,c){var b=this.viewport_.interestRange,f=this.viewport_.currentDisplayTransform.xViewVectorToWorld(6*(window.devicePixelRatio||1));b.isEmpty?(b.setMinAndMax(a,a),b.rightSelected=!0,this.isMovingLeftEdge_=!1):Math.abs(a-b.min)<f?(b.leftSelected=!0,b.min=a,this.isMovingLeftEdge_=!0):(Math.abs(a-b.max)<f?(b.rightSelected=!0,b.max=a):(b.setMinAndMax(a,a),b.rightSelected=!0),this.isMovingLeftEdge_=!1)},mouseMoveAt_:function(a,c,b){c=this.viewport_.interestRange;
b?this.updateMovingEdge_(a):(c=this.viewport_.interestRange,b=this.viewport_.currentDisplayTransform.xViewVectorToWorld(6*(window.devicePixelRatio||1)),Math.abs(a-c.min)<b?(c.leftSelected=!0,c.rightSelected=!1):Math.abs(a-c.max)<b?(c.leftSelected=!1,c.rightSelected=!0):(c.leftSelected=!1,c.rightSelected=!1))},updateMovingEdge_:function(a){var c=this.viewport_.interestRange,b=c.min,f=c.max;this.isMovingLeftEdge_?b=a:f=a;b<=f?c.setMinAndMax(b,f):c.setMinAndMax(f,b);c.min==a?(this.isMovingLeftEdge_=
!0,c.leftSelected=!0,c.rightSelected=!1):(this.isMovingLeftEdge_=!1,c.leftSelected=!1,c.rightSelected=!0)},mouseUp_:function(){var a=this.viewport_.currentDisplayTransform,c=this.viewport_.interestRange;c.leftSelected=!1;c.rightSelected=!1;a=a.xViewVectorToWorld(2*(window.devicePixelRatio||1));c.range<a&&c.reset()},getWorldXFromEvent_:function(a){var c=window.devicePixelRatio||1,b=this.viewport_.modelTrackContainer.canvas.getBoundingClientRect().left;return this.viewport_.currentDisplayTransform.xViewToWorld((a.clientX-
b)*c)},getSnappedToEventPosition_:function(a){var c=16*(window.devicePixelRatio||1),b=this.viewport_.modelTrackContainer,f=b.getBoundingClientRect(),e=this.viewport_,d=e.currentDisplayTransform,g=d.xViewVectorToWorld(c),c=this.getWorldXFromEvent_(a);a=a.clientY;var k=new tracing.Selection;b.addClosestEventToSelection(c,g,a,a,k);k.length||b.addClosestEventToSelection(c,g,f.top,f.bottom,k);for(var l=Infinity,d=d.xViewVectorToWorld(1),m={x:c,y:a-f.top,height:0,snapped:!1},n=new tv.Range,p=0;p<k.length;p++){var q=
k[p],r=e.trackForEvent(q).getBoundingClientRect();n.reset();q.addBoundsToRange(n);var q=Math.abs(n.min-c)<Math.abs(n.max-c)?n.min:n.max,t=q-c,u=r.top,r=r.height,v=Math.abs(u+r/2-a);if((t<=g||Math.abs(t-g)<d)&&v<l)g=t,l=v,m.x=q,m.y=u+b.scrollTop-f.top,m.height=r,m.snapped=!0}return m}};return{TimingTool:d}});"use strict";
tv.exportTo("tv.ui",function(){var d=tv.ui.define("div");d.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.observer_=new WebKitMutationObserver(this.didMutate_.bind(this));this.observer_.observe(this,{childList:!0});Object.defineProperty(this,"textContent",{get:void 0,set:this.onSetTextContent_})},appendChild:function(a){HTMLUnknownElement.prototype.appendChild.call(this,a);this.didMutate_(this.observer_.takeRecords())},insertBefore:function(a,c){HTMLUnknownElement.prototype.insertBefore.call(this,
a,c);this.didMutate_(this.observer_.takeRecords())},removeChild:function(a){HTMLUnknownElement.prototype.removeChild.call(this,a);this.didMutate_(this.observer_.takeRecords())},replaceChild:function(a,c){HTMLUnknownElement.prototype.replaceChild.call(this,a,c);this.didMutate_(this.observer_.takeRecords())},onSetTextContent_:function(a){if(""!=a)throw Error("textContent can only be set to ''.");this.clear()},clear:function(){for(;this.lastChild;)HTMLUnknownElement.prototype.removeChild.call(this,this.lastChild);
this.didMutate_(this.observer_.takeRecords())},didMutate_:function(a){this.beginDecorating_();for(var c=0;c<a.length;c++){var b=a[c].addedNodes;if(b)for(var f=0;f<b.length;f++)this.decorateChild_(b[f]);if(b=a[c].removedNodes)for(f=0;f<b.length;f++)this.undecorateChild_(b[f])}this.doneDecoratingForNow_()},decorateChild_:function(a){throw Error("Not implemented");},undecorateChild_:function(a){throw Error("Not implemented");},beginDecorating_:function(){},doneDecoratingForNow_:function(){}};return{ContainerThatDecoratesItsChildren:d}});
"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("track",tv.ui.ContainerThatDecoratesItsChildren);d.prototype={__proto__:tv.ui.ContainerThatDecoratesItsChildren.prototype,decorate:function(a){tv.ui.ContainerThatDecoratesItsChildren.prototype.decorate.call(this);if(void 0===a)throw Error("viewport is required when creating a Track.");this.viewport_=a;this.classList.add("track")},get viewport(){return this.viewport_},get drawingContainer(){for(var a=this;a;){if(a instanceof tracing.tracks.DrawingContainer)return a;a=
a.parentElement}},invalidateDrawingContainer:function(){var a=this.drawingContainer;a&&a.invalidate()},context:function(){if(this.parentNode){if(!this.parentNode.context)throw Error("Parent container does not support context() method.");return this.parentNode.context()}},decorateChild_:function(a){},undecorateChild_:function(a){a.detach&&a.detach()},updateContents_:function(){},drawTrack:function(a){var c=this.context(),b=window.devicePixelRatio||1,f=this.getBoundingClientRect(),e=c.canvas.getBoundingClientRect();
c.save();c.translate(0,b*(f.top-e.top));var d=this.viewport.currentDisplayTransform,e=d.xViewToWorld(0),b=d.xViewToWorld(f.width*b);this.draw(a,e,b);c.restore()},draw:function(a,c,b){},addEventsToTrackMap:function(a){},addIntersectingItemsInRangeToSelection:function(a,c,b,f,e){var d=window.devicePixelRatio||1,g=this.viewport.currentDisplayTransform,k=g.xViewVectorToWorld(1);a=g.xViewToWorld(a*d);c=g.xViewToWorld(c*d);d=this.getBoundingClientRect();b=Math.max(b,d.top);f=Math.min(f,d.bottom);b>f||this.addIntersectingItemsInRangeToSelectionInWorldSpace(a,
c,k,e)},addIntersectingItemsInRangeToSelectionInWorldSpace:function(a,c,b,f){},addClosestEventToSelection:function(a,c,b,f,e){},addClosestInstantEventToSelection:function(a,c,b,f){(a=tv.findClosestElementInSortedArray(a,function(a){return a.start},c,b))&&f.push(a)}};return{Track:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d={SLICE:1,INSTANT_EVENT:2,BACKGROUND:3,GRID:4,FLOW_ARROWS:5,MARKERS:6,HIGHLIGHTS:7},a=tv.ui.define("drawing-container",tracing.tracks.Track);a.prototype={__proto__:tracing.tracks.Track.prototype,decorate:function(a){tracing.tracks.Track.prototype.decorate.call(this,a);this.classList.add("drawing-container");this.canvas_=document.createElement("canvas");this.canvas_.className="drawing-container-canvas";this.canvas_.style.left=tracing.constants.HEADING_WIDTH+
"px";this.appendChild(this.canvas_);this.ctx_=this.canvas_.getContext("2d");this.viewportChange_=this.viewportChange_.bind(this);this.viewport.addEventListener("change",this.viewportChange_)},get canvas(){return this.canvas_},context:function(){return this.ctx_},viewportChange_:function(){this.invalidate()},invalidate:function(){this.rafPending_||(this.rafPending_=!0,tv.requestPreAnimationFrame(this.preDraw_,this))},preDraw_:function(){this.rafPending_=!1;this.updateCanvasSizeIfNeeded_();tv.requestAnimationFrameInThisFrameIfPossible(this.draw_,
this)},draw_:function(){this.ctx_.clearRect(0,0,this.canvas_.width,this.canvas_.height);var a=[d.BACKGROUND,d.HIGHLIGHTS,d.GRID,d.INSTANT_EVENT,d.SLICE,d.MARKERS];this.viewport.showFlowEvents&&a.push(d.FLOW_ARROWS);for(var b in a)for(var f=0;f<this.children.length;++f)this.children[f]instanceof tracing.tracks.Track&&this.children[f].drawTrack(a[b]);b=window.devicePixelRatio||1;var f=this.canvas_.getBoundingClientRect(),e=this.viewport.currentDisplayTransform,a=e.xViewToWorld(0);b=e.xViewToWorld(f.width*
b);this.viewport.drawGridLines(this.ctx_,a,b)},updateCanvasSizeIfNeeded_:function(){var a=tv.asArray(this.children).filter(this.visibleFilter_);this.getBoundingClientRect();var b=a[0].getBoundingClientRect(),f=a[a.length-1].getBoundingClientRect(),a=b.width-tracing.constants.HEADING_WIDTH,b=f.bottom-b.top,f=window.devicePixelRatio||1;this.canvas_.width!=a*f&&(this.canvas_.width=a*f,this.canvas_.style.width=a+"px");this.canvas_.height!=b*f&&(this.canvas_.height=b*f,this.canvas_.style.height=b+"px")},
visibleFilter_:function(a){return!(a instanceof tracing.tracks.Track)?!1:"none"!==window.getComputedStyle(a).display},addClosestEventToSelection:function(a,b,f,e,d){for(var g=0;g<this.children.length;++g)if(this.children[g]instanceof tracing.tracks.Track){var k=this.children[g].getBoundingClientRect(),l=Math.max(f,k.top),k=Math.min(e,k.bottom);l<=k&&this.children[g].addClosestEventToSelection(a,b,f,e,d)}tracing.tracks.Track.prototype.addClosestEventToSelection.apply(this,arguments)},addEventsToTrackMap:function(a){for(var b=
0;b<this.children.length;++b)this.children[b]instanceof tracing.tracks.Track&&this.children[b].addEventsToTrackMap(a)}};return{DrawingContainer:a,DrawType:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("container-track",tracing.tracks.Track);d.prototype={__proto__:tracing.tracks.Track.prototype,decorate:function(a){tracing.tracks.Track.prototype.decorate.call(this,a)},detach:function(){this.textContent=""},get tracks_(){for(var a=[],c=0;c<this.children.length;c++)this.children[c].classList.contains("track")&&a.push(this.children[c]);return a},drawTrack:function(a){for(var c=0;c<this.children.length;++c)this.children[c]instanceof tracing.tracks.Track&&
this.children[c].drawTrack(a)},addIntersectingItemsInRangeToSelection:function(a,c,b,f,e){for(var d=0;d<this.tracks_.length;d++){var g=this.tracks_[d].getBoundingClientRect(),k=Math.max(b,g.top),g=Math.min(f,g.bottom);k<=g&&this.tracks_[d].addIntersectingItemsInRangeToSelection(a,c,b,f,e)}tracing.tracks.Track.prototype.addIntersectingItemsInRangeToSelection.apply(this,arguments)},addEventsToTrackMap:function(a){for(var c=0;c<this.children.length;++c)this.children[c].addEventsToTrackMap(a)},addAllObjectsMatchingFilterToSelection:function(a,
c){for(var b=0;b<this.tracks_.length;b++)this.tracks_[b].addAllObjectsMatchingFilterToSelection(a,c)},addClosestEventToSelection:function(a,c,b,f,e){for(var d=0;d<this.tracks_.length;d++){var g=this.tracks_[d].getBoundingClientRect(),k=Math.max(b,g.top),g=Math.min(f,g.bottom);k<=g&&this.tracks_[d].addClosestEventToSelection(a,c,b,f,e)}tracing.tracks.Track.prototype.addClosestEventToSelection.apply(this,arguments)}};return{ContainerTrack:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=String.fromCharCode(9662),a=String.fromCharCode(9656),c=tv.ui.define("heading-track",tracing.tracks.Track);c.prototype={__proto__:tracing.tracks.Track.prototype,decorate:function(a){tracing.tracks.Track.prototype.decorate.call(this,a);this.classList.add("heading-track");this.headingDiv_=document.createElement("heading");this.headingDiv_.style.width=tracing.constants.HEADING_WIDTH+"px";this.headingDiv_.addEventListener("click",this.onHeadingDivClicked_.bind(this));
this.heading_="";this.selectionGenerator_=this.expanded_=void 0;this.updateContents_()},get heading(){return this.heading_},set heading(a){this.heading_=a;this.updateContents_()},set tooltip(a){this.headingDiv_.title=a},set selectionGenerator(a){this.selectionGenerator_=a;this.updateContents_()},get expanded(){return this.expanded_},set expanded(a){this.expanded_!=a&&(this.expanded_=a,this.expandedStateChanged_())},expandedStateChanged_:function(){this.updateHeadigDiv_()},onHeadingDivClicked_:function(){var a=
new Event("heading-clicked",!0,!1);this.dispatchEvent(a)},updateContents_:function(){this.updateHeadigDiv_()},updateHeadigDiv_:function(){this.headingDiv_.innerHTML="";var b=document.createElement("span");b.classList.add("heading-arrow");b.textContent=!0===this.expanded?d:!1===this.expanded?a:"";this.headingDiv_.appendChild(b);this.selectionGenerator_?(this.headingLink_=document.createElement("a"),tracing.analysis.AnalysisLink.decorate(this.headingLink_),this.headingLink_.selectionGenerator=this.selectionGenerator_,
this.headingDiv_.appendChild(this.headingLink_),this.headingLink_.appendChild(document.createTextNode(this.heading_))):(b=document.createElement("span"),b.textContent=this.heading_,this.headingDiv_.appendChild(b));this.appendChild(this.headingDiv_)},draw:function(a,c,e){throw Error("draw implementation missing");}};return{HeadingTrack:c}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tracing.trace_model.SelectionState,a=tracing.EventPresenter,c=8,b=tv.ui.define("counter-track",tracing.tracks.HeadingTrack);b.prototype={__proto__:tracing.tracks.HeadingTrack.prototype,decorate:function(a){tracing.tracks.HeadingTrack.prototype.decorate.call(this,a);this.classList.add("counter-track")},get counter(){return this.counter_},set counter(a){this.counter_=a;this.heading=a.name+": "},draw:function(a,b,c){switch(a){case tracing.tracks.DrawType.SLICE:this.drawSlices_(b,
c)}},drawSlices_:function(b,c){var h=this.viewport.highDetails,g=this.context(),k=window.devicePixelRatio||1,l=this.getBoundingClientRect().height*k,m=l-2*k,n=this.counter_,p=this.viewport.currentDisplayTransform;p.xViewVectorToWorld(1);for(var q=p.xViewVectorToWorld(1),r=n.numSeries,t=n.numSamples,u=tv.findLowIndexInSortedArray(n.timestamps,function(a){return a},b),v=n.timestamps,u=0<u-1?u-1:0,z=m/n.maxTotal,H=n.numSeries-1;0<=H;H--){var F=n.series[H];g.strokeStyle=a.getCounterSeriesColor(F.color,
d.NONE);var G=function(d){for(var h=-1,w=u-1,B=0<=w?v[w]-q:-1,A=l,x=!1;;){w++;if(w>=t)break;var K=v[w],G=m-z*n.totals[w*r+H];if(K>c){x&&(B=K=c,g.lineTo(p.xWorldToView(K),A));break}if(w+1<t){var C=v[w+1];if(C-B<=q&&C<c)continue;K<b&&(K=b)}K-B<q&&B<K&&(K=B+q);C=F.samples[w].selectionState;x&&(g.lineTo(p.xWorldToView(K),A),C!=h&&(d?(g.lineTo(p.xWorldToView(K),l),g.closePath(),g.fill()):(g.lineTo(p.xWorldToView(K),G),g.stroke())));C!=h&&(g.fillStyle=a.getCounterSeriesColor(F.color,C,0.5),g.lineWidth=
1*k,g.beginPath(),d?g.moveTo(p.xWorldToView(K),l):g.moveTo(p.xWorldToView(K),x?A:G));g.lineTo(p.xWorldToView(K),G);x=!0;B=K;A=G;h=C}x&&(d?(g.lineTo(p.xWorldToView(B),l),g.closePath(),g.fill()):g.stroke())};G(!0);h&&G(!1);G=tv.findLowIndexInSortedArray(n.timestamps,function(a){return a},c);n.timestamps[G]==c&&G++;var C=u>=n.timestamps.length?b:n.timestamps[u],A=1>G?c:n.timestamps[G-1],G=(0.1-tv.clamp((G-u)/(p.scaleX*(C>=A?c-b:A-C)),0.05,0.1))/0.05;g.strokeStyle=a.getCounterSeriesColor(F.color,d.NONE);
C=void 0;for(A=u;v[A]<c;A++){var B=v[A],w=m-z*n.totals[A*r+H];if(F.samples[A].selected){var K=a.getCounterSeriesColor(F.color,F.samples[A].selectionState);K!==C&&(g.fillStyle=C=K);g.beginPath();g.arc(p.xWorldToView(B),w,2*k,0,2*Math.PI);g.fill();g.stroke()}else h&&(K=a.getCounterSeriesColor(F.color,F.samples[A].selectionState,G),K!==C&&(g.fillStyle=C=K),g.fillRect(p.xWorldToView(B)-1.5*k,w-1.5*k,3*k,3*k))}}},addEventsToTrackMap:function(a){for(var b=this.counter_.series,c=0;c<b.length;c++)for(var d=
b[c].samples,k=0;k<d.length;k++)a.addEvent(d[k],this)},addIntersectingItemsInRangeToSelectionInWorldSpace:function(a,b,d,g){function k(a,b){if(b===l.timestamps.length-1){var e=this.viewport.currentDisplayTransform.xViewVectorToWorld(1);return c*e}return l.timestamps[b+1]-l.timestamps[b]}var l=this.counter_;a=tv.findLowIndexInSortedIntervals(l.timestamps,function(a){return a},k.bind(this),a);for(b=tv.findLowIndexInSortedIntervals(l.timestamps,function(a){return a},k.bind(this),b);a<=b;a++)if(!(0>a)&&
!(a>=l.timestamps.length))for(d=0;d<this.counter.numSeries;d++)g.push(this.counter.series[d].samples[a])},addItemNearToProvidedEventToSelection:function(a,b,c){b=a.getSampleIndex()+b;if(0>b||b>=a.series.samples.length)return!1;c.push(a.series.samples[b]);return!0},addAllObjectsMatchingFilterToSelection:function(a,b){},addClosestEventToSelection:function(a,b,c,d,k){c=this.counter;if(c.numSeries)for(d=0;d<c.numSeries;d++){var l=tv.findClosestElementInSortedArray(c.series_[d].samples_,function(a){return a.timestamp},
a,b);l&&k.push(l)}}};return{CounterTrack:b}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tracing.TraceModelSettings,a=tv.ui.define("multi-row-track",tracing.tracks.ContainerTrack);a.prototype={__proto__:tracing.tracks.ContainerTrack.prototype,decorate:function(a){tracing.tracks.ContainerTrack.prototype.decorate.call(this,a);this.heading_=this.tooltip_="";this.itemsToGroup_=this.groupingSource_=void 0;this.defaultToCollapsedWhenSubRowCountMoreThan=1;this.itemsGroupedOnLastUpdateContents_=void 0;this.currentSubRows_=[];this.expanded_=!0},get itemsToGroup(){return this.itemsToGroup_},
setItemsToGroup:function(a,b){this.itemsToGroup_=a;this.groupingSource_=b;this.updateContents_();this.updateExpandedStateFromGroupingSource_()},get heading(){return this.heading_},set heading(a){this.heading_=a;this.updateContents_()},get tooltip(){return this.tooltip_},set tooltip(a){this.tooltip_=a;this.updateContents_()},get subRows(){return this.currentSubRows_},get hasVisibleContent(){return 0<this.children.length},get expanded(){return this.expanded_},set expanded(a){this.expanded_!=a&&(this.expanded_=
a,this.expandedStateChanged_())},onHeadingClicked_:function(a){1>=this.subRows.length||(this.expanded=!this.expanded,this.groupingSource_&&(new d(this.groupingSource_.model)).setSettingFor(this.groupingSource_,"expanded",this.expanded),a.stopPropagation())},updateExpandedStateFromGroupingSource_:function(){if(this.groupingSource_){var a=this.subRows.length,b=new d(this.groupingSource_.model);this.expanded=1<a?b.getSettingFor(this.groupingSource_,"expanded",a>this.defaultToCollapsedWhenSubRowCountMoreThan?
!1:!0):void 0}},expandedStateChanged_:function(){for(var a=Math.max(2,Math.ceil(18/this.children.length)),a=(this.expanded_?18:a)+"px",b=0;b<this.children.length;b++)this.children[b].height=a;0<this.children.length&&(this.children[0].expanded=this.expanded)},updateContents_:function(){tracing.tracks.ContainerTrack.prototype.updateContents_.call(this);if(this.itemsToGroup_)if(this.areArrayContentsSame_(this.itemsGroupedOnLastUpdateContents_,this.itemsToGroup_))this.updateHeadingAndTooltip_();else if(this.itemsGroupedOnLastUpdateContents_=
this.itemsToGroup_,this.detach(),this.itemsToGroup_.length){var a=this.buildSubRows_(this.itemsToGroup_);this.currentSubRows_=a;for(var b=0;b<a.length;b++){var d=a[b];d.length&&this.addSubTrack_(d).addEventListener("heading-clicked",this.onHeadingClicked_.bind(this))}this.updateHeadingAndTooltip_();this.expandedStateChanged_()}else this.currentSubRows_=[];else this.updateHeadingAndTooltip_(),this.currentSubRows_=[]},updateHeadingAndTooltip_:function(){this.firstChild&&(this.firstChild.heading=this.heading_,
this.firstChild.tooltip=this.tooltip_)},buildSubRows_:function(a){throw Error("Not implemented");},addSubTrack_:function(a){throw Error("Not implemented");},areArrayContentsSame_:function(a,b){if(!a||!b||(!a.length||!b.length)||a.length!=b.length)return!1;for(var d=0;d<a.length;++d)if(a[d]!=b[d])return!1;return!0}};return{MultiRowTrack:a}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tracing.trace_model.SelectionState,a=tracing.EventPresenter,c=tv.ui.define("object-instance-track",tracing.tracks.HeadingTrack);c.prototype={__proto__:tracing.tracks.HeadingTrack.prototype,decorate:function(a){tracing.tracks.HeadingTrack.prototype.decorate.call(this,a);this.classList.add("object-instance-track");this.objectInstances_=[];this.objectSnapshots_=[]},get objectInstances(){return this.objectInstances_},set objectInstances(a){!a||0==a.length?
(this.heading="",this.objectInstances_=[],this.objectSnapshots_=[]):(this.heading=a[0].typeName,this.objectInstances_=a,this.objectSnapshots_=[],this.objectInstances_.forEach(function(a){this.objectSnapshots_.push.apply(this.objectSnapshots_,a.snapshots)},this),this.objectSnapshots_.sort(function(a,b){return a.ts-b.ts}))},get height(){return window.getComputedStyle(this).height},set height(a){this.style.height=a},get snapshotRadiusView(){return 7*(window.devicePixelRatio||1)},draw:function(a,c,e){switch(a){case tracing.tracks.DrawType.SLICE:this.drawSlices_(c,
e)}},drawSlices_:function(b,c){var e=this.context(),h=window.devicePixelRatio||1,g=this.getBoundingClientRect(),k=g.height*h,l=0.5*k,m=2*Math.PI,n=this.viewport.currentDisplayTransform,p=this.snapshotRadiusView,q=n.xViewVectorToWorld(k),r;e.save();n.applyTransformToCanvas(e);var t=this.objectInstances_;r=tv.findLowIndexInSortedArray(t,function(a){return a.deletionTs},b);for(e.strokeStyle="rgb(0,0,0)";r<t.length;++r){var u=t[r],v=u.creationTs;if(v>c)break;var z=u.deletionTs==Number.MAX_VALUE?c:u.deletionTs;
e.fillStyle=a.getObjectInstanceColor(u);e.fillRect(v,h,z-v,k-2*h)}e.restore();u=this.objectSnapshots_;for(r=tv.findLowIndexInSortedArray(u,function(a){return a.ts+q},b);r<u.length;++r){z=u[r];v=z.ts;if(v-q>c)break;v=n.xWorldToView(v);e.fillStyle=a.getObjectSnapshotColor(z);e.beginPath();e.arc(v,l,p,0,m);e.fill();z.selected?(e.lineWidth=5,e.strokeStyle="rgb(100,100,0)",e.stroke(),e.beginPath(),e.arc(v,l,p-1,0,m),e.lineWidth=2,e.strokeStyle="rgb(255,255,0)"):(e.lineWidth=1,e.strokeStyle="rgb(0,0,0)");
e.stroke()}e.lineWidth=1;l=d.NONE;t.length&&t[0].selectionState===d.DIMMED&&(l=d.DIMMED);l===d.DIMMED&&(h*=g.width,e.fillStyle="rgba(255,255,255,0.5)",e.fillRect(0,0,h,k),e.restore())},addEventsToTrackMap:function(a){void 0!==this.objectInstance_&&this.objectInstance_.forEach(function(c){a.addEvent(c,this)},this);void 0!==this.objectSnapshots_&&this.objectSnapshots_.forEach(function(c){a.addEvent(c,this)},this)},addIntersectingItemsInRangeToSelectionInWorldSpace:function(a,c,e,d){var g=!1,k=e*this.snapshotRadiusView;
tv.iterateOverIntersectingIntervals(this.objectSnapshots_,function(a){return a.ts-k},function(a){return 2*k},a,c,function(a){d.push(a);g=!0});g||tv.iterateOverIntersectingIntervals(this.objectInstances_,function(a){return a.creationTs},function(a){return a.deletionTs-a.creationTs},a,c,d.push.bind(d))},addItemNearToProvidedEventToSelection:function(a,c,e){var d;if(a instanceof tracing.trace_model.ObjectSnapshot)d=this.objectSnapshots_;else if(a instanceof tracing.trace_model.ObjectInstance)d=this.objectInstances_;
else throw Error("Unrecognized event");a=d.indexOf(a)+c;return 0<=a&&a<d.length?(e.push(d[a]),!0):!1},addAllObjectsMatchingFilterToSelection:function(a,c){},addClosestEventToSelection:function(a,c,e,d,g){(a=tv.findClosestElementInSortedArray(this.objectSnapshots_,function(a){return a.ts},a,c))&&g.push(a)}};c.typeNameToTrackConstructorMap={};c.register=function(a,d){if(c.typeNameToTrackConstructorMap[a])throw Error("Handler already registered for "+a);c.typeNameToTrackConstructorMap[a]=d};c.getTrackConstructor=
function(a){return c.typeNameToTrackConstructorMap[a]};return{ObjectInstanceTrack:c}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("object-instance-group-track",tracing.tracks.MultiRowTrack);d.prototype={__proto__:tracing.tracks.MultiRowTrack.prototype,decorate:function(a){tracing.tracks.MultiRowTrack.prototype.decorate.call(this,a);this.classList.add("object-instance-group-track");this.objectInstances_=void 0},get objectInstances(){return this.itemsToGroup},set objectInstances(a){this.setItemsToGroup(a)},addSubTrack_:function(a){var c=new tracing.tracks.ObjectInstanceTrack(this.viewport);
c.objectInstances=a;this.appendChild(c);return c},buildSubRows_:function(a){a.sort(function(a,b){return a.creationTs-b.creationTs});for(var c=[],b=0;b<a.length;b++){for(var d=a[b],e=!1,h=0;h<c.length;h++){var g=c[h];if(d.creationTs>=g[g.length-1].deletionTs){e=!0;g.push(d);break}}e||(g=[d],c.push(g))}return c},updateHeadingAndTooltip_:function(){}};return{ObjectInstanceGroupTrack:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("spacing-track",tracing.tracks.HeadingTrack);d.prototype={__proto__:tracing.tracks.HeadingTrack.prototype,decorate:function(a){tracing.tracks.HeadingTrack.prototype.decorate.call(this,a);this.classList.add("spacing-track")},draw:function(a,c,b){},addAllObjectsMatchingFilterToSelection:function(a,c){}};return{SpacingTrack:d}});"use strict";
tv.exportTo("tracing",function(){function d(a,c,b,d){this.ctx_=a;this.minRectSize_=c;this.maxMergeDist_=b;this.pallette_=d}d.prototype={y_:0,h_:0,merging_:!1,mergeStartX_:0,mergeCurRight_:0,mergedColorId_:0,mergedAlpha_:0,setYandH:function(a,c){this.flush();this.y_=a;this.h_=c},fillRect:function(a,c,b,d){var e=a+c;if(c<this.minRectSize_)if(e-this.mergeStartX_>this.maxMergeDist_&&this.flush(),this.merging_){if(this.mergeCurRight_=e,this.mergedAlpha_<d||this.mergedAlpha_===d&&this.mergedColorId_<b)this.mergedAlpha_=
d,this.mergedColorId_=b}else this.merging_=!0,this.mergeStartX_=a,this.mergeCurRight_=e,this.mergedColorId_=b,this.mergedAlpha_=d;else this.merging_&&this.flush(),this.ctx_.fillStyle=this.pallette_[b],this.ctx_.globalAlpha=d,this.ctx_.fillRect(a,this.y_,c,this.h_)},flush:function(){this.merging_&&(this.ctx_.fillStyle=this.pallette_[this.mergedColorId_],this.ctx_.globalAlpha=this.mergedAlpha_,this.ctx_.fillRect(this.mergeStartX_,this.y_,this.mergeCurRight_-this.mergeStartX_,this.h_),this.merging_=
!1)}};return{FastRectRenderer:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("rect-track",tracing.tracks.HeadingTrack);d.prototype={__proto__:tracing.tracks.HeadingTrack.prototype,decorate:function(a){tracing.tracks.HeadingTrack.prototype.decorate.call(this,a);this.classList.add("rect-track");this.asyncStyle_=!1;this.rects_=null},get asyncStyle(){return this.asyncStyle_},set asyncStyle(a){this.asyncStyle_=!!a},get rects(){return this.rects_},set rects(a){this.rects_=a||[];this.invalidateDrawingContainer()},get height(){return window.getComputedStyle(this).height},
set height(a){this.style.height=a;this.invalidateDrawingContainer()},get hasVisibleContent(){return 0<this.rects_.length},addRectToSelection:function(a,c){throw Error("Not implemented.");},draw:function(a,c,b){switch(a){case tracing.tracks.DrawType.SLICE:this.drawRects_(c,b)}},drawRects_:function(a,c){var b=this.context();b.save();var d=this.getBoundingClientRect();tracing.drawSlices(b,this.viewport.currentDisplayTransform,a,c,d.height,this.rects_,this.asyncStyle_);b.restore();if(!(6>=d.height)){var e;
15>d.height?(d=6,e=1):(d=10,e=2.5);tracing.drawLabels(b,this.viewport.currentDisplayTransform,a,c,this.rects_,this.asyncStyle_,d,e)}},addEventsToTrackMap:function(a){void 0===this.rects_||null===this.rects_||this.rects_.forEach(function(c){a.addEvent(c,this)},this)},addIntersectingItemsInRangeToSelectionInWorldSpace:function(a,c,b,d){function e(a){this.addRectToSelection(a,d)}e=e.bind(this);tv.iterateOverIntersectingIntervals(this.rects_,function(a){return a.start},function(a){return a.duration},
a,c,e)},indexOfRect_:function(a){for(var c=tv.findLowIndexInSortedArray(this.rects_,function(a){return a.start},a.start);c<this.rects_.length&&a.start==this.rects_[c].start&&a.colorId!=this.rects_[c].colorId;)c++;return c<this.rects_.length?c:void 0},addItemNearToProvidedEventToSelection:function(a,c,b){a=this.indexOfRect_(a);if(void 0===a)return!1;c=a+c;if(0>c||c>=this.rects_.length)return!1;this.addRectToSelection(this.rects_[c],b);return!0},addAllObjectsMatchingFilterToSelection:function(a,c){for(var b=
0;b<this.rects_.length;++b)a.matchSlice(this.rects_[b])&&this.addRectToSelection(this.rects_[b],c)},addClosestEventToSelection:function(a,c,b,d,e){(a=tv.findClosestIntervalInSortedIntervals(this.rects_,function(a){return a.start},function(a){return a.end},a,c))&&this.addRectToSelection(a,e)}};return{RectTrack:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("sample-track",tracing.tracks.RectTrack);d.prototype={__proto__:tracing.tracks.RectTrack.prototype,decorate:function(a){tracing.tracks.RectTrack.prototype.decorate.call(this,a)},get samples(){return this.rects},set samples(a){this.rects=a},addRectToSelection:function(a,c){c.push(a)}};return{SampleTrack:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("slice-track",tracing.tracks.RectTrack);d.prototype={__proto__:tracing.tracks.RectTrack.prototype,decorate:function(a){tracing.tracks.RectTrack.prototype.decorate.call(this,a)},get slices(){return this.rects},set slices(a){this.rects=a},addRectToSelection:function(a,c){c.push(a)}};return{SliceTrack:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("slice-group-track",tracing.tracks.MultiRowTrack);d.prototype={__proto__:tracing.tracks.MultiRowTrack.prototype,decorate:function(a){tracing.tracks.MultiRowTrack.prototype.decorate.call(this,a);this.classList.add("slice-group-track");this.group_=void 0;this.defaultToCollapsedWhenSubRowCountMoreThan=100},addSubTrack_:function(a){var c=new tracing.tracks.SliceTrack(this.viewport);c.slices=a;this.appendChild(c);return c},get group(){return this.group_},
set group(a){this.group_=a;this.setItemsToGroup(this.group_.slices,this.group_)},buildSubRows_:function(a){if(!a.length)return[];for(var c=[],b=0;b<a.length;b++)a[b].subSlices&&a[b].subSlices.splice(0,a[b].subSlices.length),c.push(b);c.sort(function(b,c){var e=a[b],d=a[c];return e.start!=d.start?e.start-d.start:b-c});var d=[[]];this.badSlices_=[];for(b=0;b<c.length;b++){for(var e=a[c[b]],h=!1,g=d.length-1;0<=g;g--)if(0!=d[g].length){var k=d[g][d[g].length-1];e.start<k.start&&(this.badSlices_.push(e),
h=!0);if(k.bounds(e)){for(;d.length<=g+1;)d.push([]);d[g+1].push(e);k.subSlices&&k.subSlices.push(e);h=!0;break}}h||d[0].push(e)}return d}};return{SliceGroupTrack:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("async-slice-group-track",tracing.tracks.MultiRowTrack);d.prototype={__proto__:tracing.tracks.MultiRowTrack.prototype,decorate:function(a){tracing.tracks.MultiRowTrack.prototype.decorate.call(this,a);this.classList.add("async-slice-group-track");this.group_=void 0},addSubTrack_:function(a){var c=new tracing.tracks.SliceTrack(this.viewport);c.slices=a;this.appendChild(c);c.asyncStyle=!0;return c},get group(){return this.group_},set group(a){this.group_=
a;this.setItemsToGroup(this.group_.slices,this.group_)},buildSubRows_:function(a){a.sort(function(a,b){return a.start-b.start});for(var c=function(a,b,e){if(e>=b.length)return!0;var d=b[e];if(a.start>=d[d.length-1].end){if(void 0===a.subSlices||0===a.subSlices.length)return!0;for(d=0;d<a.subSlices.length;d++)if(!c(a.subSlices[d],b,e+1))return!1;return!0}return!1},b=[],d=0;d<a.length;d++){var e=a[d];e.isTopLevel=!0;for(var h=!1,g=b.length,k=0;k<b.length;k++)if(c(e,b,k)){h=!0;g=k;break}h||b.push([]);
b[g].push(e);var l=function(a,b,c){if(!(void 0===a||0===a.length)){b===c.length&&c.push([]);for(var e=0;e<a.length;e++)c[b].push(a[e]),l(a[e].subSlices,b+1,c)}};l(e.subSlices,g+1,b)}return b}};return{AsyncSliceGroupTrack:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("thread-track",tracing.tracks.ContainerTrack);d.prototype={__proto__:tracing.tracks.ContainerTrack.prototype,decorate:function(a){tracing.tracks.ContainerTrack.prototype.decorate.call(this,a);this.classList.add("thread-track")},get thread(){return this.thread_},set thread(a){this.thread_=a;this.updateContents_()},get hasVisibleContent(){return 0<this.tracks_.length},updateContents_:function(){this.detach();if(this.thread_){this.heading=this.thread_.userFriendlyName+
": ";this.tooltip=this.thread_.userFriendlyDetails;this.thread_.asyncSliceGroup.length&&this.appendAsyncSliceTracks_();this.appendThreadSamplesTracks_();if(this.thread_.timeSlices){var a=new tracing.tracks.SliceTrack(this.viewport);a.heading="";a.height=tracing.THIN_SLICE_HEIGHT+"px";a.slices=this.thread_.timeSlices;a.hasVisibleContent&&this.appendChild(a)}this.thread_.sliceGroup.length&&(a=new tracing.tracks.SliceGroupTrack(this.viewport),a.heading=this.thread_.userFriendlyName,a.tooltip=this.thread_.userFriendlyDetails,
a.group=this.thread_.sliceGroup,a.hasVisibleContent&&this.appendChild(a))}},appendAsyncSliceTracks_:function(){this.thread_.asyncSliceGroup.viewSubGroups.forEach(function(a){var c=new tracing.tracks.AsyncSliceGroupTrack(this.viewport),b=a.slices[0].viewSubGroupTitle;c.group=a;c.heading=b;c.hasVisibleContent&&this.appendChild(c)},this)},appendThreadSamplesTracks_:function(){var a=this.thread_.samples;if(!(void 0===a||0===a.length)){var c={};a.forEach(function(a){void 0===c[a.title]&&(c[a.title]=[]);
c[a.title].push(a)});a=tv.dictionaryKeys(c);a.sort();a.forEach(function(a){var d=c[a],e=new tracing.tracks.SampleTrack(this.viewport);e.group=this.thread_;e.samples=d;e.heading=this.thread_.userFriendlyName+": "+a;e.tooltip=this.thread_.userFriendlyDetails;e.selectionGenerator=function(){for(var a=new tracing.Selection,b=0;b<e.samples.length;b++)a.push(e.samples[b]);return a};this.appendChild(e)},this)}},collapsedDidChange:function(a){if(a){a=parseInt(this.tracks[0].height);for(var c=0;c<this.tracks.length;++c)2<
a?this.tracks[c].height=Math.floor(a)+"px":this.tracks[c].style.display="none",a*=0.5}else for(c=0;c<this.tracks.length;++c)this.tracks[c].height=this.tracks[0].height,this.tracks[c].style.display=""}};return{ThreadTrack:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tracing.analysis.ObjectSnapshotView,a=tracing.analysis.ObjectInstanceView,c=tracing.TraceModelSettings,b=tracing.tracks.SpacingTrack,f=tv.ui.define("process-track-base",tracing.tracks.ContainerTrack);f.prototype={__proto__:tracing.tracks.ContainerTrack.prototype,decorate:function(a){tracing.tracks.ContainerTrack.prototype.decorate.call(this,a);this.processBase_=void 0;this.classList.add("process-track-base");this.classList.add("expanded");this.processNameEl_=
tv.ui.createSpan();this.processNameEl_.classList.add("process-track-name");this.headerEl_=tv.ui.createDiv({className:"process-track-header"});this.headerEl_.appendChild(this.processNameEl_);this.headerEl_.addEventListener("click",this.onHeaderClick_.bind(this));this.appendChild(this.headerEl_)},get processBase(){return this.processBase_},set processBase(a){if(this.processBase_=a)this.expanded=(new c(this.processBase_.model)).getSettingFor(this.processBase_,"expanded",void 0!==this.processBase_.labels&&
1==this.processBase_.labels.length&&"chrome://tracing"==this.processBase_.labels[0]?!1:!0);this.updateContents_()},get expanded(){return this.classList.contains("expanded")},set expanded(a){a=!!a;this.expanded!==a&&(this.classList.toggle("expanded"),this.viewport_.dispatchChangeEvent(),this.processBase_&&(new c(this.processBase_.model)).setSettingFor(this.processBase_,"expanded",a))},get hasVisibleContent(){return this.expanded?1<this.children.length:!0},onHeaderClick_:function(a){a.stopPropagation();
a.preventDefault();this.expanded=!this.expanded},updateContents_:function(){this.tracks_.forEach(function(a){this.removeChild(a)},this);this.processBase_&&(this.processNameEl_.textContent=this.processBase_.userFriendlyName,this.headerEl_.title=this.processBase_.userFriendlyDetails,this.willAppendTracks_(),this.appendObjectInstanceTracks_(),this.appendCounterTracks_(),this.appendThreadTracks_(),this.didAppendTracks_())},addEventsToTrackMap:function(a){this.tracks_.forEach(function(b){b.addEventsToTrackMap(a)})},
willAppendTracks_:function(){},didAppendTracks_:function(){},appendObjectInstanceTracks_:function(){var c=this.processBase_.objects.getAllInstancesByTypeName(),f=tv.dictionaryKeys(c);f.sort();var g=!1;f.forEach(function(b){var f=c[b],h=a.getViewInfo(b),n=d.getViewInfo(b);h&&!h.options.showInTrackView&&(h=void 0);n&&!n.options.showInTrackView&&(n=void 0);for(var n=h||n,h=[],p=0;p<f.length;p++){var q=f[p];0!==q.snapshots.length&&(!q.hasImplicitSnapshots||n)&&h.push(q)}0!==h.length&&(f=tracing.tracks.ObjectInstanceTrack.getTrackConstructor(b),
f||(f=(n=d.getViewInfo(b))&&n.options.showInstances?tracing.tracks.ObjectInstanceGroupTrack:tracing.tracks.ObjectInstanceTrack),b=new f(this.viewport),b.objectInstances=h,this.appendChild(b),g=!0)},this);g&&this.appendChild(new b(this.viewport))},appendCounterTracks_:function(){var a=tv.dictionaryValues(this.processBase.counters);a.sort(tracing.trace_model.Counter.compare);a.forEach(function(a){var c=new tracing.tracks.CounterTrack(this.viewport);c.counter=a;this.appendChild(c);this.appendChild(new b(this.viewport))}.bind(this))},
appendThreadTracks_:function(){var a=tv.dictionaryValues(this.processBase.threads);a.sort(tracing.trace_model.Thread.compare);a.forEach(function(a){var c=new tracing.tracks.ThreadTrack(this.viewport);c.thread=a;c.hasVisibleContent&&(this.appendChild(c),this.appendChild(new b(this.viewport)))}.bind(this))}};return{ProcessTrackBase:f}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("cpu-track",tracing.tracks.ContainerTrack);d.prototype={__proto__:tracing.tracks.ContainerTrack.prototype,decorate:function(a){tracing.tracks.ContainerTrack.prototype.decorate.call(this,a);this.classList.add("cpu-track")},get cpu(){return this.cpu_},set cpu(a){this.cpu_=a;this.updateContents_()},get tooltip(){return this.tooltip_},set tooltip(a){this.tooltip_=a;this.updateContents_()},get hasVisibleContent(){return 0<this.children.length},
updateContents_:function(){this.detach();if(this.cpu_){var a=this.cpu_.slices;if(a.length){var c=new tracing.tracks.SliceTrack(this.viewport);c.slices=a;c.heading=this.cpu_.userFriendlyName+":";this.appendChild(c)}this.appendSamplesTracks_();for(var b in this.cpu_.counters)a=this.cpu_.counters[b],c=new tracing.tracks.CounterTrack(this.viewport),c.heading=this.cpu_.userFriendlyName+" "+a.name+":",c.counter=a,this.appendChild(c)}},appendSamplesTracks_:function(){var a=this.cpu_.samples;if(!(void 0===
a||0===a.length)){var c={};a.forEach(function(a){void 0===c[a.title]&&(c[a.title]=[]);c[a.title].push(a)});a=tv.dictionaryKeys(c);a.sort();a.forEach(function(a){var d=c[a],e=new tracing.tracks.SliceTrack(this.viewport);e.group=this.cpu_;e.slices=d;e.heading=this.cpu_.userFriendlyName+": "+a;e.tooltip=this.cpu_.userFriendlyDetails;e.selectionGenerator=function(){for(var a=new tracing.Selection,b=0;b<e.slices.length;b++)a.push(e.slices[b]);return a};this.appendChild(e)},this)}}};return{CpuTrack:d}});
"use strict";
tv.exportTo("tracing.tracks",function(){var d=tracing.tracks.ProcessTrackBase,a=tracing.tracks.SpacingTrack,c=tv.ui.define("kernel-track",d);c.prototype={__proto__:d.prototype,decorate:function(a){tracing.tracks.ProcessTrackBase.prototype.decorate.call(this,a)},set kernel(a){this.processBase=a},get kernel(){return this.processBase},willAppendTracks_:function(){var b=tv.dictionaryValues(this.kernel.cpus);b.sort(tracing.trace_model.Cpu.compare);for(var c=!1,e=0;e<b.length;++e){var d=b[e],g=new tracing.tracks.CpuTrack(this.viewport);
g.cpu=d;g.hasVisibleContent&&(this.appendChild(g),c=!0)}c&&this.appendChild(new a(this.viewport))}};return{KernelTrack:c}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tracing.tracks.ProcessTrackBase,a=tv.ui.define("process-track",d);a.prototype={__proto__:d.prototype,decorate:function(a){tracing.tracks.ProcessTrackBase.prototype.decorate.call(this,a)},drawTrack:function(a){switch(a){case tracing.tracks.DrawType.INSTANT_EVENT:if(!this.processBase.instantEvents||0===this.processBase.instantEvents.length)break;var b=this.context(),d=window.devicePixelRatio||1,e=this.getBoundingClientRect(),h=b.canvas.getBoundingClientRect();
b.save();b.translate(0,d*(e.top-h.top));var g=this.viewport.currentDisplayTransform,h=g.xViewToWorld(0),d=g.xViewToWorld(e.width*d);tracing.drawInstantSlicesAsLines(b,this.viewport.currentDisplayTransform,h,d,e.height,this.processBase.instantEvents,1);b.restore();break;case tracing.tracks.DrawType.BACKGROUND:this.drawBackground_();return}tracing.tracks.ContainerTrack.prototype.drawTrack.call(this,a)},drawBackground_:function(){var a=this.context(),b=a.canvas.getBoundingClientRect(),d=window.devicePixelRatio||
1,e=!1;a.fillStyle="#eee";for(var h=0;h<this.children.length;++h)if(this.children[h]instanceof tracing.tracks.Track&&!(this.children[h]instanceof tracing.tracks.SpacingTrack)&&(e=!e)){var g=this.children[h].getBoundingClientRect();a.fillRect(0,d*(g.top-b.top),a.canvas.width,d*g.height)}},set process(a){this.processBase=a},get process(){return this.processBase},addIntersectingItemsInRangeToSelectionInWorldSpace:function(a,b,d,e){tv.iterateOverIntersectingIntervals(this.processBase.instantEvents,function(a){return a.start},
function(a){return a.duration},a,b,function(a){e.push(a)}.bind(this));tracing.tracks.ContainerTrack.prototype.addIntersectingItemsInRangeToSelectionInWorldSpace.apply(this,arguments)},addClosestEventToSelection:function(a,b,d,e,h){this.addClosestInstantEventToSelection(this.processBase.instantEvents,a,b,h);tracing.tracks.ContainerTrack.prototype.addClosestEventToSelection.apply(this,arguments)}};return{ProcessTrack:a}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("trace-model-track",tracing.tracks.ContainerTrack);d.highlighterConstructors_=[];d.registerHighlighter=function(a){d.highlighterConstructors_.push(a)};d.prototype={__proto__:tracing.tracks.ContainerTrack.prototype,decorate:function(a){tracing.tracks.ContainerTrack.prototype.decorate.call(this,a);this.classList.add("model-track");this.highlighters_=[];for(var c=0;c<d.highlighterConstructors_.length;c++)this.highlighters_.push(new d.highlighterConstructors_[c](a))},
detach:function(){tracing.tracks.ContainerTrack.prototype.detach.call(this)},get model(){return this.model_},set model(a){this.model_=a;this.updateContents_()},get hasVisibleContent(){return 0<this.children.length},updateContents_:function(){this.textContent="";if(this.model_){this.appendKernelTrack_();var a=this.model_.getAllProcesses();a.sort(tracing.trace_model.Process.compare);for(var c=0;c<a.length;++c){var b=a[c],d=new tracing.tracks.ProcessTrack(this.viewport);d.process=b;d.hasVisibleContent&&
this.appendChild(d)}this.viewport_.rebuildEventToTrackMap();for(c=0;c<this.highlighters_.length;c++)this.highlighters_[c].processModel(this.model_)}},addEventsToTrackMap:function(a){if(this.model_){for(var c=this.children,b=0;b<c.length;++b)c[b].addEventsToTrackMap(a);void 0!==this.instantEvents&&this.instantEvents.forEach(function(b){a.addEvent(b,this)}.bind(this))}},appendKernelTrack_:function(){var a=new tracing.tracks.KernelTrack(this.viewport);a.kernel=this.model.kernel;a.hasVisibleContent&&
this.appendChild(a)},drawTrack:function(a){var c=this.context(),b=window.devicePixelRatio||1,d=this.getBoundingClientRect(),e=c.canvas.getBoundingClientRect();c.save();c.translate(0,b*(d.top-e.top));var e=this.viewport.currentDisplayTransform,h=e.xViewToWorld(0),b=e.xViewToWorld(d.width*b);switch(a){case tracing.tracks.DrawType.GRID:this.viewport.drawMajorMarkLines(c);c.restore();return;case tracing.tracks.DrawType.FLOW_ARROWS:if(0===this.model_.flowIntervalTree.size){c.restore();return}this.drawFlowArrows_(h,
b);c.restore();return;case tracing.tracks.DrawType.INSTANT_EVENT:if(!this.model_.instantEvents||0===this.model_.instantEvents.length)break;tracing.drawInstantSlicesAsLines(c,this.viewport.currentDisplayTransform,h,b,d.height,this.model_.instantEvents,1);break;case tracing.tracks.DrawType.MARKERS:this.viewport.interestRange.isEmpty||(this.viewport.interestRange.draw(c,h,b),this.viewport.interestRange.drawIndicators(c,h,b));c.restore();return;case tracing.tracks.DrawType.HIGHLIGHTS:for(a=0;a<this.highlighters_.length;a++)this.highlighters_[a].drawHighlight(c,
e,h,b,d.height);c.restore();return}c.restore();tracing.tracks.ContainerTrack.prototype.drawTrack.call(this,a)},drawFlowArrows_:function(a,c){var b=this.context(),d=this.viewport.currentDisplayTransform;d.applyTransformToCanvas(b);d=d.xViewVectorToWorld(1);b.strokeStyle="rgba(0, 0, 0, 0.4)";b.fillStyle="rgba(0, 0, 0, 0.4)";b.lineWidth=1<d?1:d;for(var e=this.model_.flowIntervalTree.findIntersection(a,c),h=2*d,g=b.canvas.getBoundingClientRect(),k=0;k<e.length;++k){var l=e[k][0],m=e[k][1];m.start-l.start<=
h||this.drawFlowArrowBetween_(b,l,m,g,d)}},drawFlowArrowBetween_:function(a,c,b,d,e){var h=window.devicePixelRatio||1,g=this.viewport.trackForEvent(c),k=this.viewport.trackForEvent(b),l=g.getBoundingClientRect(),m=k.getBoundingClientRect();if(c.selected||b.selected)a.shadowBlur=1,a.shadowColor="red",a.shadowOffsety=2,a.strokeStyle="red";var n=m.left+m.top+m.bottom+m.right;if(!(0===l.left+l.top+l.bottom+l.right&&0===n)){g=this.calculateTrackY_(g,d);d=this.calculateTrackY_(k,d);k=h*g;d*=h;g=(b.start-
c.start)/2;a.beginPath();a.moveTo(c.start,k);a.bezierCurveTo(c.start+g,k,c.start+g,d,b.start,d);a.stroke();if(c.selected||b.selected)a.shadowBlur=0,a.shadowOffsetX=0,a.strokeStyle="rgba(0, 0, 0, 0.4)";e=5*e*h;b.start-c.start<=2*e||(c=b.start,h*=m.height/4,tracing.drawTriangle(a,c,d,c-e,d-h,c-e,d+h),a.fill())}},calculateTrackY_:function(a,c){var b=a.getBoundingClientRect();return 0===b.left+b.top+b.bottom+b.right?this.calculateTrackY_(a.parentNode,c):b.top-c.top+b.height/2},addIntersectingItemsInRangeToSelectionInWorldSpace:function(a,
c,b,d){tv.iterateOverIntersectingIntervals(this.model_.instantEvents,function(a){return a.start},function(a){return a.duration},a,c,function(a){d.push(a)}.bind(this));tracing.tracks.ContainerTrack.prototype.addIntersectingItemsInRangeToSelectionInWorldSpace.apply(this,arguments)},addClosestEventToSelection:function(a,c,b,d,e){this.addClosestInstantEventToSelection(this.model_.instantEvents,a,c,e);tracing.tracks.ContainerTrack.prototype.addClosestEventToSelection.apply(this,arguments)}};return{TraceModelTrack:d}});
"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("ruler-track",tracing.tracks.HeadingTrack),a=Math.log(10);d.prototype={__proto__:tracing.tracks.HeadingTrack.prototype,decorate:function(a){tracing.tracks.HeadingTrack.prototype.decorate.call(this,a);this.classList.add("ruler-track");this.strings_secs_=[];this.strings_msecs_=[];this.viewportChange_=this.viewportChange_.bind(this);a.addEventListener("change",this.viewportChange_)},detach:function(){tracing.tracks.HeadingTrack.prototype.detach.call(this);this.viewport.removeEventListener("change",
this.viewportChange_)},viewportChange_:function(){this.viewport.interestRange.isEmpty?this.classList.remove("tall-mode"):this.classList.add("tall-mode")},draw:function(a,b,d){switch(a){case tracing.tracks.DrawType.SLICE:this.drawSlices_(b,d);break;case tracing.tracks.DrawType.MARKERS:this.viewport.interestRange.isEmpty||this.viewport.interestRange.draw(this.context(),b,d)}},drawSlices_:function(c,b){for(var d=this.context(),e=window.devicePixelRatio||1,h=d.canvas.getBoundingClientRect(),g=h.width*
e,k=h.height*e,l=!this.viewport.interestRange.isEmpty,m=l?2*k/5:k,n=this.viewport,h=n.currentDisplayTransform,p=150*e,e=h.xViewVectorToWorld(p),q,e=Math.pow(10,Math.ceil(Math.log(e)/a)),r=[10,5,2,1],t=0;t<r.length;++t)if(!(h.xWorldVectorToView(e/r[t])<p)){q=e/r[t-1];break}var u=void 0;100>q?(p="ms",r=1,u=this.strings_msecs_):(p="s",r=1E3,u=this.strings_secs_);var v=h.xWorldVectorToView(q/5),t=Math.floor(c/q)*q,z=Math.floor(0.25*m);d.save();e=window.devicePixelRatio||1;d.lineWidth=Math.round(e);var H=
d.lineWidth%2/2;d.translate(H,-H);d.fillStyle="rgb(0, 0, 0)";d.strokeStyle="rgb(0, 0, 0)";d.textAlign="left";d.textBaseline="top";d.font=9*e+"px sans-serif";n.majorMarkPositions=[];d.beginPath();for(H=t;H<b;H+=q){var F=Math.floor(h.xWorldToView(H)),t=Math.floor(1E5*(H/r))/1E5;u[t]||(u[t]=t+" "+p);d.fillText(u[t],F+2*e,0);n.majorMarkPositions.push(F);tracing.drawLine(d,F,0,F,m);for(t=1;5>t;++t){var G=Math.floor(F+v*t);tracing.drawLine(d,G,m-z,G,m)}}d.strokeStyle="rgb(0, 0, 0)";tracing.drawLine(d,0,
k,g,k);d.stroke();l&&(tracing.drawLine(d,0,m,g,m),d.stroke(),q=10*e,m*=1.75,k=3*e,l=10*e,t=2*(k+q),d.textBaseline="middle",d.font=14*e+"px sans-serif",u=n.interestRange,0===u.range?(n=u.min,h=h.xWorldToView(n),r=Math.abs(Math.floor(1E3*(n/r))/1E3),p=r+" "+p,r=h+4*e,v=d.measureText(p).width,r+v>g&&(r=h-4*e-v),d.fillStyle="rgb(0,0,0)",d.fillText(p,r,m)):(p=u.max,e=h.xWorldToView(u.min),n=h.xWorldToView(p),v=u.range,u=h.xWorldVectorToView(v),h=e+u/2,100>v?(p="ms",r=1):(p="s",r=1E3),p=Math.abs(Math.floor(1E3*
(v/r))/1E3)+" "+p,v=d.measureText(p).width,H=v+t+q,r=h-v/2,z=r+v,H>u?(r=n+2*q,r+v>g&&(r=e-2*q-v),d.fillStyle="rgb(0,0,0)",d.fillText(p,r,m),d.strokeStyle="rgb(128,121,121)",d.beginPath(),tracing.drawLine(d,e,m,n,m),d.stroke(),d.fillStyle="rgb(128,121,121)",tracing.drawArrow(d,e-1.5*q,m,e,m,l,k),tracing.drawArrow(d,n+1.5*q,m,n,m,l,k)):t<=u&&(H<=u?(d.fillStyle="rgb(0,0,0)",d.fillText(p,r,m),g=r-q,h=z+q):g=h,d.strokeStyle="rgb(128,121,121)",d.fillStyle="rgb(128,121,121)",tracing.drawArrow(d,g,m,e,m,
l,k),tracing.drawArrow(d,h,m,n,m,l,k)),d.restore()))},addIntersectingItemsInRangeToSelection:function(a,b,d,e,h){},addAllObjectsMatchingFilterToSelection:function(a,b){}};return{RulerTrack:d}});"use strict";
tv.exportTo("tracing",function(){var d=tracing.Selection,a=tracing.trace_model.SelectionState,c=tracing.TimelineViewport,b=new tracing.TimelineDisplayTransform,f=tv.ui.define("div");f.prototype={__proto__:HTMLDivElement.prototype,model_:null,decorate:function(){this.classList.add("timeline-track-view");this.viewport_=new c(this);this.viewportDisplayTransformAtMouseDown_=null;this.rulerTrackContainer_=new tracing.tracks.DrawingContainer(this.viewport_);this.appendChild(this.rulerTrackContainer_);this.rulerTrackContainer_.invalidate();
this.rulerTrack_=new tracing.tracks.RulerTrack(this.viewport_);this.rulerTrackContainer_.appendChild(this.rulerTrack_);this.modelTrackContainer_=new tracing.tracks.DrawingContainer(this.viewport_);this.appendChild(this.modelTrackContainer_);this.modelTrackContainer_.style.display="block";this.modelTrackContainer_.invalidate();this.viewport_.modelTrackContainer=this.modelTrackContainer_;this.modelTrack_=new tracing.tracks.TraceModelTrack(this.viewport_);this.modelTrackContainer_.appendChild(this.modelTrack_);
this.timingTool_=new tracing.TimingTool(this.viewport_,this);this.initMouseModeSelector();this.dragBox_=this.ownerDocument.createElement("div");this.dragBox_.className="drag-box";this.appendChild(this.dragBox_);this.hideDragBox_();this.initHintText_();this.bindEventListener_(document,"keypress",this.onKeypress_,this);this.bindEventListener_(document,"keydown",this.onKeydown_,this);this.bindEventListener_(document,"keyup",this.onKeyup_,this);this.bindEventListener_(this,"dblclick",this.onDblClick_,
this);this.bindEventListener_(this,"mousewheel",this.onMouseWheel_,this);this.addEventListener("mousemove",this.onMouseMove_);this.addEventListener("touchstart",this.onTouchStart_);this.addEventListener("touchmove",this.onTouchMove_);this.addEventListener("touchend",this.onTouchEnd_);this.mouseViewPosAtMouseDown_={x:0,y:0};this.lastMouseViewPos_={x:0,y:0};this.lastTouchViewPositions_=[];this.selection_=new d;this.highlight_=new d;this.isZooming_=this.isPanningAndScanning_=!1},bindEventListener_:function(a,
b,c,d){this.boundListeners_||(this.boundListeners_=[]);c=c.bind(d);this.boundListeners_.push({object:a,event:b,boundFunc:c});a.addEventListener(b,c)},initMouseModeSelector:function(){this.mouseModeSelector_=new tv.ui.MouseModeSelector(this);this.appendChild(this.mouseModeSelector_);this.mouseModeSelector_.addEventListener("beginpan",this.onBeginPanScan_.bind(this));this.mouseModeSelector_.addEventListener("updatepan",this.onUpdatePanScan_.bind(this));this.mouseModeSelector_.addEventListener("endpan",
this.onEndPanScan_.bind(this));this.mouseModeSelector_.addEventListener("beginselection",this.onBeginSelection_.bind(this));this.mouseModeSelector_.addEventListener("updateselection",this.onUpdateSelection_.bind(this));this.mouseModeSelector_.addEventListener("endselection",this.onEndSelection_.bind(this));this.mouseModeSelector_.addEventListener("beginzoom",this.onBeginZoom_.bind(this));this.mouseModeSelector_.addEventListener("updatezoom",this.onUpdateZoom_.bind(this));this.mouseModeSelector_.addEventListener("endzoom",
this.onEndZoom_.bind(this));this.mouseModeSelector_.addEventListener("entertiming",this.timingTool_.onEnterTiming.bind(this.timingTool_));this.mouseModeSelector_.addEventListener("begintiming",this.timingTool_.onBeginTiming.bind(this.timingTool_));this.mouseModeSelector_.addEventListener("updatetiming",this.timingTool_.onUpdateTiming.bind(this.timingTool_));this.mouseModeSelector_.addEventListener("endtiming",this.timingTool_.onEndTiming.bind(this.timingTool_));this.mouseModeSelector_.addEventListener("exittiming",
this.timingTool_.onExitTiming.bind(this.timingTool_));var a=tv.ui.MOUSE_SELECTOR_MODE;this.mouseModeSelector_.supportedModeMask=a.SELECTION|a.PANSCAN|a.ZOOM|a.TIMING;this.mouseModeSelector_.settingsKey="timelineTrackView.mouseModeSelector";this.mouseModeSelector_.setKeyCodeForMode(a.PANSCAN,50);this.mouseModeSelector_.setKeyCodeForMode(a.SELECTION,49);this.mouseModeSelector_.setKeyCodeForMode(a.ZOOM,51);this.mouseModeSelector_.setKeyCodeForMode(a.TIMING,52);this.mouseModeSelector_.setModifierForAlternateMode(a.SELECTION,
tv.ui.MODIFIER.SHIFT);this.mouseModeSelector_.setModifierForAlternateMode(a.PANSCAN,tv.ui.MODIFIER.SPACE);this.mouseModeSelector_.setModifierForAlternateMode(a.ZOOM,tv.ui.MODIFIER.CMD_OR_CTRL)},detach:function(){this.modelTrack_.detach();for(var a=0;a<this.boundListeners_.length;a++){var b=this.boundListeners_[a];b.object.removeEventListener(b.event,b.boundFunc)}this.boundListeners_=void 0;this.viewport_.detach()},get viewport(){return this.viewport_},get model(){return this.model_},set model(a){if(!a)throw Error("Model cannot be null");
var b=this.model_!==a;this.model_=a;this.modelTrack_.model=a;b&&this.viewport_.setWhenPossible(this.setInitialViewport_.bind(this));tv.setPropertyAndDispatchChange(this,"model",a)},get hasVisibleContent(){return this.modelTrack_.hasVisibleContent},setInitialViewport_:function(){this.modelTrackContainer_.updateCanvasSizeIfNeeded_();var a=this.modelTrackContainer_.canvas.width,c,d;this.model_.bounds.isEmpty?(c=0,d=1E3):0===this.model_.bounds.range?(c=this.model_.bounds.min,d=1E3):(c=this.model_.bounds.min,
d=this.model_.bounds.range);var f=0.15*d;b.set(this.viewport_.currentDisplayTransform);b.xSetWorldBounds(c-f,c+d+f,a);this.viewport_.setDisplayTransformImmediately(b)},addAllObjectsMatchingFilterToSelection:function(a,b){this.modelTrack_.addAllObjectsMatchingFilterToSelection(a,b)},get focusElement(){return this.focusElement_?this.focusElement_:this.parentElement},set focusElement(a){this.focusElement_=a},get listenToKeys_(){return!this.viewport_.isAttachedToDocumentOrInTestMode||this.activeElement instanceof
TracingFindControl?!1:!this.focusElement_?!0:0<=this.focusElement.tabIndex?document.activeElement==this.focusElement?!0:tv.ui.elementIsChildOf(document.activeElement,this.focusElement):!0},onMouseMove_:function(a){this.isZooming_||this.storeLastMousePos_(a)},onTouchStart_:function(a){this.storeLastTouchPositions_(a);this.focusElements_()},onTouchMove_:function(a){a.preventDefault();this.onUpdateTransformForTouch_(a)},onTouchEnd_:function(a){this.storeLastTouchPositions_(a);this.focusElements_()},
onKeypress_:function(a){if(this.listenToKeys_&&"INPUT"!=document.activeElement.nodeName){var b=this.modelTrackContainer_.canvas.clientWidth;switch(a.keyCode){case 119:case 44:this.zoomBy_(1.5,!0);break;case 115:case 111:this.zoomBy_(1/1.5,!0);break;case 103:this.onGridToggle_(!0);break;case 71:this.onGridToggle_(!1);break;case 87:case 60:this.zoomBy_(10,!0);break;case 83:case 79:this.zoomBy_(0.1,!0);break;case 97:this.queueSmoothPan_(0.3*b,0);break;case 100:case 101:this.queueSmoothPan_(-0.3*b,0);
break;case 65:this.queueSmoothPan_(0.5*b,0);break;case 68:this.queueSmoothPan_(-0.5*b,0);break;case 48:this.setInitialViewport_();break;case 102:this.zoomToSelection();break;case 109:this.setCurrentSelectionAsInterestRange_();break;case 118:this.toggleHighlightVSync_();break;case 104:this.toggleHighDetails_()}}},onKeydown_:function(a){if(this.listenToKeys_){var b,c=this.modelTrackContainer_.canvas.clientWidth;switch(a.keyCode){case 37:(b=this.selection.getShiftedSelection(this.viewport,-1))?(this.setSelectionAndClearHighlight(b),
this.panToSelection(),a.preventDefault()):this.queueSmoothPan_(0.3*c,0);break;case 39:(b=this.selection.getShiftedSelection(this.viewport,1))?(this.setSelectionAndClearHighlight(b),this.panToSelection(),a.preventDefault()):this.queueSmoothPan_(0.3*-c,0);break;case 9:-1==this.focusElement.tabIndex&&(a.shiftKey?this.selectPrevious_(a):this.selectNext_(a),a.preventDefault())}}},onKeyup_:function(a){this.listenToKeys_&&(a.shiftKey||this.dragBeginEvent_&&this.setDragBoxPosition_(this.dragBoxXStart_,this.dragBoxYStart_,
this.dragBoxXEnd_,this.dragBoxYEnd_))},onDblClick_:function(a){if(this.mouseModeSelector_.mode===tv.ui.MOUSE_SELECTOR_MODE.SELECTION&&this.selection.length&&this.selection[0].title){a=new d;var b=new tracing.ExactTitleFilter(this.selection[0].title);this.addAllObjectsMatchingFilterToSelection(b,a);this.setSelectionAndClearHighlight(a)}},onMouseWheel_:function(a){if(a.altKey){var b=Math.pow(1.5,a.wheelDelta/120);this.zoomBy_(b);a.preventDefault()}},queueSmoothPan_:function(a,b){var c=this.viewport_.currentDisplayTransform.xViewVectorToWorld(a),
c=new tracing.TimelineDisplayTransformPanAnimation(c,b);this.viewport_.queueDisplayTransformAnimation(c)},zoomBy_:function(a,c){if(!(0>=a)){c=!!c;var d=this.viewport_,f=this.modelTrackContainer_.canvas.clientWidth,l=this.lastMouseViewPos_.x*(window.devicePixelRatio||1),m=d.currentDisplayTransform.xViewToWorld(l);c?(f=new tracing.TimelineDisplayTransformZoomToAnimation(m,l,d.currentDisplayTransform.panY,a),d.queueDisplayTransformAnimation(f)):(b.set(d.currentDisplayTransform),b.scaleX*=a,b.xPanWorldPosToViewPos(m,
l,f),d.setDisplayTransformImmediately(b))}},zoomToSelection:function(){if(this.selectionOfInterest.length){var a=this.selectionOfInterest.bounds;a.range&&(a=new tracing.TimelineDisplayTransformZoomToAnimation(a.center,this.modelTrackContainer_.canvas.width/2,this.viewport_.currentDisplayTransform.panY,this.modelTrackContainer_.canvas.width/(1.25*a.range)/this.viewport_.currentDisplayTransform.scaleX),this.viewport_.queueDisplayTransformAnimation(a))}},panToSelection:function(){var a;if(this.selectionOfInterest.length){a=
this.selectionOfInterest.bounds;var c=this.modelTrackContainer_.canvas.width,d=this.viewport_.currentDisplayTransform;b.set(d);b.xPanWorldBoundsIntoView(a.min,a.max,c);a=b.panX-d.panX;a=new tracing.TimelineDisplayTransformPanAnimation(a,0);this.viewport_.queueDisplayTransformAnimation(a)}},setCurrentSelectionAsInterestRange_:function(){var a=this.selection.bounds;a.empty?this.viewport_.interestRange.reset():this.viewport_.interestRange.min==a.min&&this.viewport_.interestRange.max==a.max?this.viewport_.interestRange.reset():
this.viewport_.interestRange.set(a)},toggleHighlightVSync_:function(){this.viewport_.highlightVSync=!this.viewport_.highlightVSync},toggleHighDetails_:function(){this.viewport_.highDetails=!this.viewport_.highDetails},set selection(a){this.setSelectionAndHighlight(a,this.highlight_)},get selection(){return this.selection_},set highlight(a){this.setSelectionAndHighlight(this.selection_,a)},get highlight(){return this.highlight_},get selectionOfInterest(){return!this.selection_.length&&this.highlight_.length?
this.highlight_:this.selection_},setSelectionAndClearHighlight:function(a){this.setSelectionAndHighlight(a,null)},setHighlightAndClearSelection:function(a){this.setSelectionAndHighlight(null,a)},setSelectionAndHighlight:function(b,c){if(!(b===this.selection_&&c===this.highlight_)){if(null!==b&&!(b instanceof d)||null!==c&&!(c instanceof d))throw Error("Expected Selection");c&&c.length?(this.resetEventsTo_(a.DIMMED),c!==this.highlight_&&(this.highlight_=c),this.setSelectionState_(c,a.HIGHLIGHTED)):
(this.resetEventsTo_(a.NONE),this.highlight_=new d);b&&b.length?(b!==this.selection_&&(this.selection_=b),this.setSelectionState_(b,a.SELECTED)):this.selection_=new d;tv.dispatchSimpleEvent(this,"selectionChange");this.showHintText_("Press 'm' to mark current selection");if(this.selectionOfInterest.length){var f=this.viewport_.trackForEvent(this.selectionOfInterest[0]);f&&f.scrollIntoViewIfNeeded()}this.viewport_.dispatchChangeEvent()}},setSelectionState_:function(a,b){for(var c=0;c<a.length;c++)a[c].selectionState=
b},resetEventsTo_:function(b){var c=this.highlight_.length;c&&b!==a.DIMMED||!c&&b===a.DIMMED?this.model.iterateAllEvents(function(a){a.selectionState=b}):(this.setSelectionState_(this.selection_,b),this.setSelectionState_(this.highlight_,b))},hideDragBox_:function(){this.dragBox_.style.left="-1000px";this.dragBox_.style.top="-1000px";this.dragBox_.style.width=0;this.dragBox_.style.height=0},setDragBoxPosition_:function(a,b,c,d){var f=Math.min(b,d);d=Math.max(b,d);b=Math.min(a,c);a=Math.max(a,c);this.modelTrack_.getBoundingClientRect();
c=b+(a-b);d=f+(d-f);var m=this.modelTrackContainer_.getBoundingClientRect(),n=m.left,p=m.top,q=m.right,m=m.bottom,r=window.getComputedStyle(this.querySelector("heading")).width,r=parseInt(r),n=n+r;r={};b>q||c<n||f>m||d<p?f=!1:(r.left=Math.max(n,b),r.top=Math.max(p,f),r.right=Math.min(q,c),r.bottom=Math.min(m,d),r.width=r.right-r.left,r.height=r.bottom-r.top,f=r);this.dragBox_.style.left=f.left+"px";this.dragBox_.style.width=f.width+"px";this.dragBox_.style.top=f.top+"px";this.dragBox_.style.height=
f.height+"px";f=window.devicePixelRatio||1;c=this.modelTrackContainer_.canvas;d=this.viewport_.currentDisplayTransform;b=d.xViewToWorld((b-c.offsetLeft)*f);a=d.xViewToWorld((a-c.offsetLeft)*f);f=Math.round(100*(a-b))/100;this.dragBox_.textContent=f+"ms";f=new tv.Event("selectionChanging");f.loWX=b;f.hiWX=a;this.dispatchEvent(f)},onGridToggle_:function(a){var b=a?this.selection.bounds.min:this.selection.bounds.max;if(this.viewport_.gridEnabled&&this.viewport_.gridSide===a&&this.viewport_.gridInitialTimebase===
b)this.viewport_.gridside=void 0,this.viewport_.gridEnabled=!1,this.viewport_.gridInitialTimebase=void 0;else{var c=Math.ceil((b-this.model_.bounds.min)/this.viewport_.gridStep_);this.viewport_.gridEnabled=!0;this.viewport_.gridSide=a;this.viewport_.gridInitialTimebase=b;this.viewport_.gridTimebase=b-(c+1)*this.viewport_.gridStep_}},storeLastMousePos_:function(a){this.lastMouseViewPos_=this.extractRelativeMousePosition_(a)},storeLastTouchPositions_:function(a){this.lastTouchViewPositions_=this.extractRelativeTouchPositions_(a)},
extractRelativeMousePosition_:function(a){var b=this.modelTrackContainer_.canvas;return{x:a.clientX-b.offsetLeft,y:a.clientY-b.offsetTop}},extractRelativeTouchPositions_:function(a){for(var b=this.modelTrackContainer_.canvas,c=[],d=0;d<a.touches.length;++d)c.push({x:a.touches[d].clientX-b.offsetLeft,y:a.touches[d].clientY-b.offsetTop});return c},storeInitialMouseDownPos_:function(a){a=this.extractRelativeMousePosition_(a);this.mouseViewPosAtMouseDown_.x=a.x;this.mouseViewPosAtMouseDown_.y=a.y},focusElements_:function(){document.activeElement&&
document.activeElement.blur();0<=this.focusElement.tabIndex&&this.focusElement.focus()},storeInitialInteractionPositionsAndFocus_:function(a){this.storeInitialMouseDownPos_(a);this.storeLastMousePos_(a);this.focusElements_()},onBeginPanScan_:function(a){this.viewportDisplayTransformAtMouseDown_=this.viewport_.currentDisplayTransform.clone();this.isPanningAndScanning_=!0;this.storeInitialInteractionPositionsAndFocus_(a);a.preventDefault()},onUpdatePanScan_:function(a){if(this.isPanningAndScanning_){var c=
(window.devicePixelRatio||1)*(this.lastMouseViewPos_.x-this.mouseViewPosAtMouseDown_.x),d=this.lastMouseViewPos_.y-this.mouseViewPosAtMouseDown_.y;b.set(this.viewportDisplayTransformAtMouseDown_);b.incrementPanXInViewUnits(c);b.panY-=d;this.viewport_.setDisplayTransformImmediately(b);a.preventDefault();a.stopPropagation();this.storeLastMousePos_(a)}},onEndPanScan_:function(a){this.isPanningAndScanning_=!1;this.storeLastMousePos_(a);a.isClick||a.preventDefault()},onBeginSelection_:function(a){var b=
this.modelTrackContainer_.canvas,c=this.modelTrack_.getBoundingClientRect(),b=b.getBoundingClientRect();c&&(a.clientX>=c.left&&a.clientX<c.right&&a.clientY>=c.top&&a.clientY<c.bottom&&a.clientX>=b.left&&a.clientX<b.right)&&(this.dragBeginEvent_=a,this.storeInitialInteractionPositionsAndFocus_(a),a.preventDefault())},onUpdateSelection_:function(a){this.dragBeginEvent_&&(this.dragBoxXStart_=this.dragBeginEvent_.clientX,this.dragBoxXEnd_=a.clientX,this.dragBoxYStart_=this.dragBeginEvent_.clientY,this.dragBoxYEnd_=
a.clientY,this.setDragBoxPosition_(this.dragBoxXStart_,this.dragBoxYStart_,this.dragBoxXEnd_,this.dragBoxYEnd_))},onEndSelection_:function(a){a.preventDefault();if(this.dragBeginEvent_){this.hideDragBox_();var b=this.dragBeginEvent_;this.dragBeginEvent_=null;var c=Math.min(b.clientY,a.clientY),f=Math.max(b.clientY,a.clientY),l=Math.min(b.clientX,a.clientX);a=Math.max(b.clientX,a.clientX);b=this.modelTrackContainer_.canvas.getBoundingClientRect().left;l-=b;b=a-b;a=new d;this.modelTrack_.addIntersectingItemsInRangeToSelection(l,
b,c,f,a);c=new tracing.RequestSelectionChangeEvent;c.selection=a;this.dispatchEvent(c)}},onBeginZoom_:function(a){this.isZooming_=!0;this.storeInitialInteractionPositionsAndFocus_(a);a.preventDefault()},onUpdateZoom_:function(a){if(this.isZooming_){var b=this.extractRelativeMousePosition_(a);this.zoomBy_(1+0.01*(this.lastMouseViewPos_.y-b.y),!1);this.storeLastMousePos_(a)}},onEndZoom_:function(a){this.isZooming_=!1;a.isClick||a.preventDefault()},computeTouchCenter_:function(a){for(var b=0,c=0,d=0;d<
a.length;++d)b+=a[d].x,c+=a[d].y;return{x:b/a.length,y:c/a.length}},computeTouchSpan_:function(a){for(var b=Number.MAX_VALUE,c=Number.MAX_VALUE,d=Number.MIN_VALUE,f=Number.MIN_VALUE,m=0;m<a.length;++m)b=Math.min(b,a[m].x),c=Math.min(c,a[m].y),d=Math.max(d,a[m].x),f=Math.max(f,a[m].y);return Math.sqrt((b-d)*(b-d)+(c-f)*(c-f))},onUpdateTransformForTouch_:function(a){var c=this.extractRelativeTouchPositions_(a),d=this.lastTouchViewPositions_,f=this.computeTouchCenter_(c),l=this.computeTouchCenter_(d),
m=this.computeTouchSpan_(c),n=this.computeTouchSpan_(d),d=this.viewport_,c=this.modelTrackContainer_.canvas.clientWidth,p=window.devicePixelRatio||1,q=p*(f.x-l.x),l=f.y-l.y,m=10<n?m/n:1,f=p*f.x,p=d.currentDisplayTransform.xViewToWorld(f);b.set(d.currentDisplayTransform);b.scaleX*=m;b.xPanWorldPosToViewPos(p,f,c);b.incrementPanXInViewUnits(q);b.panY-=l;d.setDisplayTransformImmediately(b);this.storeLastTouchPositions_(a)},initHintText_:function(){this.hintTextBox_=this.ownerDocument.createElement("div");
this.hintTextBox_.className="hint-text";this.hintTextBox_.style.display="none";this.appendChild(this.hintTextBox_);this.pendingHintTextClearTimeout_=void 0},showHintText_:function(a){this.pendingHintTextClearTimeout_&&(window.clearTimeout(this.pendingHintTextClearTimeout_),this.pendingHintTextClearTimeout_=void 0);this.pendingHintTextClearTimeout_=setTimeout(this.hideHintText_.bind(this),1E3);this.hintTextBox_.textContent=a;this.hintTextBox_.style.display=""},hideHintText_:function(){this.pendingHintTextClearTimeout_=
void 0;this.hintTextBox_.style.display="none"}};return{TimelineTrackView:f}});"use strict";
Polymer("tracing-find-control",{filterKeyDown:function(d){d.stopPropagation();13===d.keyCode&&(d.shiftKey?this.findPrevious():this.findNext())},filterKeyPress:function(d){d.stopPropagation()},filterBlur:function(d){this.updateHitCountEl()},filterFocus:function(d){this.controller.reset();this.filterTextChanged();this.$.filter.select()},filterMouseUp:function(d){d.preventDefault()},get controller(){return this.controller_},set controller(d){this.controller_=d;this.updateHitCountEl()},focus:function(){this.$.filter.focus()},
hasFocus:function(){return this===document.activeElement},filterTextChanged:function(){this.controller.filterText=this.$.filter.value;this.updateHitCountEl()},findNext:function(){this.controller&&this.controller.findNext();this.updateHitCountEl()},findPrevious:function(){this.controller&&this.controller.findPrevious();this.updateHitCountEl()},updateHitCountEl:function(){if(!this.controller||!this.hasFocus())this.$.hitCount.textContent="";else{var d=this.controller.filterHits.length;this.$.hitCount.textContent=
(0===d?-1:this.controller.currentHitIndex)+1+" of "+d}}});"use strict";tv.exportTo("cc",function(){function d(a){this.traceModel=a}d.prototype={get browserProcess(){var a=void 0;this.traceModel.getAllProcesses().forEach(function(c){0!==c.findAllThreadsNamed("CrBrowserMain").length&&(a=c)});return a},get rendererProcesses(){var a=[];this.traceModel.getAllProcesses().forEach(function(c){0!==c.findAllThreadsNamed("CrRendererMain").length&&a.push(c)});return a}};return{ChromeBrowser:d}});"use strict";
tv.exportTo("tv.ui",function(){function d(a,b,c){var d;c?(c=Math.max(b-1,0),d=b):(c=b,d=Math.min(b+1,a.length-1));return 0.5*(a[b].x-a[c].x)+0.5*(a[d].x-a[b].x)}var a=tv.ui.ChartBase,c=tv.ui.getColorOfKey,b=tv.ui.define("line-chart",a);b.prototype={__proto__:a.prototype,decorate:function(){a.prototype.decorate.call(this);this.classList.add("line-chart");this.brushedRange_=new tv.Range;this.xScale_=d3.scale.linear();this.yScale_=d3.scale.linear();d3.select(this.chartAreaElement).append("g").attr("id",
"brushes");d3.select(this.chartAreaElement).append("g").attr("id","series");this.addEventListener("mousedown",this.onMouseDown_.bind(this))},set data(a){if(0==a.length)throw Error("Data must be nonzero. Pass undefined.");var b;if(void 0!==a){if(void 0===a[0].x)throw Error('Elements must have "x" fields');b=d3.keys(a[0]);b.splice(b.indexOf("x"),1);if(0==b.length)throw Error("Elements must have at least one other field than X");}else b=void 0;this.data_=a;this.seriesKeys_=b;this.updateContents_()},
set brushedRange(a){this.brushedRange_.reset();this.brushedRange_.addRange(a);this.updateContents_()},computeBrushRangeFromIndices:function(a,b){var c=new tv.Range,g=Math.min(a,b),k=Math.max(a,b),g=Math.max(0,g),k=Math.min(this.data_.length-1,k);c.addValue(this.data_[g].x-d(this.data_,g,!0));c.addValue(this.data_[k].x+d(this.data_,k,!1));return c},getLegendKeys_:function(){return this.seriesKeys_&&1<this.seriesKeys_.length?this.seriesKeys_.slice():[]},updateScales_:function(a,b){if(void 0!==this.data_){this.xScale_.range([0,
a]);this.xScale_.domain(d3.extent(this.data_,function(a){return a.x}));var c=new tv.Range;this.data_.forEach(function(a){this.seriesKeys_.forEach(function(b){c.addValue(a[b])})},this);this.yScale_.range([b,0]);this.yScale_.domain([c.min,c.max])}},updateContents_:function(){a.prototype.updateContents_.call(this);if(this.data_){var b=d3.select(this.chartAreaElement),d=this.brushedRange_.isEmpty?[]:[this.brushedRange_],d=b.select("#brushes").selectAll("rect").data(d);d.enter().append("rect");d.exit().remove();
d.attr("x",function(a){return this.xScale_(a.min)}.bind(this)).attr("y",0).attr("width",function(a){return this.xScale_(a.max)-this.xScale_(a.min)}.bind(this)).attr("height",this.chartAreaSize.height);b=b.select("#series").selectAll("path").data(this.seriesKeys_);b.enter().append("path").attr("class","line").style("stroke",function(a){return c(a)}).attr("d",function(a){return d3.svg.line().x(function(a){return this.xScale_(a.x)}.bind(this)).y(function(b){return this.yScale_(b[a])}.bind(this))(this.data_)}.bind(this));
b.exit().remove()}},getDataIndexAtClientPoint_:function(a,b,c){var d=this.getBoundingClientRect(),k=this.margin,l=this.chartAreaSize;b=b-d.top-k.top;if(!c||!(0>b||b>=l.height)){a=this.xScale_.invert(a-d.left-k.left);var m;this.data_&&(m=d3.bisector(function(a){return a.x}).right,m=m(this.data_,a)-1);return m}},onMouseDown_:function(a){var b=this.getDataIndexAtClientPoint_(a.clientX,a.clientY,!0);void 0!==b&&tv.ui.trackMouseMovesUntilMouseUp(this.onMouseMove_.bind(this,a.button),this.onMouseUp_.bind(this,
a.button));a.preventDefault();a.stopPropagation();var c=new Event("item-mousedown");c.data=this.data_[b];c.index=b;c.buttons=a.buttons;this.dispatchEvent(c)},onMouseMove_:function(a,b){var c=this.getDataIndexAtClientPoint_(b.clientX,b.clientY,!1);void 0!==b.buttons&&(b.preventDefault(),b.stopPropagation());var d=new Event("item-mousemove");d.data=this.data_[c];d.index=c;d.button=a;this.dispatchEvent(d)},onMouseUp_:function(a,b){var c=this.getDataIndexAtClientPoint_(b.clientX,b.clientY,!1);b.preventDefault();
b.stopPropagation();var d=new Event("item-mouseup");d.data=this.data_[c];d.index=c;d.button=a;this.dispatchEvent(d)}};return{LineChart:b}});"use strict";
tv.exportTo("tracing",function(){function d(a,b){var c=new tv.ui.LineChart,d=600;void 0!=document.body.clientWidth&&(d=0.5*document.body.clientWidth);c.setSize({width:d,height:c.height});c.chartTitle=b;c.data=a;return c}function a(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];a.intersectsExplicitRange(e.start,e.end)&&c.push(e)}return c}function c(b,c,d,f){var l=[],n=[],m=[];if(void 0===f)return m;var p=new cc.ChromeBrowser(b);b=p.rendererProcesses;var p=p.browserProcess,q;if(void 0!==p&&p.pid===
f)q=p;else for(p=0;p<b.length;p++)if(b[p].pid===f){q=b[p];break}if(void 0===q)return m;q.iterateAllEvents(function(a){a.title===e&&l.push(a);a.title===h&&n.push(a)});f=[];c===g?f=a(d,l):c===k&&(f=a(d,n));f.sort(function(a,b){return a.start-b.start});for(p=1;p<f.length;p++)m.push({x:f[p].start,frametime:f[p].start-f[p-1].start});return m}function b(b,c){var d=[];b.getAllThreads().forEach(function(a){a.iterateAllEvents(function(a){0===a.title.indexOf("InputLatency")&&d.push(a)})});var d=a(c,d),e=[],
f=0;d.forEach(function(a){if("data"in a.args){var b=a.args.data;if(p in b){var c=b[p].time;if(m in b)f=c-b[m].time;else if(l in b)f=c-b[l].time;else if(n in b)f=c-b[n].time;else throw Error("No valid begin latency component");e.push({x:a.start,latency:f/1E3})}}});e.sort(function(a,b){return a.x-b.x});return e}var f=document.currentScript.ownerDocument,e="BenchmarkInstrumentation::MainThreadRenderingStats",h="BenchmarkInstrumentation::ImplThreadRenderingStats",g="main_frametime_type",k="impl_frametime_type",
l="INPUT_EVENT_LATENCY_UI_COMPONENT",m="INPUT_EVENT_LATENCY_ORIGINAL_COMPONENT",n="INPUT_EVENT_LATENCY_BEGIN_RWH_COMPONENT",p="INPUT_EVENT_LATENCY_TERMINATED_FRAME_SWAP_COMPONENT",q=tv.ui.define("x-input-latency-side-panel",tracing.TimelineViewSidePanel);q.textLabel="Input Latency";q.supportsModel=function(a){if(void 0==a)return{supported:!1,reason:"Unknown tracing model"};var b=new cc.ChromeBrowser(a);if(void 0===b.browserProcess&&0===b.rendererProcesses.length)return{supported:!1,reason:"No browser and renderer process found"};
var c=!1;a.getAllThreads().forEach(function(a){a.iterateAllEvents(function(a){0===a.title.indexOf("InputLatency")&&(c=!0)})});return c?{supported:!0}:{supported:!1,reason:'No InputLatency events trace. Consider enabling benchmark" and "input" category when recording the trace'}};q.prototype={__proto__:tracing.TimelineViewSidePanel.prototype,decorate:function(){tracing.TimelineViewSidePanel.prototype.decorate.call(this);this.classList.add("x-input-latency-side-panel");this.appendChild(tv.instantiateTemplate("#x-input-latency-side-panel-template",
f));this.rangeOfInterest_=new tv.Range;this.frametimeType_=k;this.curMouseIndex_=this.mouseDownIndex_=this.selectedProcess_=this.frametimeChart_=this.latencyChart_=void 0},get model(){return this.model_},set model(a){this.model_=a;this.updateToolbar_();this.updateContents_()},get frametimeType(){return this.frametimeType_},set frametimeType(a){this.frametimeType_!==a&&(this.frametimeType_=a,this.updateContents_())},get selectedProcess(){return this.selectedProcess_},set selectedProcess(a){this.selectedProcess_!==
a&&(this.selectedProcess_=a,this.updateContents_())},set selection(a){void 0!==this.latencyChart_&&(this.latencyChart_.brushedRange=a.bounds)},setBrushedIndices:function(a,b){this.mouseDownIndex_=a;this.curMouseIndex_=b;this.updateBrushedRange_()},updateBrushedRange_:function(){if(void 0!==this.latencyChart_){var b=new tv.Range;if(void 0===this.mouseDownIndex_)this.latencyChart_.brushedRange=b;else{b=this.latencyChart_.computeBrushRangeFromIndices(this.mouseDownIndex_,this.curMouseIndex_);this.latencyChart_.brushedRange=
b;var c=[];this.model_.getAllThreads().forEach(function(a){a.iterateAllEvents(function(a){0===a.title.indexOf("InputLatency:")&&c.push(a)})});c=a(b,c);b=new tracing.RequestSelectionChangeEvent;b.selection=new tracing.Selection(c);this.latencyChart_.dispatchEvent(b)}}},registerMouseEventForLatencyChart_:function(){this.latencyChart_.addEventListener("item-mousedown",function(a){this.curMouseIndex_=this.mouseDownIndex_=a.index;this.updateBrushedRange_()}.bind(this));this.latencyChart_.addEventListener("item-mousemove",
function(a){void 0!=a.button&&(this.curMouseIndex_=a.index,this.updateBrushedRange_())}.bind(this));this.latencyChart_.addEventListener("item-mouseup",function(a){this.curMouseIndex=a.index;this.updateBrushedRange_()}.bind(this))},updateToolbar_:function(){var a=new cc.ChromeBrowser(this.model_),b=a.rendererProcesses,a=a.browserProcess,c=[];void 0!==a&&c.push({label:"Browser: "+a.pid,value:a.pid});b.forEach(function(a){c.push({label:"Renderer: "+a.pid,value:a.pid})});0!==c.length&&(this.selectedProcess_=
c[0].value,b=this.querySelector("toolbar"),b.appendChild(tv.ui.createSelector(this,"frametimeType","inputLatencySidePanel.frametimeType",this.frametimeType_,[{label:"Main Thread Frame Times",value:g},{label:"Impl Thread Frame Times",value:k}])),b.appendChild(tv.ui.createSelector(this,"selectedProcess","inputLatencySidePanel.selectedProcess",this.selectedProcess_,c)))},updateContents_:function(){var a=this.querySelector("result-area");this.frametimeChart_=this.latencyChart_=void 0;a.textContent="";
if(void 0!==this.model_){var e;e=this.rangeOfInterest_.isEmpty?this.model_.bounds:this.rangeOfInterest_;var f=c(this.model_,this.frametimeType,e,this.selectedProcess_),g=tv.Statistics.mean(f,function(a){return a.frametime});e=b(this.model_,e);var h=tv.Statistics.mean(e,function(a){return a.latency}),k=document.createElement("div");k.appendChild(tv.ui.createSpan({textContent:"Average Latency "+h+"ms",bold:!0}));a.appendChild(k);h=document.createElement("div");h.appendChild(tv.ui.createSpan({textContent:"Average Frame Time "+
g+"ms",bold:!0}));a.appendChild(h);0!=e.length&&(this.latencyChart_=d(e,"Latency Over Time"),this.registerMouseEventForLatencyChart_(),a.appendChild(this.latencyChart_));0!=f.length&&(this.frametimeChart_=d(f,"Frame Times"),this.frametimeChart_.style.display="block",a.appendChild(this.frametimeChart_))}},get rangeOfInterest(){return this.rangeOfInterest_},set rangeOfInterest(a){this.rangeOfInterest_=a;this.updateContents_()}};tracing.TimelineViewSidePanel.registerPanelSubtype(q);return{createLatencyLineChart:d,
getLatencyData:b,getFrametimeData:c,InputLatencySidePanel:q}});"use strict";
tv.exportTo("tracing",function(){function d(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];a.intersectsExplicitRange(e.start,e.end)&&c.push(e)}return c}function a(a,b,c,d){function e(a,b){return c(a)-c(b)}a=a.filter(function(a){return 0!=c(a)});var f=tv.Statistics.sum(a,c);void 0!==d&&(f+=d);a.sort(e);for(d=0.1*f;1<a.length;){f=a[0];if(c(f)>=d)break;if(c(f)+c(b)>d)break;a.splice(0,1);b.appendGroupContents(f)}0<c(b)&&a.push(b);a.sort(e);return a}function c(a,b,c,d){var f=new tv.ui.PieChart;f.addEventListener("item-click",
function(a){a=a.data.resultsForGroup;if(void 0!==a){var b=new tracing.RequestSelectionChangeEvent;b.selection=new tracing.Selection(a.allSlices);b.selection.timeSummaryGroupName=a.name;f.dispatchEvent(b)}});var h=[];a.forEach(function(a){var b=c(a);0!==b&&h.push({label:a.name,value:b,valueText:e(b)+"ms",resultsForGroup:a})});d&&h.push.apply(h,d);f.chartTitle=b;f.data=h;return f}function b(a,b){this.model=a;this.name=b;this.topLevelSlices=[];this.allSlices=[]}var f=document.currentScript.ownerDocument,
e=tracing.analysis.tsRound;b.prototype={get wallTime(){return tv.Statistics.sum(this.topLevelSlices,function(a){return a.duration})},get cpuTime(){for(var a=0,b=0;b<this.topLevelSlices.length;b++){var c=this.topLevelSlices[b];if(void 0===c.cpuDuration){if(void 0!==c.duration)return 0}else a+=c.cpuDuration}return a},appendGroupContents:function(a){if(a.model!=this.model)throw Error("Models must be the same");a.allSlices.forEach(function(a){this.allSlices.push(a)},this);a.topLevelSlices.forEach(function(a){this.topLevelSlices.push(a)},
this)},appendThreadSlices:function(a,b){var c=d(a,b.sliceGroup.slices);c.forEach(function(a){this.allSlices.push(a)},this);c=d(a,b.sliceGroup.topLevelSlices);c.forEach(function(a){this.topLevelSlices.push(a)},this)}};var h=tv.ui.define("x-time-summary-side-panel",tracing.TimelineViewSidePanel);h.textLabel="Thread Times";h.supportsModel=function(a){return{supported:!0}};h.prototype={__proto__:tracing.TimelineViewSidePanel.prototype,decorate:function(){tracing.TimelineViewSidePanel.prototype.decorate.call(this);
this.classList.add("x-time-summary-side-panel");this.appendChild(tv.instantiateTemplate("#x-time-summary-side-panel-template",f));this.rangeOfInterest_=new tv.Range;this.selection_=void 0;this.groupBy_="process";this.groupingUnit_="CPU time";this.showCpuIdleTime_=!0;this.chart_=void 0;var a=this.querySelector("toolbar");this.groupBySelector_=tv.ui.createSelector(this,"groupBy","timeSummarySidePanel.groupBy",this.groupBy_,[{label:"Group by process",value:"process"},{label:"Group by thread",value:"thread"}]);
a.appendChild(this.groupBySelector_);this.groupingUnitSelector_=tv.ui.createSelector(this,"groupingUnit","timeSummarySidePanel.groupingUnit",this.groupingUnit_,[{label:"Wall time",value:"Wall time"},{label:"CPU time",value:"CPU time"}]);a.appendChild(this.groupingUnitSelector_);this.showCpuIdleTimeCheckbox_=tv.ui.createCheckBox(this,"showCpuIdleTime","timeSummarySidePanel.showCpuIdleTime",this.showCpuIdleTime_,"Show CPU idle time");a.appendChild(this.showCpuIdleTimeCheckbox_);this.updateShowCpuIdleTimeCheckboxVisibility_()},
get model(){return this.model_},set model(a){this.model_=a;this.updateContents_()},get groupBy(){return groupBy_},set groupBy(a){this.groupBy_=a;this.groupBySelector_&&(this.groupBySelector_.selectedValue=a);this.updateContents_()},get groupingUnit(){return groupingUnit_},set groupingUnit(a){this.groupingUnit_=a;this.groupingUnitSelector_&&(this.groupingUnitSelector_.selectedValue=a);this.updateShowCpuIdleTimeCheckboxVisibility_();this.updateContents_()},get showCpuIdleTime(){return this.showCpuIdleTime_},
set showCpuIdleTime(a){this.showCpuIdleTime_=a;this.showCpuIdleTimeCheckbox_&&(this.showCpuIdleTimeCheckbox_.checked=a);this.updateContents_()},updateShowCpuIdleTimeCheckboxVisibility_:function(){this.showCpuIdleTimeCheckbox_&&(this.showCpuIdleTimeCheckbox_.style.display="CPU time"==this.groupingUnit_?"":"none")},getGroupNameForThread_:function(a){if("thread"==this.groupBy_)return a.name?a.name:a.userFriendlyName;if("process"==this.groupBy_)return a.parent.userFriendlyName},updateContents_:function(){var d=
this.querySelector("result-area");this.chart_=void 0;d.textContent="";if(void 0!==this.model_){var f;f=this.rangeOfInterest_.isEmpty?this.model_.bounds:this.rangeOfInterest_;var h=new b(this.model_,"all"),m={};this.model_.getAllThreads().forEach(function(a){var c=this.getGroupNameForThread_(a);void 0===m[c]&&(m[c]=new b(this.model_,c));m[c].appendThreadSlices(f,a);h.appendThreadSlices(f,a)},this);var n=function(a){return"Wall time"==this.groupingUnit_?a.wallTime:a.cpuTime}.bind(this),p=document.createElement("div");
p.appendChild(tv.ui.createSpan({textContent:"Total "+this.groupingUnit_+": ",bold:!0}));p.appendChild(tv.ui.createSpan({textContent:e(n(h))+"ms"}));d.appendChild(p);var q=0,p=[];if(this.showCpuIdleTime_&&"CPU time"===this.groupingUnit_&&void 0!==this.model.kernel.bestGuessAtCpuCount){var r=Math.max(0,f.range*this.model.kernel.bestGuessAtCpuCount-h.cpuTime);p.push({label:"CPU Idle",value:r,valueText:e(r)+"ms"});q+=r}r=new b(this.model_,"Other");q=a(tv.dictionaryValues(m),r,n,q);0==q.length?d.appendChild(tv.ui.createSpan({textContent:"No data"})):
(this.chart_=c(q,this.groupingUnit_+" breakdown by "+this.groupBy_,n,p),d.appendChild(this.chart_),this.chart_.addEventListener("click",function(){var a=new tracing.RequestSelectionChangeEvent;a.selection=new tracing.Selection([]);this.dispatchEvent(a)}),this.chart_.setSize(this.chart_.getMinSize()))}},get selection(){return selection_},set selection(a){this.selection_=a;void 0!==this.chart_&&(this.chart_.highlightedLegendKey=a.timeSummaryGroupName?a.timeSummaryGroupName:void 0)},get rangeOfInterest(){return this.rangeOfInterest_},
set rangeOfInterest(a){this.rangeOfInterest_=a;this.updateContents_()}};tracing.TimelineViewSidePanel.registerPanelSubtype(h);return{trimPieChartData:a,createPieChartFromResultGroups:c,ResultsForGroup:b,TimeSummarySidePanel:h,GROUP_BY_PROCESS_NAME:"process",GROUP_BY_THREAD_NAME:"thread",WALL_TIME_GROUPING_UNIT:"Wall time",CPU_TIME_GROUPING_UNIT:"CPU time"}});"use strict";
tv.exportTo("tracing",function(){var d=document.currentScript.ownerDocument,a=tv.ui.define("x-timeline-view");a.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){var a=tv.instantiateTemplate("#timeline-view-template",d);this.appendChild(a);this.titleEl_=this.querySelector(".title");this.leftControlsEl_=this.querySelector("#left-controls");this.rightControlsEl_=this.querySelector("#right-controls");this.timelineViewSidePanelContainer_=this.querySelector("x-timeline-view-side-panel-container");
this.trackViewContainer_=this.querySelector("track-view-container");tv.ui.decorate(this.timelineViewSidePanelContainer_,tracing.TimelineViewSidePanelContainer);this.findCtl_=new TracingFindControl;this.findCtl_.controller=new tracing.FindController;this.showFlowEvents_=!1;this.rightControls.appendChild(tv.ui.createCheckBox(this,"showFlowEvents","tracing.TimelineView.showFlowEvents",!1,"Flow events"));this.rightControls.appendChild(this.createMetadataButton_());this.rightControls.appendChild(this.findCtl_);
this.rightControls.appendChild(this.createHelpButton_());this.dragEl_=this.querySelector("x-drag-handle");tv.ui.decorate(this.dragEl_,tv.ui.DragHandle);this.analysisEl_=this.querySelector("#analysis");this.addEventListener("requestSelectionChange",this.onRequestSelectionChange_.bind(this));this.onViewportChanged_=this.onViewportChanged_.bind(this);this.onSelectionChanged_=this.onSelectionChanged_.bind(this);document.addEventListener("keydown",this.onKeyDown_.bind(this),!0);document.addEventListener("keypress",
this.onKeypress_.bind(this),!0);this.dragEl_.target=this.analysisEl_;this.selections_={};window.addEventListener("popstate",this.onPopState_.bind(this))},get showFlowEvents(){return this.showFlowEvents_},set showFlowEvents(a){this.showFlowEvents_=a;this.trackView_&&(this.trackView_.viewport.showFlowEvents=a)},createHelpButton_:function(){var a=tv.instantiateTemplate("#help-btn-template",d),b=a.querySelector(".view-help-button"),f=a.querySelector(".view-help-text"),e=new tv.ui.Overlay;e.title="chrome://tracing Help";
e.classList.add("view-help-overlay");e.appendChild(a);b.addEventListener("click",function(a){e.visible=!e.visible;for(var b=tv.isMac?"cmd ":"ctrl",c=f.querySelectorAll("span.mod"),d=0;d<c.length;d++)c[d].textContent=b;a.stopPropagation();return!1}.bind(this));return b},createMetadataButton_:function(){var a=tv.instantiateTemplate("#metadata-btn-template",d),b=a.querySelector(".view-metadata-button"),f=a.querySelector(".info-button-text"),e=new tv.ui.Overlay;e.title="Metadata for trace";e.classList.add("view-metadata-overlay");
e.appendChild(a);b.addEventListener("click",function(a){e.visible=!0;var b=[],c=this.model,d;for(d in c.metadata){var m=c.metadata[d],n=JSON.stringify(m.name),m=JSON.stringify(m.value,void 0," ");b.push(n+": "+m)}f.textContent=b.join("\n");a.stopPropagation();return!1}.bind(this));a=function(){b.style.display=this.model&&this.model.metadata.length?"":"none"}.bind(this);a();this.addEventListener("modelChange",a);return b},get leftControls(){return this.leftControlsEl_},get rightControls(){return this.rightControlsEl_},
get viewTitle(){return this.titleEl_.textContent.substring(this.titleEl_.textContent.length-2)},set viewTitle(a){void 0===a?(this.titleEl_.textContent="",this.titleEl_.hidden=!0):(this.titleEl_.hidden=!1,this.titleEl_.textContent=a)},get model(){if(this.trackView_)return this.trackView_.model},set model(a){var b=a!=this.model,d=a&&!a.bounds.isEmpty;b&&(this.trackViewContainer_.textContent="",this.trackView_&&(this.trackView_.viewport.removeEventListener("change",this.onViewportChanged_),this.trackView_.removeEventListener("selectionChange",
this.onSelectionChanged_),this.trackView_.detach(),this.trackView_=void 0,this.findCtl_.controller.trackView=void 0),this.timelineViewSidePanelContainer_.model=void 0);d&&!this.trackView_&&(this.trackView_=new tracing.TimelineTrackView,this.trackView_.focusElement=this.focusElement_?this.focusElement_:this.parentElement,this.trackViewContainer_.appendChild(this.trackView_),this.findCtl_.controller.timeline=this.trackView_,this.trackView_.addEventListener("selectionChange",this.onSelectionChanged_),
this.trackView_.viewport.addEventListener("change",this.onViewportChanged_));d&&(this.trackView_.model=a,this.timelineViewSidePanelContainer_.model=a,this.trackView_.viewport.showFlowEvents=this.showFlowEvents,this.clearSelectionHistory_());tv.dispatchSimpleEvent(this,"modelChange");b&&(this.onSelectionChanged_(),this.onViewportChanged_())},get timeline(){return this.trackView_},get settings(){this.settings_||(this.settings_=new tv.Settings);return this.settings_},set focusElement(a){this.focusElement_=
a;this.trackView_&&(this.trackView_.focusElement=a)},get focusElement(){return this.focusElement_?this.focusElement_:this.parentElement},get listenToKeys_(){if(tv.ui.isElementAttachedToDocument(this))return!this.focusElement_?!0:0<=this.focusElement.tabIndex?document.activeElement==this.focusElement:!0},onKeyDown_:function(a){this.listenToKeys_&&27===a.keyCode&&(this.focus(),a.preventDefault())},onKeypress_:function(a){this.listenToKeys_&&(47===a.keyCode?(this.findCtl_.hasFocus()?this.focus():this.findCtl_.focus(),
a.preventDefault()):63===a.keyCode&&(this.querySelector(".view-help-button").click(),a.preventDefault()))},onSelectionChanged_:function(a){a=this.trackViewContainer_.scrollTop;var b=this.trackView_?this.trackView_.selectionOfInterest:new tracing.Selection;this.analysisEl_.selection=b;this.trackViewContainer_.scrollTop=a;this.timelineViewSidePanelContainer_.selection=b},onRequestSelectionChange_:function(a){this.selections_[a.selection.guid]=a.selection;window.history.pushState({selection_guid:a.selection.guid});
this.trackView_.selection=a.selection;a.stopPropagation()},onPopState_:function(a){if(null!==a.state){var b=this.selections_[a.state.selection_guid];b&&(this.trackView_.selection=b);a.stopPropagation()}},clearSelectionHistory_:function(){this.selections_={}},onViewportChanged_:function(a){a=this.timelineViewSidePanelContainer_;if(this.trackView_){var b=this.trackView_.viewport.interestRange.asRangeObject();a.rangeOfInterest.equals(b)||(a.rangeOfInterest=b)}else a.rangeOfInterest.reset()}};return{TimelineView:a}});
!function(d){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=d();else if("function"==typeof define&&define.amd)define([],d);else{var a;"undefined"!=typeof window?a=window:"undefined"!=typeof global?a=global:"undefined"!=typeof self&&(a=self);a.JSZip=d()}}(function(){return function a(c,b,f){function e(g,l){if(!b[g]){if(!c[g]){var m="function"==typeof require&&require;if(!l&&m)return m(g,!0);if(h)return h(g,!0);throw Error("Cannot find module '"+g+"'");}m=b[g]={exports:{}};c[g][0].call(m.exports,
function(a){var b=c[g][1][a];return e(b?b:a)},m,m.exports,a,c,b,f)}return b[g].exports}for(var h="function"==typeof require&&require,g=0;g<f.length;g++)e(f[g]);return e}({1:[function(a,c,b){b.encode=function(a){for(var b,c,g,k,l,m,n="",p=0;p<a.length;)b=a.charCodeAt(p++),c=a.charCodeAt(p++),g=a.charCodeAt(p++),k=b>>2,b=(3&b)<<4|c>>4,l=(15&c)<<2|g>>6,m=63&g,isNaN(c)?l=m=64:isNaN(g)&&(m=64),n=n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m);return n};b.decode=function(a){var b,c,g,k,l,m="",n=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");n<a.length;)b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),
l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),b=b<<2|c>>4,c=(15&c)<<4|k>>2,g=(3&k)<<6|l,m+=String.fromCharCode(b),64!=k&&(m+=String.fromCharCode(c)),64!=l&&(m+=String.fromCharCode(g));return m}},{}],2:[function(a,c){function b(){this.crc32=this.uncompressedSize=this.compressedSize=0;this.compressedContent=this.compressionMethod=null}b.prototype={getContent:function(){return null},getCompressedContent:function(){return null}};c.exports=b},{}],3:[function(a,
c,b){b.STORE={magic:"\x00\x00",compress:function(a){return a},uncompress:function(a){return a},compressInputType:null,uncompressInputType:null};b.DEFLATE=a("./flate")},{"./flate":8}],4:[function(a,c){var b=a("./utils"),f=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,
2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,
2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,
702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,
3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,
414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];c.exports=function(a,c){if("undefined"==typeof a||!a.length)return 0;
var g="string"!==b.getTypeOf(a);"undefined"==typeof c&&(c=0);var k=0,k=k=0;c^=-1;for(var l=0,m=a.length;m>l;l++)k=g?a[l]:a.charCodeAt(l),k=255&(c^k),k=f[k],c=c>>>8^k;return-1^c}},{"./utils":21}],5:[function(a,c){function b(){this.data=null;this.index=this.length=0}var f=a("./utils");b.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<a||0>a)throw Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?");
},setIndex:function(a){this.checkIndex(a);this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var b,c=0;this.checkOffset(a);for(b=this.index+a-1;b>=this.index;b--)c=(c<<8)+this.byteAt(b);return this.index+=a,c},readString:function(a){return f.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,
(31&a)<<1)}};c.exports=b},{"./utils":21}],6:[function(a,c,b){b.base64=!1;b.binary=!1;b.dir=!1;b.createFolders=!1;b.date=null;b.compression=null;b.comment=null},{}],7:[function(a,c,b){var f=a("./utils");b.string2binary=function(a){return f.string2binary(a)};b.string2Uint8Array=function(a){return f.transformTo("uint8array",a)};b.uint8Array2String=function(a){return f.transformTo("string",a)};b.string2Blob=function(a){a=f.transformTo("arraybuffer",a);return f.arrayBuffer2Blob(a)};b.arrayBuffer2Blob=
function(a){return f.arrayBuffer2Blob(a)};b.transformTo=function(a,b){return f.transformTo(a,b)};b.getTypeOf=function(a){return f.getTypeOf(a)};b.checkSupport=function(a){return f.checkSupport(a)};b.MAX_VALUE_16BITS=f.MAX_VALUE_16BITS;b.MAX_VALUE_32BITS=f.MAX_VALUE_32BITS;b.pretty=function(a){return f.pretty(a)};b.findCompression=function(a){return f.findCompression(a)};b.isRegExp=function(a){return f.isRegExp(a)}},{"./utils":21}],8:[function(a,c,b){c="undefined"!=typeof Uint8Array&&"undefined"!=
typeof Uint16Array&&"undefined"!=typeof Uint32Array;var f=a("pako");b.uncompressInputType=c?"uint8array":"array";b.compressInputType=c?"uint8array":"array";b.magic="\b\x00";b.compress=function(a){return f.deflateRaw(a)};b.uncompress=function(a){return f.inflateRaw(a)}},{pako:24}],9:[function(a,c){function b(a,c){return this instanceof b?(this.files={},this.comment=null,this.root="",a&&this.load(a,c),void(this.clone=function(){var a=new b,c;for(c in this)"function"!=typeof this[c]&&(a[c]=this[c]);
return a})):new b(a,c)}var f=a("./base64");b.prototype=a("./object");b.prototype.load=a("./load");b.support=a("./support");b.defaults=a("./defaults");b.utils=a("./deprecatedPublicUtils");b.base64={encode:function(a){return f.encode(a)},decode:function(a){return f.decode(a)}};b.compressions=a("./compressions");c.exports=b},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(a,c){var b=a("./base64"),f=a("./zipEntries");
c.exports=function(a,c){var g,k,l,m;c=c||{};c.base64&&(a=b.decode(a));k=new f(a,c);g=k.files;for(l=0;l<g.length;l++)m=g[l],this.file(m.fileName,m.decompressed,{binary:!0,optimizedBinaryString:!0,date:m.date,dir:m.dir,comment:m.fileComment.length?m.fileComment:null,createFolders:c.createFolders});return k.zipComment.length&&(this.comment=k.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(a,c){(function(a){c.exports=function(c,e){return new a(c,e)};c.exports.test=function(c){return a.isBuffer(c)}}).call(this,
"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(a,c){function b(a){this.data=a;this.length=this.data.length;this.index=0}var f=a("./uint8ArrayReader");b.prototype=new f;b.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.index,this.index+a);return this.index+=a,b};c.exports=b},{"./uint8ArrayReader":18}],13:[function(a,c){var b=a("./support"),f=a("./utils"),e=a("./crc32"),h=a("./signature"),g=a("./defaults"),k=a("./base64"),l=a("./compressions"),m=a("./compressedObject"),
n=a("./nodeBuffer"),p=a("./utf8"),q=a("./stringWriter"),r=a("./uint8ArrayWriter"),t=function(a){if(a._data instanceof m&&(a._data=a._data.getContent(),a.options.binary=!0,a.options.base64=!1,"uint8array"===f.getTypeOf(a._data))){var b=a._data;a._data=new Uint8Array(b.length);0!==b.length&&a._data.set(b,0)}return a._data},u=function(a){var c=t(a);return"string"===f.getTypeOf(c)?!a.options.binary&&b.nodebuffer?n(c,"utf-8"):a.asBinary():c},v=function(a){var b=t(this);return null===b||"undefined"==typeof b?
"":(this.options.base64&&(b=k.decode(b)),b=a&&this.options.binary?A.utf8decode(b):f.transformTo("string",b),a||this.options.binary||(b=f.transformTo("string",A.utf8encode(b))),b)},z=function(a,b,c){this.name=a;this.dir=c.dir;this.date=c.date;this.comment=c.comment;this._data=b;this.options=c;this._initialMetadata={dir:c.dir,date:c.date}};z.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var a=u(this);return f.transformTo("nodebuffer",
a)},asUint8Array:function(){var a=u(this);return f.transformTo("uint8array",a)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var H=function(a,b){var c,e="";for(c=0;b>c;c++)e+=String.fromCharCode(255&a),a>>>=8;return e},F=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&"undefined"==typeof c[b]&&(c[b]=arguments[a][b]);return c},G=function(a,b,c){var e,h=f.getTypeOf(b),k=c;c=(k=k||{},!0!==k.base64||null!==k.binary&&void 0!==
k.binary||(k.binary=!0),k=F(k,g),k.date=k.date||new Date,null!==k.compression&&(k.compression=k.compression.toUpperCase()),k);if(c.createFolders){k=a;"/"==k.slice(-1)&&(k=k.substring(0,k.length-1));var l=k.lastIndexOf("/");(e=0<l?k.substring(0,l):"")&&C.call(this,e,!0)}if(c.dir||null===b||"undefined"==typeof b)c.base64=!1,c.binary=!1,b=null;else if("string"===h)c.binary&&!c.base64&&!0!==c.optimizedBinaryString&&(b=f.string2binary(b));else{if(c.base64=!1,c.binary=!0,!(h||b instanceof m))throw Error("The data of '"+
a+"' is in an unsupported format !");"arraybuffer"===h&&(b=f.transformTo("uint8array",b))}b=new z(a,b,c);return this.files[a]=b,b},C=function(a,b){return"/"!=a.slice(-1)&&(a+="/"),b="undefined"!=typeof b?b:!1,this.files[a]||G.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]},A={load:function(){throw Error("Load method is not defined. Is the file jszip-load.js included ?");},filter:function(a){var b,c,e,f,h=[];for(b in this.files)this.files.hasOwnProperty(b)&&(e=this.files[b],f=new z(e.name,
e._data,F(e.options)),c=b.slice(this.root.length,b.length),b.slice(0,this.root.length)===this.root&&a(c,f)&&h.push(f));return h},file:function(a,b,c){if(1===arguments.length){if(f.isRegExp(a)){var e=a;return this.filter(function(a,b){return!b.dir&&e.test(a)})}return this.filter(function(b,c){return!c.dir&&b===a})[0]||null}return a=this.root+a,G.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(f.isRegExp(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=C.call(this,
this.root+a),c=this.clone();return c.root=b.name,c},remove:function(a){a=this.root+a;var b=this.files[a];if(b||("/"!=a.slice(-1)&&(a+="/"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var b=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),c=0;c<b.length;c++)delete this.files[b[c].name];return this},generate:function(a){a=F(a||{},{base64:!0,compression:"STORE",type:"base64",comment:null});f.checkSupport(a.type);var b,c,g=[];c=b=0;var n=f.transformTo("string",this.utf8encode(a.comment||
this.comment||"")),t;for(t in this.files)if(this.files.hasOwnProperty(t)){var v=this.files[t],A=v.options.compression||a.compression.toUpperCase(),z=l[A];if(!z)throw Error(A+" is not a valid compression method !");var A=v,y=void 0,C=new m,A=(A._data instanceof m?(C.uncompressedSize=A._data.uncompressedSize,C.crc32=A._data.crc32,0===C.uncompressedSize||A.dir?(z=l.STORE,C.compressedContent="",C.crc32=0):A._data.compressionMethod===z.magic?C.compressedContent=A._data.getCompressedContent():(y=A._data.getContent(),
C.compressedContent=z.compress(f.transformTo(z.compressInputType,y)))):(y=u(A),(!y||0===y.length||A.dir)&&(z=l.STORE,y=""),C.uncompressedSize=y.length,C.crc32=e(y),C.compressedContent=z.compress(f.transformTo(z.compressInputType,y))),C.compressedSize=C.compressedContent.length,C.compressionMethod=z.magic,C),G=v,v=A,z=b,L=void 0,ea=void 0,Q=void 0,M=void 0,y=(v.compressedContent,f.transformTo("string",p.utf8encode(G.name))),Q=G.comment||"",C=f.transformTo("string",p.utf8encode(Q)),V=y.length!==G.name.length,
Z=C.length!==Q.length,L=G.options,ja="",ga="",T="",Q=G._initialMetadata.dir!==G.dir?G.dir:L.dir,M=G._initialMetadata.date!==G.date?G.date:L.date,L=M.getHours(),L=L<<6,L=L|M.getMinutes(),L=L<<5,L=L|M.getSeconds()/2,ea=M.getFullYear()-1980,ea=ea<<4,ea=ea|M.getMonth()+1,ea=ea<<5,ea=ea|M.getDate();V&&(ga=H(1,1)+H(e(y),4)+y,ja+="up"+H(ga.length,2)+ga);Z&&(T=H(1,1)+H(this.crc32(C),4)+C,ja+="uc"+H(T.length,2)+T);G="";G+="\n\x00";G+=V||Z?"\x00\b":"\x00\x00";G+=v.compressionMethod;G+=H(L,2);G+=H(ea,2);G+=
H(v.crc32,4);G+=H(v.compressedSize,4);G+=H(v.uncompressedSize,4);G+=H(y.length,2);G+=H(ja.length,2);V=h.LOCAL_FILE_HEADER+G+y+ja;z=h.CENTRAL_FILE_HEADER+"\u0014\x00"+G+H(C.length,2)+"\x00\x00\x00\x00"+(!0===Q?"\u0010\x00\x00\x00":"\x00\x00\x00\x00")+H(z,4)+y+ja+C;v={fileRecord:V,dirRecord:z,compressedObject:v};b+=v.fileRecord.length+A.compressedSize;c+=v.dirRecord.length;g.push(v)}t="";t=h.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+H(g.length,2)+H(g.length,2)+H(c,4)+H(b,4)+H(n.length,2)+n;n=a.type.toLowerCase();
b="uint8array"===n||"arraybuffer"===n||"blob"===n||"nodebuffer"===n?new r(b+c+t.length):new q(b+c+t.length);for(c=0;c<g.length;c++)b.append(g[c].fileRecord),b.append(g[c].compressedObject.compressedContent);for(c=0;c<g.length;c++)b.append(g[c].dirRecord);b.append(t);g=b.finalize();switch(a.type.toLowerCase()){case "uint8array":case "arraybuffer":case "nodebuffer":return f.transformTo(a.type.toLowerCase(),g);case "blob":return f.arrayBuffer2Blob(f.transformTo("arraybuffer",g));case "base64":return a.base64?
k.encode(g):g;default:return g}},crc32:function(a,b){return e(a,b)},utf8encode:function(a){return f.transformTo("string",p.utf8encode(a))},utf8decode:function(a){return p.utf8decode(a)}};c.exports=A},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(a,c,b){b.LOCAL_FILE_HEADER="PK\u0003\u0004";b.CENTRAL_FILE_HEADER="PK\u0001\u0002";b.CENTRAL_DIRECTORY_END=
"PK\u0005\u0006";b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\u0006\u0007";b.ZIP64_CENTRAL_DIRECTORY_END="PK\u0006\u0006";b.DATA_DESCRIPTOR="PK\u0007\b"},{}],15:[function(a,c){function b(a,b){this.data=a;b||(this.data=e.string2binary(this.data));this.length=this.data.length;this.index=0}var f=a("./dataReader"),e=a("./utils");b.prototype=new f;b.prototype.byteAt=function(a){return this.data.charCodeAt(a)};b.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)};b.prototype.readData=function(a){this.checkOffset(a);
var b=this.data.slice(this.index,this.index+a);return this.index+=a,b};c.exports=b},{"./dataReader":5,"./utils":21}],16:[function(a,c){var b=a("./utils"),f=function(){this.data=[]};f.prototype={append:function(a){a=b.transformTo("string",a);this.data.push(a)},finalize:function(){return this.data.join("")}};c.exports=f},{"./utils":21}],17:[function(a,c,b){a="undefined"!=typeof Buffer?Buffer:void 0;if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,
b.nodebuffer="undefined"!=typeof a,b.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)b.blob=!1;else{a=new ArrayBuffer(0);try{b.blob=0===(new Blob([a],{type:"application/zip"})).size}catch(f){try{var e=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);e.append(a);b.blob=0===e.getBlob("application/zip").size}catch(h){b.blob=!1}}}},{}],18:[function(a,c){function b(a){a&&(this.data=a,this.length=this.data.length,this.index=0)}var f=
a("./dataReader");b.prototype=new f;b.prototype.byteAt=function(a){return this.data[a]};b.prototype.lastIndexOfSignature=function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),f=a.charCodeAt(2);a=a.charCodeAt(3);for(var l=this.length-4;0<=l;--l)if(this.data[l]===b&&this.data[l+1]===c&&this.data[l+2]===f&&this.data[l+3]===a)return l;return-1};b.prototype.readData=function(a){if(this.checkOffset(a),0===a)return new Uint8Array(0);var b=this.data.subarray(this.index,this.index+a);return this.index+=a,b};
c.exports=b},{"./dataReader":5}],19:[function(a,c){var b=a("./utils"),f=function(a){this.data=new Uint8Array(a);this.index=0};f.prototype={append:function(a){0!==a.length&&(a=b.transformTo("uint8array",a),this.data.set(a,this.index),this.index+=a.length)},finalize:function(){return this.data}};c.exports=f},{"./utils":21}],20:[function(a,c,b){var f=a("./utils"),e=a("./support"),h=a("./nodeBuffer"),g=Array(256);for(a=0;256>a;a++)g[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;g[254]=g[254]=1;var k=
function(a){var b,c,e,h,k=a.length,t=Array(2*k);for(b=c=0;k>b;)if(e=a[b++],128>e)t[c++]=e;else if(h=g[e],4<h)t[c++]=65533,b+=h-1;else{for(e&=2===h?31:3===h?15:7;1<h&&k>b;)e=e<<6|63&a[b++],h--;1<h?t[c++]=65533:65536>e?t[c++]=e:(e-=65536,t[c++]=55296|e>>10&1023,t[c++]=56320|1023&e)}return t.length!==c&&(t.subarray?t=t.subarray(0,c):t.length=c),f.applyFromCharCode(t)};b.utf8encode=function(a){if(e.nodebuffer)a=h(a,"utf-8");else{var b,c,f,g,k,t=a.length,u=0;for(g=0;t>g;g++)c=a.charCodeAt(g),55296===(64512&
c)&&t>g+1&&(f=a.charCodeAt(g+1),56320===(64512&f)&&(c=65536+(c-55296<<10)+(f-56320),g++)),u+=128>c?1:2048>c?2:65536>c?3:4;b=e.uint8array?new Uint8Array(u):Array(u);for(g=k=0;u>k;g++)c=a.charCodeAt(g),55296===(64512&c)&&t>g+1&&(f=a.charCodeAt(g+1),56320===(64512&f)&&(c=65536+(c-55296<<10)+(f-56320),g++)),128>c?b[k++]=c:2048>c?(b[k++]=192|c>>>6,b[k++]=128|63&c):65536>c?(b[k++]=224|c>>>12,b[k++]=128|c>>>6&63,b[k++]=128|63&c):(b[k++]=240|c>>>18,b[k++]=128|c>>>12&63,b[k++]=128|c>>>6&63,b[k++]=128|63&c);
a=b}return a};b.utf8decode=function(a){if(e.nodebuffer)return f.transformTo("nodebuffer",a).toString("utf-8");a=f.transformTo(e.uint8array?"uint8array":"array",a);for(var b=[],c=0,h=a.length;h>c;){var q;q=Math.min(c+65536,h);var r=void 0;q=q||a.length;q>a.length&&(q=a.length);for(r=q-1;0<=r&&128===(192&a[r]);)r--;q=0>r?q:0===r?q:r+g[a[r]]>q?r:q;b.push(e.uint8array?k(a.subarray(c,q)):k(a.slice(c,q)));c=q}return b.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(a,c,b){function f(a){return a}
function e(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function h(a){var c=65536,e=[],f=a.length,g=b.getTypeOf(a),h=0,k=!0;try{switch(g){case "uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case "nodebuffer":String.fromCharCode.apply(null,m(0))}}catch(l){k=!1}if(!k){c="";for(e=0;e<a.length;e++)c+=String.fromCharCode(a[e]);return c}for(;f>h&&1<c;)try{e.push("array"===g||"nodebuffer"===g?String.fromCharCode.apply(null,a.slice(h,Math.min(h+c,f))):String.fromCharCode.apply(null,
a.subarray(h,Math.min(h+c,f)))),h+=c}catch(n){c=Math.floor(c/2)}return e.join("")}function g(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var k=a("./support"),l=a("./compressions"),m=a("./nodeBuffer");b.string2binary=function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c));return b};b.arrayBuffer2Blob=function(a){b.checkSupport("blob");try{return new Blob([a],{type:"application/zip"})}catch(c){try{var e=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||
window.MSBlobBuilder);return e.append(a),e.getBlob("application/zip")}catch(f){throw Error("Bug : can't construct the Blob.");}}};b.applyFromCharCode=h;var n={};n.string={string:f,array:function(a){return e(a,Array(a.length))},arraybuffer:function(a){return n.string.uint8array(a).buffer},uint8array:function(a){return e(a,new Uint8Array(a.length))},nodebuffer:function(a){return e(a,m(a.length))}};n.array={string:h,array:f,arraybuffer:function(a){return(new Uint8Array(a)).buffer},uint8array:function(a){return new Uint8Array(a)},
nodebuffer:function(a){return m(a)}};n.arraybuffer={string:function(a){return h(new Uint8Array(a))},array:function(a){return g(new Uint8Array(a),Array(a.byteLength))},arraybuffer:f,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return m(new Uint8Array(a))}};n.uint8array={string:h,array:function(a){return g(a,Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:f,nodebuffer:function(a){return m(a)}};n.nodebuffer={string:h,array:function(a){return g(a,Array(a.length))},
arraybuffer:function(a){return n.nodebuffer.uint8array(a).buffer},uint8array:function(a){return g(a,new Uint8Array(a.length))},nodebuffer:f};b.transformTo=function(a,c){if(c||(c=""),!a)return c;b.checkSupport(a);var e=b.getTypeOf(c);return n[e][a](c)};b.getTypeOf=function(a){return"string"==typeof a?"string":"[object Array]"===Object.prototype.toString.call(a)?"array":k.nodebuffer&&m.test(a)?"nodebuffer":k.uint8array&&a instanceof Uint8Array?"uint8array":k.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":
void 0};b.checkSupport=function(a){if(!k[a.toLowerCase()])throw Error(a+" is not supported by this browser");};b.MAX_VALUE_16BITS=65535;b.MAX_VALUE_32BITS=-1;b.pretty=function(a){var b,c,e="";for(c=0;c<(a||"").length;c++)b=a.charCodeAt(c),e+="\\x"+(16>b?"0":"")+b.toString(16).toUpperCase();return e};b.findCompression=function(a){for(var b in l)if(l.hasOwnProperty(b)&&l[b].magic===a)return l[b];return null};b.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)}},{"./compressions":3,
"./nodeBuffer":11,"./support":17}],22:[function(a,c){function b(a,b){this.files=[];this.loadOptions=b;a&&this.load(a)}var f=a("./stringReader"),e=a("./nodeBufferReader"),h=a("./uint8ArrayReader"),g=a("./utils"),k=a("./signature"),l=a("./zipEntry"),m=a("./support"),n=a("./object");b.prototype={checkSignature:function(a){var b=this.reader.readString(4);if(b!==a)throw Error("Corrupted zip or bug : unexpected signature ("+g.pretty(b)+", expected "+g.pretty(a)+")");},readBlockEndOfCentral:function(){this.diskNumber=
this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);this.zipComment=this.reader.readString(this.zipCommentLength);this.zipComment=n.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);
this.versionMadeBy=this.reader.readString(2);this.versionNeeded=this.reader.readInt(2);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};for(var a,b,c,e=this.zip64EndOfCentralSize-44;0<e;)a=this.reader.readInt(2),b=this.reader.readInt(4),c=this.reader.readString(b),
this.zip64ExtensibleData[a]={id:a,length:b,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw Error("Multi-volumes zip are not supported");},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(k.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),
b.handleUTF8()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===k.CENTRAL_FILE_HEADER;)a=new l({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(k.CENTRAL_DIRECTORY_END);if(-1===a)throw Error("Corrupted zip : can't find end of central directory");if(this.reader.setIndex(a),this.checkSignature(k.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),
this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,a=this.reader.lastIndexOfSignature(k.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===a)throw Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(a);this.checkSignature(k.ZIP64_CENTRAL_DIRECTORY_LOCATOR);
this.readBlockZip64EndOfCentralLocator();this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(k.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}},prepareReader:function(a){var b=g.getTypeOf(a);this.reader="string"!==b||m.uint8array?"nodebuffer"===b?new e(a):new h(g.transformTo("uint8array",a)):new f(a,this.loadOptions.optimizedBinaryString)},load:function(a){this.prepareReader(a);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};c.exports=
b},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(a,c){function b(a,b){this.options=a;this.loadOptions=b}var f=a("./stringReader"),e=a("./utils"),h=a("./compressedObject"),g=a("./object");b.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(a,b,c){return function(){var e=a.index;a.setIndex(b);
var f=a.readData(c);return a.setIndex(e),f}},prepareContent:function(a,b,c,f,g){return function(){var a=e.transformTo(f.uncompressInputType,this.getCompressedContent()),a=f.uncompress(a);if(a.length!==g)throw Error("Bug : uncompressed data size mismatch");return a}},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readString(this.fileNameLength),a.skip(c),-1==this.compressedSize||-1==this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");
if(b=e.findCompression(this.compressionMethod),null===b)throw Error("Corrupted zip : compression "+e.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new h,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(a,a.index,this.compressedSize,
b),this.decompressed.getContent=this.prepareContent(a,a.index,this.compressedSize,b,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=e.transformTo("string",this.decompressed.getContent()),g.crc32(this.decompressed)!==this.crc32))throw Error("Corrupted zip : CRC32 mismatch");},readCentralPart:function(a){if(this.versionMadeBy=a.readString(2),this.versionNeeded=a.readInt(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),
this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4),this.fileNameLength=a.readInt(2),this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");this.fileName=a.readString(this.fileNameLength);this.readExtraFields(a);this.parseZIP64ExtraField(a);this.fileComment=
a.readString(this.fileCommentLength);this.dir=16&this.externalFileAttributes?!0:!1},parseZIP64ExtraField:function(){if(this.extraFields[1]){var a=new f(this.extraFields[1].value);this.uncompressedSize===e.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8));this.compressedSize===e.MAX_VALUE_32BITS&&(this.compressedSize=a.readInt(8));this.localHeaderOffset===e.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8));this.diskNumberStart===e.MAX_VALUE_32BITS&&(this.diskNumberStart=a.readInt(4))}},
readExtraFields:function(a){var b,c,e,f=a.index;for(this.extraFields=this.extraFields||{};a.index<f+this.extraFieldsLength;)b=a.readInt(2),c=a.readInt(2),e=a.readString(c),this.extraFields[b]={id:b,length:c,value:e}},handleUTF8:function(){if(this.useUTF8())this.fileName=g.utf8decode(this.fileName),this.fileComment=g.utf8decode(this.fileComment);else{var a=this.findExtraFieldUnicodePath();null!==a&&(this.fileName=a);a=this.findExtraFieldUnicodeComment();null!==a&&(this.fileComment=a)}},findExtraFieldUnicodePath:function(){var a=
this.extraFields[28789];if(a){var b=new f(a.value);return 1!==b.readInt(1)?null:g.crc32(this.fileName)!==b.readInt(4)?null:g.utf8decode(b.readString(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=new f(a.value);return 1!==b.readInt(1)?null:g.crc32(this.fileComment)!==b.readInt(4)?null:g.utf8decode(b.readString(a.length-5))}return null}};c.exports=b},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(a,
c){var b=a("./lib/utils/common").assign,f=a("./lib/deflate"),e=a("./lib/inflate"),h=a("./lib/zlib/constants"),g={};b(g,f,e,h);c.exports=g},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(a,c,b){function f(a,b){var c=new m(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}var e=a("./zlib/deflate.js"),h=a("./utils/common"),g=a("./utils/strings"),k=a("./zlib/messages"),l=a("./zlib/zstream"),m=function(a){a=this.options=h.assign({level:-1,method:8,
chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},a||{});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new l;this.strm.avail_out=0;var b=e.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(0!==b)throw Error(k[b]);a.header&&e.deflateSetHeader(this.strm,a.header)};m.prototype.push=function(a,b){var c,f,k=this.strm,l=this.options.chunkSize;
if(this.ended)return!1;f=b===~~b?b:!0===b?4:0;k.input="string"==typeof a?g.string2buf(a):a;k.next_in=0;k.avail_in=k.input.length;do{if(0===k.avail_out&&(k.output=new h.Buf8(l),k.next_out=0,k.avail_out=l),c=e.deflate(k,f),1!==c&&0!==c)return this.onEnd(c),this.ended=!0,!1;(0===k.avail_out||0===k.avail_in&&4===f)&&this.onData("string"===this.options.to?g.buf2binstring(h.shrinkBuf(k.output,k.next_out)):h.shrinkBuf(k.output,k.next_out))}while((0<k.avail_in||0===k.avail_out)&&1!==c);return 4===f?(c=e.deflateEnd(this.strm),
this.onEnd(c),this.ended=!0,0===c):!0};m.prototype.onData=function(a){this.chunks.push(a)};m.prototype.onEnd=function(a){0===a&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};b.Deflate=m;b.deflate=f;b.deflateRaw=function(a,b){return b=b||{},b.raw=!0,f(a,b)};b.gzip=function(a,b){return b=b||{},b.gzip=!0,f(a,b)}},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],
26:[function(a,c,b){function f(a,b){var c=new p(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}var e=a("./zlib/inflate.js"),h=a("./utils/common"),g=a("./utils/strings"),k=a("./zlib/constants"),l=a("./zlib/messages"),m=a("./zlib/zstream"),n=a("./zlib/gzheader"),p=function(a){var b=this.options=h.assign({chunkSize:16384,windowBits:0,to:""},a||{});b.raw&&0<=b.windowBits&&16>b.windowBits&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15));!(0<=b.windowBits&&16>b.windowBits)||a&&a.windowBits||
(b.windowBits+=32);15<b.windowBits&&48>b.windowBits&&0===(15&b.windowBits)&&(b.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new m;this.strm.avail_out=0;a=e.inflateInit2(this.strm,b.windowBits);if(a!==k.Z_OK)throw Error(l[a]);this.header=new n;e.inflateGetHeader(this.strm,this.header)};p.prototype.push=function(a,b){var c,f,l,m,n,p=this.strm,G=this.options.chunkSize;if(this.ended)return!1;f=b===~~b?b:!0===b?k.Z_FINISH:k.Z_NO_FLUSH;p.input="string"==typeof a?g.binstring2buf(a):
a;p.next_in=0;p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new h.Buf8(G),p.next_out=0,p.avail_out=G),c=e.inflate(p,k.Z_NO_FLUSH),c!==k.Z_STREAM_END&&c!==k.Z_OK)return this.onEnd(c),this.ended=!0,!1;p.next_out&&(0===p.avail_out||c===k.Z_STREAM_END||0===p.avail_in&&f===k.Z_FINISH)&&("string"===this.options.to?(l=g.utf8border(p.output,p.next_out),m=p.next_out-l,n=g.buf2string(p.output,l),p.next_out=m,p.avail_out=G-m,m&&h.arraySet(p.output,p.output,l,m,0),this.onData(n)):this.onData(h.shrinkBuf(p.output,
p.next_out)))}while(0<p.avail_in&&c!==k.Z_STREAM_END);return c===k.Z_STREAM_END&&(f=k.Z_FINISH),f===k.Z_FINISH?(c=e.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===k.Z_OK):!0};p.prototype.onData=function(a){this.chunks.push(a)};p.prototype.onEnd=function(a){a===k.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};b.Inflate=p;b.inflate=f;b.inflateRaw=function(a,b){return b=b||{},b.raw=!0,f(a,b)};b.ungzip=
f},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(a,c,b){a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;b.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])}}return a};
b.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var f={arraySet:function(a,b,c,e,f){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+e),f);for(var n=0;e>n;n++)a[f+n]=b[c+n]},flattenChunks:function(a){var b,c,e,f,n;b=e=0;for(c=a.length;c>b;b++)e+=a[b].length;n=new Uint8Array(e);b=e=0;for(c=a.length;c>b;b++)f=a[b],n.set(f,e),e+=f.length;return n}},e={arraySet:function(a,b,c,e,f){for(var n=0;e>n;n++)a[f+n]=b[c+n]},flattenChunks:function(a){return[].concat.apply([],
a)}};b.setTyped=function(a){a?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,f)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,e))};b.setTyped(a)},{}],28:[function(a,c,b){function f(a,b){if(65537>b&&(a.subarray&&g||!a.subarray&&h))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c="",f=0;b>f;f++)c+=String.fromCharCode(a[f]);return c}var e=a("./common"),h=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(k){h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){g=
!1}var m=new e.Buf8(256);for(a=0;256>a;a++)m[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;m[254]=m[254]=1;b.string2buf=function(a){var b,c,f,g,h,k=a.length,l=0;for(g=0;k>g;g++)c=a.charCodeAt(g),55296===(64512&c)&&k>g+1&&(f=a.charCodeAt(g+1),56320===(64512&f)&&(c=65536+(c-55296<<10)+(f-56320),g++)),l+=128>c?1:2048>c?2:65536>c?3:4;b=new e.Buf8(l);for(g=h=0;l>h;g++)c=a.charCodeAt(g),55296===(64512&c)&&k>g+1&&(f=a.charCodeAt(g+1),56320===(64512&f)&&(c=65536+(c-55296<<10)+(f-56320),g++)),128>c?b[h++]=
c:2048>c?(b[h++]=192|c>>>6,b[h++]=128|63&c):65536>c?(b[h++]=224|c>>>12,b[h++]=128|c>>>6&63,b[h++]=128|63&c):(b[h++]=240|c>>>18,b[h++]=128|c>>>12&63,b[h++]=128|c>>>6&63,b[h++]=128|63&c);return b};b.buf2binstring=function(a){return f(a,a.length)};b.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,f=b.length;f>c;c++)b[c]=a.charCodeAt(c);return b};b.buf2string=function(a,b){var c,e,g,h,k=b||a.length,l=Array(2*k);for(c=e=0;k>c;)if(g=a[c++],128>g)l[e++]=g;else if(h=m[g],4<h)l[e++]=65533,c+=
h-1;else{for(g&=2===h?31:3===h?15:7;1<h&&k>c;)g=g<<6|63&a[c++],h--;1<h?l[e++]=65533:65536>g?l[e++]=g:(g-=65536,l[e++]=55296|g>>10&1023,l[e++]=56320|1023&g)}return f(l,e)};b.utf8border=function(a,b){var c;b=b||a.length;b>a.length&&(b=a.length);for(c=b-1;0<=c&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+m[a[c]]>b?c:b}},{"./common":27}],29:[function(a,c){c.exports=function(a,c,e,h){var g=65535&a|0;a=a>>>16&65535|0;for(var k=0;0!==e;){k=2E3<e?2E3:e;e-=k;do g=g+c[h++]|0,a=a+g|0;while(--k);g%=65521;a%=
65521}return g|a<<16|0}},{}],30:[function(a,c){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(a,c){var b=function(){for(var a,b=[],c=0;256>
c;c++){a=c;for(var g=0;8>g;g++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}();c.exports=function(a,c,h,g){h=g+h;for(a^=-1;h>g;g++)a=a>>>8^b[255&(a^c[g])];return-1^a}},{}],32:[function(a,c,b){function f(a,b){return a.msg=A[b],b}function e(a){for(var b=a.length;0<=--b;)a[b]=0}function h(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out);0!==c&&(H.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&
(b.pending_out=0))}function g(a,b){F._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,b);a.block_start=a.strstart;h(a.strm)}function k(a,b){a.pending_buf[a.pending++]=b}function l(a,b){a.pending_buf[a.pending++]=b>>>8&255;a.pending_buf[a.pending++]=255&b}function m(a,b){var c,e,f=a.max_chain_length,g=a.strstart,h=a.prev_length,k=a.nice_match,l=a.strstart>a.w_size-Z?a.strstart-(a.w_size-Z):0,m=a.window,n=a.w_mask,p=a.prev,q=a.strstart+V,r=m[g+h-1],w=m[g+h];a.prev_length>=
a.good_match&&(f>>=2);k>a.lookahead&&(k=a.lookahead);do if(c=b,m[c+h]===w&&m[c+h-1]===r&&m[c]===m[g]&&m[++c]===m[g+1]){g+=2;c++;do;while(m[++g]===m[++c]&&m[++g]===m[++c]&&m[++g]===m[++c]&&m[++g]===m[++c]&&m[++g]===m[++c]&&m[++g]===m[++c]&&m[++g]===m[++c]&&m[++g]===m[++c]&&q>g);if(e=V-(q-g),g=q-V,e>h){if(a.match_start=b,h=e,e>=k)break;r=m[g+h-1];w=m[g+h]}}while((b=p[b&n])>l&&0!==--f);return h<=a.lookahead?h:a.lookahead}function n(a){var b,c,e,f,g=a.w_size;do{if(f=a.window_size-a.lookahead-a.strstart,
a.strstart>=g+(g-Z)){H.arraySet(a.window,a.window,g,g,0);a.match_start-=g;a.strstart-=g;a.block_start-=g;b=c=a.hash_size;do e=a.head[--b],a.head[b]=e>=g?e-g:0;while(--c);b=c=g;do e=a.prev[--b],a.prev[b]=e>=g?e-g:0;while(--c);f+=g}if(0===a.strm.avail_in)break;b=a.strm;e=a.window;var h=a.strstart+a.lookahead,k=b.avail_in;if(c=(k>f&&(k=f),0===k?0:(b.avail_in-=k,H.arraySet(e,b.input,b.next_in,k,h),1===b.state.wrap?b.adler=G(b.adler,e,k,h):2===b.state.wrap&&(b.adler=C(b.adler,e,k,h)),b.next_in+=k,b.total_in+=
k,k)),a.lookahead+=c,a.lookahead+a.insert>=M){f=a.strstart-a.insert;a.ins_h=a.window[f];for(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+M-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<M)););}}while(a.lookahead<Z&&0!==a.strm.avail_in)}function p(a,b){for(var c,e;;){if(a.lookahead<Z){if(n(a),a.lookahead<Z&&b===B)return T;if(0===a.lookahead)break}if(c=0,a.lookahead>=M&&(a.ins_h=
(a.ins_h<<a.hash_shift^a.window[a.strstart+M-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-Z&&(a.match_length=m(a,c)),a.match_length>=M)if(e=F._tr_tally(a,a.strstart-a.match_start,a.match_length-M),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=M){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+M-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=
a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else e=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(e&&(g(a,!1),0===a.strm.avail_out))return T}return a.insert=a.strstart<M-1?a.strstart:M-1,b===w?(g(a,!0),0===a.strm.avail_out?ma:aa):a.last_lit&&(g(a,!1),0===a.strm.avail_out)?T:ka}function q(a,b){for(var c,e,f;;){if(a.lookahead<Z){if(n(a),
a.lookahead<Z&&b===B)return T;if(0===a.lookahead)break}if(c=0,a.lookahead>=M&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+M-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=M-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-Z&&(a.match_length=m(a,c),5>=a.match_length&&(a.strategy===ca||a.match_length===M&&4096<a.strstart-a.match_start)&&(a.match_length=M-1)),a.prev_length>=
M&&a.match_length<=a.prev_length){f=a.strstart+a.lookahead-M;e=F._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-M);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=f&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+M-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=M-1,a.strstart++,e&&(g(a,!1),0===a.strm.avail_out))return T}else if(a.match_available){if(e=F._tr_tally(a,0,
a.window[a.strstart-1]),e&&g(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return T}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(F._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<M-1?a.strstart:M-1,b===w?(g(a,!0),0===a.strm.avail_out?ma:aa):a.last_lit&&(g(a,!1),0===a.strm.avail_out)?T:ka}function r(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=
null;this.gzindex=0;this.method=x;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new H.Buf16(2*ea);this.dyn_dtree=
new H.Buf16(2*(2*X+1));this.bl_tree=new H.Buf16(2*(2*L+1));e(this.dyn_ltree);e(this.dyn_dtree);e(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new H.Buf16(Q+1);this.heap=new H.Buf16(2*za+1);e(this.heap);this.heap_max=this.heap_len=0;this.depth=new H.Buf16(2*za+1);e(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function t(a){var b;return a&&a.state?(a.total_in=a.total_out=0,
a.data_type=ra,b=a.state,b.pending=0,b.pending_out=0,0>b.wrap&&(b.wrap=-b.wrap),b.status=b.wrap?ja:ga,a.adler=2===b.wrap?0:1,b.last_flush=B,F._tr_init(b),K):f(a,P)}function u(a){var b=t(a);b===K&&(a=a.state,a.window_size=2*a.w_size,e(a.head),a.max_lazy_match=z[a.level].max_lazy,a.good_match=z[a.level].good_length,a.nice_match=z[a.level].nice_length,a.max_chain_length=z[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=M-1,a.match_available=0,a.ins_h=
0);return b}function v(a,b,c,e,g,h){if(!a)return P;var k=1;if(b===J&&(b=6),0>e?(k=0,e=-e):15<e&&(k=2,e-=16),1>g||g>y||c!==x||8>e||15<e||0>b||9<b||0>h||h>R)return f(a,P);8===e&&(e=9);var l=new r;return a.state=l,l.strm=a,l.wrap=k,l.gzhead=null,l.w_bits=e,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=g+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+M-1)/M),l.window=new H.Buf8(2*l.w_size),l.head=new H.Buf16(l.hash_size),l.prev=new H.Buf16(l.w_size),l.lit_bufsize=
1<<g+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new H.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=b,l.strategy=h,l.method=c,u(a)}var z,H=a("../utils/common"),F=a("./trees"),G=a("./adler32"),C=a("./crc32"),A=a("./messages"),B=0,w=4,K=0,P=-2,J=-1,ca=1,R=4,ra=2,x=8,y=9,za=286,X=30,L=19,ea=2*za+1,Q=15,M=3,V=258,Z=V+M+1,ja=42,ga=113,T=1,ka=2,ma=3,aa=4;a=function(a,b,c,e,f){this.good_length=a;this.max_lazy=b;this.nice_length=c;this.max_chain=e;this.func=f};
z=[new a(0,0,0,0,function(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(1>=a.lookahead){if(n(a),0===a.lookahead&&b===B)return T;if(0===a.lookahead)break}a.strstart+=a.lookahead;a.lookahead=0;var e=a.block_start+c;if((0===a.strstart||a.strstart>=e)&&(a.lookahead=a.strstart-e,a.strstart=e,g(a,!1),0===a.strm.avail_out)||a.strstart-a.block_start>=a.w_size-Z&&(g(a,!1),0===a.strm.avail_out))return T}return a.insert=0,b===w?(g(a,!0),0===a.strm.avail_out?ma:aa):(a.strstart>a.block_start&&
g(a,!1),T)}),new a(4,4,8,4,p),new a(4,5,16,8,p),new a(4,6,32,32,p),new a(4,4,16,16,q),new a(8,16,32,32,q),new a(8,16,128,128,q),new a(8,32,128,256,q),new a(32,128,258,1024,q),new a(32,258,258,4096,q)];b.deflateInit=function(a,b){return v(a,b,x,15,8,0)};b.deflateInit2=v;b.deflateReset=u;b.deflateResetKeep=t;b.deflateSetHeader=function(a,b){return a&&a.state?2!==a.state.wrap?P:(a.state.gzhead=b,K):P};b.deflate=function(a,b){var c,m,p,q;if(!a||!a.state||5<b||0>b)return a?f(a,P):P;if(m=a.state,!a.output||
!a.input&&0!==a.avail_in||666===m.status&&b!==w)return f(a,0===a.avail_out?-5:P);if(m.strm=a,c=m.last_flush,m.last_flush=b,m.status===ja)2===m.wrap?(a.adler=0,k(m,31),k(m,139),k(m,8),m.gzhead?(k(m,(m.gzhead.text?1:0)+(m.gzhead.hcrc?2:0)+(m.gzhead.extra?4:0)+(m.gzhead.name?8:0)+(m.gzhead.comment?16:0)),k(m,255&m.gzhead.time),k(m,m.gzhead.time>>8&255),k(m,m.gzhead.time>>16&255),k(m,m.gzhead.time>>24&255),k(m,9===m.level?2:2<=m.strategy||2>m.level?4:0),k(m,255&m.gzhead.os),m.gzhead.extra&&m.gzhead.extra.length&&
(k(m,255&m.gzhead.extra.length),k(m,m.gzhead.extra.length>>8&255)),m.gzhead.hcrc&&(a.adler=C(a.adler,m.pending_buf,m.pending,0)),m.gzindex=0,m.status=69):(k(m,0),k(m,0),k(m,0),k(m,0),k(m,0),k(m,9===m.level?2:2<=m.strategy||2>m.level?4:0),k(m,3),m.status=ga)):(p=x+(m.w_bits-8<<4)<<8,q=-1,q=2<=m.strategy||2>m.level?0:6>m.level?1:6===m.level?2:3,p|=q<<6,0!==m.strstart&&(p|=32),m.status=ga,l(m,p+(31-p%31)),0!==m.strstart&&(l(m,a.adler>>>16),l(m,65535&a.adler)),a.adler=1);if(69===m.status)if(m.gzhead.extra){for(p=
m.pending;m.gzindex<(65535&m.gzhead.extra.length)&&(m.pending!==m.pending_buf_size||(m.gzhead.hcrc&&m.pending>p&&(a.adler=C(a.adler,m.pending_buf,m.pending-p,p)),h(a),p=m.pending,m.pending!==m.pending_buf_size));)k(m,255&m.gzhead.extra[m.gzindex]),m.gzindex++;m.gzhead.hcrc&&m.pending>p&&(a.adler=C(a.adler,m.pending_buf,m.pending-p,p));m.gzindex===m.gzhead.extra.length&&(m.gzindex=0,m.status=73)}else m.status=73;if(73===m.status)if(m.gzhead.name){p=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&
m.pending>p&&(a.adler=C(a.adler,m.pending_buf,m.pending-p,p)),h(a),p=m.pending,m.pending===m.pending_buf_size)){q=1;break}q=m.gzindex<m.gzhead.name.length?255&m.gzhead.name.charCodeAt(m.gzindex++):0;k(m,q)}while(0!==q);m.gzhead.hcrc&&m.pending>p&&(a.adler=C(a.adler,m.pending_buf,m.pending-p,p));0===q&&(m.gzindex=0,m.status=91)}else m.status=91;if(91===m.status)if(m.gzhead.comment){p=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>p&&(a.adler=C(a.adler,m.pending_buf,m.pending-
p,p)),h(a),p=m.pending,m.pending===m.pending_buf_size)){q=1;break}q=m.gzindex<m.gzhead.comment.length?255&m.gzhead.comment.charCodeAt(m.gzindex++):0;k(m,q)}while(0!==q);m.gzhead.hcrc&&m.pending>p&&(a.adler=C(a.adler,m.pending_buf,m.pending-p,p));0===q&&(m.status=103)}else m.status=103;if(103===m.status&&(m.gzhead.hcrc?(m.pending+2>m.pending_buf_size&&h(a),m.pending+2<=m.pending_buf_size&&(k(m,255&a.adler),k(m,a.adler>>8&255),a.adler=0,m.status=ga)):m.status=ga),0!==m.pending){if(h(a),0===a.avail_out)return m.last_flush=
-1,K}else if(0===a.avail_in&&(b<<1)-(4<b?9:0)<=(c<<1)-(4<c?9:0)&&b!==w)return f(a,-5);if(666===m.status&&0!==a.avail_in)return f(a,-5);if(0!==a.avail_in||0!==m.lookahead||b!==B&&666!==m.status){var r;if(2===m.strategy)a:{for(var t;;){if(0===m.lookahead&&(n(m),0===m.lookahead)){if(b===B){r=T;break a}break}if(m.match_length=0,t=F._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,t&&(g(m,!1),0===m.strm.avail_out)){r=T;break a}}r=(m.insert=0,b===w?(g(m,!0),0===m.strm.avail_out?ma:aa):m.last_lit&&
(g(m,!1),0===m.strm.avail_out)?T:ka)}else if(3===m.strategy)a:{var u,v;for(t=m.window;;){if(m.lookahead<=V){if(n(m),m.lookahead<=V&&b===B){r=T;break a}if(0===m.lookahead)break}if(m.match_length=0,m.lookahead>=M&&0<m.strstart&&(v=m.strstart-1,u=t[v],u===t[++v]&&u===t[++v]&&u===t[++v])){c=m.strstart+V;do;while(u===t[++v]&&u===t[++v]&&u===t[++v]&&u===t[++v]&&u===t[++v]&&u===t[++v]&&u===t[++v]&&u===t[++v]&&c>v);m.match_length=V-(c-v);m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=
M?(r=F._tr_tally(m,1,m.match_length-M),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(r=F._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),r&&(g(m,!1),0===m.strm.avail_out)){r=T;break a}}r=(m.insert=0,b===w?(g(m,!0),0===m.strm.avail_out?ma:aa):m.last_lit&&(g(m,!1),0===m.strm.avail_out)?T:ka)}else r=z[m.level].func(m,b);if((r===ma||r===aa)&&(m.status=666),r===T||r===ma)return 0===a.avail_out&&(m.last_flush=-1),K;if(r===ka&&(1===b?F._tr_align(m):5!==b&&(F._tr_stored_block(m,
0,0,!1),3===b&&(e(m.head),0===m.lookahead&&(m.strstart=0,m.block_start=0,m.insert=0))),h(a),0===a.avail_out))return m.last_flush=-1,K}return b!==w?K:0>=m.wrap?1:(2===m.wrap?(k(m,255&a.adler),k(m,a.adler>>8&255),k(m,a.adler>>16&255),k(m,a.adler>>24&255),k(m,255&a.total_in),k(m,a.total_in>>8&255),k(m,a.total_in>>16&255),k(m,a.total_in>>24&255)):(l(m,a.adler>>>16),l(m,65535&a.adler)),h(a),0<m.wrap&&(m.wrap=-m.wrap),0!==m.pending?K:1)};b.deflateEnd=function(a){var b;return a&&a.state?(b=a.state.status,
b!==ja&&69!==b&&73!==b&&91!==b&&103!==b&&b!==ga&&666!==b?f(a,P):(a.state=null,b===ga?f(a,-3):K)):P};b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(a,c){c.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],34:[function(a,c){c.exports=function(a,c){var e,h,g,k,l,m,n,p,q,r,t,u,v,z,H,F,G,C,A,B,w,K,P,J;e=a.state;
h=a.next_in;P=a.input;g=h+(a.avail_in-5);k=a.next_out;J=a.output;l=k-(c-a.avail_out);m=k+(a.avail_out-257);n=e.dmax;p=e.wsize;q=e.whave;r=e.wnext;t=e.window;u=e.hold;v=e.bits;z=e.lencode;H=e.distcode;F=(1<<e.lenbits)-1;G=(1<<e.distbits)-1;a:do{15>v&&(u+=P[h++]<<v,v+=8,u+=P[h++]<<v,v+=8);C=z[u&F];b:for(;;){if(A=C>>>24,u>>>=A,v-=A,A=C>>>16&255,0===A)J[k++]=65535&C;else{if(!(16&A)){if(0===(64&A)){C=z[(65535&C)+(u&(1<<A)-1)];continue b}if(32&A){e.mode=12;break a}a.msg="invalid literal/length code";e.mode=
30;break a}B=65535&C;(A&=15)&&(A>v&&(u+=P[h++]<<v,v+=8),B+=u&(1<<A)-1,u>>>=A,v-=A);15>v&&(u+=P[h++]<<v,v+=8,u+=P[h++]<<v,v+=8);C=H[u&G];c:for(;;){if(A=C>>>24,u>>>=A,v-=A,A=C>>>16&255,!(16&A)){if(0===(64&A)){C=H[(65535&C)+(u&(1<<A)-1)];continue c}a.msg="invalid distance code";e.mode=30;break a}if(w=65535&C,A&=15,A>v&&(u+=P[h++]<<v,v+=8,A>v&&(u+=P[h++]<<v,v+=8)),w+=u&(1<<A)-1,w>n){a.msg="invalid distance too far back";e.mode=30;break a}if(u>>>=A,v-=A,A=k-l,w>A){if(A=w-A,A>q&&e.sane){a.msg="invalid distance too far back";
e.mode=30;break a}if(C=0,K=t,0===r){if(C+=p-A,B>A){B-=A;do J[k++]=t[C++];while(--A);C=k-w;K=J}}else if(A>r){if(C+=p+r-A,A-=r,B>A){B-=A;do J[k++]=t[C++];while(--A);if(C=0,B>r){A=r;B-=A;do J[k++]=t[C++];while(--A);C=k-w;K=J}}}else if(C+=r-A,B>A){B-=A;do J[k++]=t[C++];while(--A);C=k-w;K=J}for(;2<B;)J[k++]=K[C++],J[k++]=K[C++],J[k++]=K[C++],B-=3;B&&(J[k++]=K[C++],1<B&&(J[k++]=K[C++]))}else{C=k-w;do J[k++]=J[C++],J[k++]=J[C++],J[k++]=J[C++],B-=3;while(2<B);B&&(J[k++]=J[C++],1<B&&(J[k++]=J[C++]))}break}}break}}while(g>
h&&m>k);B=v>>3;h-=B;v-=B<<3;a.next_in=h;a.next_out=k;a.avail_in=g>h?5+(g-h):5-(h-g);a.avail_out=m>k?257+(m-k):257-(k-m);e.hold=u&(1<<v)-1;e.bits=v}},{}],35:[function(a,c,b){function f(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=
this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new p.Buf16(320);this.work=new p.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function h(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=H,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new p.Buf32(F),b.distcode=b.distdyn=new p.Buf32(G),b.sane=1,b.back=-1,v):
z}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,h(a)):z}function k(a,b){var c,e;return a&&a.state?(e=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||15<b)?z:(null!==e.window&&e.wbits!==b&&(e.window=null),e.wrap=c,e.wbits=b,g(a))):z}function l(a,b){var c,f;return a?(f=new e,a.state=f,f.window=null,c=k(a,b),c!==v&&(a.state=null),c):z}var m,n,p=a("../utils/common"),q=a("./adler32"),r=a("./crc32"),t=a("./inffast"),u=a("./inftrees"),v=0,z=-2,H=1,F=852,G=592,
C=!0;b.inflateReset=g;b.inflateReset2=k;b.inflateResetKeep=h;b.inflateInit=function(a){return l(a,15)};b.inflateInit2=l;b.inflate=function(a,b){var c,e,g,h,k,l,F,x,y,G,X,L,ea,Q,M,V,Z,ja,ga,T,ka,ma,aa=0,E=new p.Buf8(4),Ka=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return z;c=a.state;12===c.mode&&(c.mode=13);k=a.next_out;g=a.output;F=a.avail_out;h=a.next_in;e=a.input;l=a.avail_in;x=c.hold;y=c.bits;G=l;X=F;ka=v;a:for(;;)switch(c.mode){case H:if(0===
c.wrap){c.mode=13;break}for(;16>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}if(2&c.wrap&&35615===x){c.check=0;E[0]=255&x;E[1]=x>>>8&255;c.check=r(c.check,E,2,0);y=x=0;c.mode=2;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&x)<<8)+(x>>8))%31){a.msg="incorrect header check";c.mode=30;break}if(8!==(15&x)){a.msg="unknown compression method";c.mode=30;break}if(x>>>=4,y-=4,T=(15&x)+8,0===c.wbits)c.wbits=T;else if(T>c.wbits){a.msg="invalid window size";c.mode=30;break}c.dmax=1<<T;a.adler=
c.check=1;c.mode=512&x?10:12;y=x=0;break;case 2:for(;16>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}if(c.flags=x,8!==(255&c.flags)){a.msg="unknown compression method";c.mode=30;break}if(57344&c.flags){a.msg="unknown header flags set";c.mode=30;break}c.head&&(c.head.text=x>>8&1);512&c.flags&&(E[0]=255&x,E[1]=x>>>8&255,c.check=r(c.check,E,2,0));y=x=0;c.mode=3;case 3:for(;32>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}c.head&&(c.head.time=x);512&c.flags&&(E[0]=255&x,E[1]=x>>>8&255,E[2]=x>>>16&255,E[3]=
x>>>24&255,c.check=r(c.check,E,4,0));y=x=0;c.mode=4;case 4:for(;16>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}c.head&&(c.head.xflags=255&x,c.head.os=x>>8);512&c.flags&&(E[0]=255&x,E[1]=x>>>8&255,c.check=r(c.check,E,2,0));y=x=0;c.mode=5;case 5:if(1024&c.flags){for(;16>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}c.length=x;c.head&&(c.head.extra_len=x);512&c.flags&&(E[0]=255&x,E[1]=x>>>8&255,c.check=r(c.check,E,2,0));y=x=0}else c.head&&(c.head.extra=null);c.mode=6;case 6:if(1024&c.flags&&(L=c.length,
L>l&&(L=l),L&&(c.head&&(T=c.head.extra_len-c.length,c.head.extra||(c.head.extra=Array(c.head.extra_len)),p.arraySet(c.head.extra,e,h,L,T)),512&c.flags&&(c.check=r(c.check,e,L,h)),l-=L,h+=L,c.length-=L),c.length))break a;c.length=0;c.mode=7;case 7:if(2048&c.flags){if(0===l)break a;L=0;do T=e[h+L++],c.head&&T&&65536>c.length&&(c.head.name+=String.fromCharCode(T));while(T&&l>L);if(512&c.flags&&(c.check=r(c.check,e,L,h)),l-=L,h+=L,T)break a}else c.head&&(c.head.name=null);c.length=0;c.mode=8;case 8:if(4096&
c.flags){if(0===l)break a;L=0;do T=e[h+L++],c.head&&T&&65536>c.length&&(c.head.comment+=String.fromCharCode(T));while(T&&l>L);if(512&c.flags&&(c.check=r(c.check,e,L,h)),l-=L,h+=L,T)break a}else c.head&&(c.head.comment=null);c.mode=9;case 9:if(512&c.flags){for(;16>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}if(x!==(65535&c.check)){a.msg="header crc mismatch";c.mode=30;break}y=x=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0);a.adler=c.check=0;c.mode=12;break;case 10:for(;32>y;){if(0===l)break a;
l--;x+=e[h++]<<y;y+=8}a.adler=c.check=f(x);y=x=0;c.mode=11;case 11:if(0===c.havedict)return a.next_out=k,a.avail_out=F,a.next_in=h,a.avail_in=l,c.hold=x,c.bits=y,2;a.adler=c.check=1;c.mode=12;case 12:if(5===b||6===b)break a;case 13:if(c.last){x>>>=7&y;y-=7&y;c.mode=27;break}for(;3>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}switch(c.last=1&x,x>>>=1,y-=1,3&x){case 0:c.mode=14;break;case 1:Q=c;if(C){V=void 0;m=new p.Buf32(512);n=new p.Buf32(32);for(V=0;144>V;)Q.lens[V++]=8;for(;256>V;)Q.lens[V++]=9;
for(;280>V;)Q.lens[V++]=7;for(;288>V;)Q.lens[V++]=8;u(1,Q.lens,0,288,m,0,Q.work,{bits:9});for(V=0;32>V;)Q.lens[V++]=5;u(2,Q.lens,0,32,n,0,Q.work,{bits:5});C=!1}Q.lencode=m;Q.lenbits=9;Q.distcode=n;Q.distbits=5;if(c.mode=20,6===b){x>>>=2;y-=2;break a}break;case 2:c.mode=17;break;case 3:a.msg="invalid block type",c.mode=30}x>>>=2;y-=2;break;case 14:x>>>=7&y;for(y-=7&y;32>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}if((65535&x)!==(x>>>16^65535)){a.msg="invalid stored block lengths";c.mode=30;break}if(c.length=
65535&x,x=0,y=0,c.mode=15,6===b)break a;case 15:c.mode=16;case 16:if(L=c.length){if(L>l&&(L=l),L>F&&(L=F),0===L)break a;p.arraySet(g,e,h,L,k);l-=L;h+=L;F-=L;k+=L;c.length-=L;break}c.mode=12;break;case 17:for(;14>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}if(c.nlen=(31&x)+257,x>>>=5,y-=5,c.ndist=(31&x)+1,x>>>=5,y-=5,c.ncode=(15&x)+4,x>>>=4,y-=4,286<c.nlen||30<c.ndist){a.msg="too many length or distance symbols";c.mode=30;break}c.have=0;c.mode=18;case 18:for(;c.have<c.ncode;){for(;3>y;){if(0===l)break a;
l--;x+=e[h++]<<y;y+=8}c.lens[Ka[c.have++]]=7&x;x>>>=3;y-=3}for(;19>c.have;)c.lens[Ka[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ma={bits:c.lenbits},ka=u(0,c.lens,0,19,c.lencode,0,c.work,ma),c.lenbits=ma.bits,ka){a.msg="invalid code lengths set";c.mode=30;break}c.have=0;c.mode=19;case 19:for(;c.have<c.nlen+c.ndist;){for(;aa=c.lencode[x&(1<<c.lenbits)-1],M=aa>>>24,V=65535&aa,!(y>=M);){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}if(16>V)x>>>=M,y-=M,c.lens[c.have++]=V;else{if(16===V){for(Q=M+2;Q>y;){if(0===
l)break a;l--;x+=e[h++]<<y;y+=8}if(x>>>=M,y-=M,0===c.have){a.msg="invalid bit length repeat";c.mode=30;break}T=c.lens[c.have-1];L=3+(3&x);x>>>=2;y-=2}else if(17===V){for(Q=M+3;Q>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}x>>>=M;y-=M;T=0;L=3+(7&x);x>>>=3;y-=3}else{for(Q=M+7;Q>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}x>>>=M;y-=M;T=0;L=11+(127&x);x>>>=7;y-=7}if(c.have+L>c.nlen+c.ndist){a.msg="invalid bit length repeat";c.mode=30;break}for(;L--;)c.lens[c.have++]=T}}if(30===c.mode)break;if(0===c.lens[256]){a.msg=
"invalid code -- missing end-of-block";c.mode=30;break}if(c.lenbits=9,ma={bits:c.lenbits},ka=u(1,c.lens,0,c.nlen,c.lencode,0,c.work,ma),c.lenbits=ma.bits,ka){a.msg="invalid literal/lengths set";c.mode=30;break}if(c.distbits=6,c.distcode=c.distdyn,ma={bits:c.distbits},ka=u(2,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ma),c.distbits=ma.bits,ka){a.msg="invalid distances set";c.mode=30;break}if(c.mode=20,6===b)break a;case 20:c.mode=21;case 21:if(6<=l&&258<=F){a.next_out=k;a.avail_out=F;a.next_in=h;a.avail_in=
l;c.hold=x;c.bits=y;t(a,X);k=a.next_out;g=a.output;F=a.avail_out;h=a.next_in;e=a.input;l=a.avail_in;x=c.hold;y=c.bits;12===c.mode&&(c.back=-1);break}for(c.back=0;aa=c.lencode[x&(1<<c.lenbits)-1],M=aa>>>24,Q=aa>>>16&255,V=65535&aa,!(y>=M);){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}if(Q&&0===(240&Q)){Z=M;ja=Q;for(ga=V;aa=c.lencode[ga+((x&(1<<Z+ja)-1)>>Z)],M=aa>>>24,Q=aa>>>16&255,V=65535&aa,!(y>=Z+M);){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}x>>>=Z;y-=Z;c.back+=Z}if(x>>>=M,y-=M,c.back+=M,c.length=V,0===
Q){c.mode=26;break}if(32&Q){c.back=-1;c.mode=12;break}if(64&Q){a.msg="invalid literal/length code";c.mode=30;break}c.extra=15&Q;c.mode=22;case 22:if(c.extra){for(Q=c.extra;Q>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}c.length+=x&(1<<c.extra)-1;x>>>=c.extra;y-=c.extra;c.back+=c.extra}c.was=c.length;c.mode=23;case 23:for(;aa=c.distcode[x&(1<<c.distbits)-1],M=aa>>>24,Q=aa>>>16&255,V=65535&aa,!(y>=M);){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}if(0===(240&Q)){Z=M;ja=Q;for(ga=V;aa=c.distcode[ga+((x&(1<<Z+
ja)-1)>>Z)],M=aa>>>24,Q=aa>>>16&255,V=65535&aa,!(y>=Z+M);){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}x>>>=Z;y-=Z;c.back+=Z}if(x>>>=M,y-=M,c.back+=M,64&Q){a.msg="invalid distance code";c.mode=30;break}c.offset=V;c.extra=15&Q;c.mode=24;case 24:if(c.extra){for(Q=c.extra;Q>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}c.offset+=x&(1<<c.extra)-1;x>>>=c.extra;y-=c.extra;c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back";c.mode=30;break}c.mode=25;case 25:if(0===F)break a;if(L=X-F,c.offset>
L){if(L=c.offset-L,L>c.whave&&c.sane){a.msg="invalid distance too far back";c.mode=30;break}L>c.wnext?(L-=c.wnext,ea=c.wsize-L):ea=c.wnext-L;L>c.length&&(L=c.length);Q=c.window}else Q=g,ea=k-c.offset,L=c.length;L>F&&(L=F);F-=L;c.length-=L;do g[k++]=Q[ea++];while(--L);0===c.length&&(c.mode=21);break;case 26:if(0===F)break a;g[k++]=c.length;F--;c.mode=21;break;case 27:if(c.wrap){for(;32>y;){if(0===l)break a;l--;x|=e[h++]<<y;y+=8}if(X-=F,a.total_out+=X,c.total+=X,X&&(a.adler=c.check=c.flags?r(c.check,
g,X,k-X):q(c.check,g,X,k-X)),X=F,(c.flags?x:f(x))!==c.check){a.msg="incorrect data check";c.mode=30;break}y=x=0}c.mode=28;case 28:if(c.wrap&&c.flags){for(;32>y;){if(0===l)break a;l--;x+=e[h++]<<y;y+=8}if(x!==(4294967295&c.total)){a.msg="incorrect length check";c.mode=30;break}y=x=0}c.mode=29;case 29:ka=1;break a;case 30:ka=-3;break a;case 31:return-4;default:return z}a.next_out=k;a.avail_out=F;a.next_in=h;a.avail_in=l;c.hold=x;c.bits=y;if(h=c.wsize||X!==a.avail_out&&30>c.mode&&(27>c.mode||4!==b)){h=
a.output;k=a.next_out;e=X-a.avail_out;var ta;l=a.state;h=(null===l.window&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new p.Buf8(l.wsize)),e>=l.wsize?(p.arraySet(l.window,h,k-l.wsize,l.wsize,0),l.wnext=0,l.whave=l.wsize):(ta=l.wsize-l.wnext,ta>e&&(ta=e),p.arraySet(l.window,h,k-e,ta,l.wnext),e-=ta,e?(p.arraySet(l.window,h,k-e,e,0),l.wnext=e,l.whave=l.wsize):(l.wnext+=ta,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=ta))),0)}return h?(c.mode=31,-4):(G-=a.avail_in,X-=a.avail_out,a.total_in+=
G,a.total_out+=X,c.total+=X,c.wrap&&X&&(a.adler=c.check=c.flags?r(c.check,g,X,a.next_out-X):q(c.check,g,X,a.next_out-X)),a.data_type=c.bits+(c.last?64:0)+(12===c.mode?128:0)+(20===c.mode||15===c.mode?256:0),(0===G&&0===X||4===b)&&ka===v&&(ka=-5),ka)};b.inflateEnd=function(a){if(!a||!a.state)return z;var b=a.state;return b.window&&(b.window=null),a.state=null,v};b.inflateGetHeader=function(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?z:(c.head=b,b.done=!1,v)):z};b.inflateInfo="pako inflate (from Nodeca project)"},
{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(a,c){var b=a("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,
25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(a,c,m,n,p,q,r,t){var u,v,z,H,F,G,C,A;H=t.bits;for(var B=0,w=0,K=0,P=0,J=0,ca=0,R=0,ra=u=0,x=0,y=null,za=0,X=new b.Buf16(16),ca=new b.Buf16(16),L=null,ea=0,B=0;15>=B;B++)X[B]=0;for(w=0;n>w;w++)X[c[m+w]]++;J=H;for(P=15;1<=P&&0===X[P];P--);if(J>P&&(J=P),0===P)return p[q++]=20971520,p[q++]=20971520,t.bits=1,0;for(K=1;P>K&&0===X[K];K++);K>J&&(J=K);for(B=u=1;15>=B;B++)if(u<<=1,u-=X[B],0>u)return-1;if(0<u&&(0===a||1!==P))return-1;ca[1]=0;for(B=1;15>
B;B++)ca[B+1]=ca[B]+X[B];for(w=0;n>w;w++)0!==c[m+w]&&(r[ca[c[m+w]]++]=w);if(0===a?(y=L=r,F=19):1===a?(y=f,za-=257,L=e,ea-=257,F=256):(y=h,L=g,F=-1),x=0,w=0,B=K,H=q,ca=J,R=0,z=-1,ra=1<<J,n=ra-1,1===a&&852<ra||2===a&&592<ra)return 1;for(var Q=0;;){Q++;G=B-R;r[w]<F?(C=0,A=r[w]):r[w]>F?(C=L[ea+r[w]],A=y[za+r[w]]):(C=96,A=0);u=1<<B-R;K=v=1<<ca;do v-=u,p[H+(x>>R)+v]=G<<24|C<<16|A|0;while(0!==v);for(u=1<<B-1;x&u;)u>>=1;if(0!==u?(x&=u-1,x+=u):x=0,w++,0===--X[B]){if(B===P)break;B=c[m+r[w]]}if(B>J&&(x&n)!==
z){0===R&&(R=J);H+=K;ca=B-R;for(u=1<<ca;P>ca+R&&(u-=X[ca+R],!(0>=u));)ca++,u<<=1;if(ra+=1<<ca,1===a&&852<ra||2===a&&592<ra)return 1;z=x&n;p[z]=J<<24|ca<<16|H-q|0}}return 0!==x&&(p[H+x]=B-R<<24|4194304),t.bits=J,0}},{"../utils/common":27}],37:[function(a,c){c.exports={2:"need dictionary",1:"stream end","0":"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(a,c,b){function f(a){for(var b=a.length;0<=
--b;)a[b]=0}function e(a,b){a.pending_buf[a.pending++]=255&b;a.pending_buf[a.pending++]=b>>>8&255}function h(a,b,c){a.bi_valid>R-c?(a.bi_buf|=b<<a.bi_valid&65535,e(a,a.bi_buf),a.bi_buf=b>>R-a.bi_valid,a.bi_valid+=c-R):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function g(a,b,c){h(a,c[2*b],c[2*b+1])}function k(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(0<--b);return c>>>1}function l(a,b,c){var e,f=Array(ca+1),g=0;for(e=1;ca>=e;e++)f[e]=g=g+c[e-1]<<1;for(c=0;b>=c;c++)e=a[2*c+1],0!==e&&(a[2*c]=k(f[e]++,
e))}function m(a){var b;for(b=0;w>b;b++)a.dyn_ltree[2*b]=0;for(b=0;K>b;b++)a.dyn_dtree[2*b]=0;for(b=0;P>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*ra]=1;a.opt_len=a.static_len=0;a.last_lit=a.matches=0}function n(a){8<a.bi_valid?e(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0}function p(a,b,c,e){var f=2*b,g=2*c;return a[f]<a[g]||a[f]===a[g]&&e[b]<=e[c]}function q(a,b,c){for(var e=a.heap[c],f=c<<1;f<=a.heap_len&&(f<a.heap_len&&p(b,a.heap[f+1],a.heap[f],a.depth)&&
f++,!p(b,e,a.heap[f],a.depth));)a.heap[c]=a.heap[f],c=f,f<<=1;a.heap[c]=e}function r(a,b,c){var e,f,k,l,m=0;if(0!==a.last_lit){do e=a.pending_buf[a.d_buf+2*m]<<8|a.pending_buf[a.d_buf+2*m+1],f=a.pending_buf[a.l_buf+m],m++,0===e?g(a,f,b):(k=ja[f],g(a,k+B+1,b),l=X[k],0!==l&&(f-=ga[k],h(a,f,l)),e--,k=256>e?Z[e]:Z[256+(e>>>7)],g(a,k,c),l=L[k],0!==l&&(e-=T[k],h(a,e,l)));while(m<a.last_lit)}g(a,ra,b)}function t(a,b){var c,e,f,g=b.dyn_tree;e=b.stat_desc.static_tree;var h=b.stat_desc.has_stree,k=b.stat_desc.elems,
m=-1;a.heap_len=0;a.heap_max=J;for(c=0;k>c;c++)0!==g[2*c]?(a.heap[++a.heap_len]=m=c,a.depth[c]=0):g[2*c+1]=0;for(;2>a.heap_len;)f=a.heap[++a.heap_len]=2>m?++m:0,g[2*f]=1,a.depth[f]=0,a.opt_len--,h&&(a.static_len-=e[2*f+1]);b.max_code=m;for(c=a.heap_len>>1;1<=c;c--)q(a,g,c);f=k;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],q(a,g,1),e=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=e,g[2*f]=g[2*c]+g[2*e],a.depth[f]=(a.depth[c]>=a.depth[e]?a.depth[c]:a.depth[e])+1,g[2*c+1]=g[2*e+1]=f,a.heap[1]=
f++,q(a,g,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];var n,p,h=b.dyn_tree,k=b.max_code,r=b.stat_desc.static_tree,t=b.stat_desc.has_stree,v=b.stat_desc.extra_bits,u=b.stat_desc.extra_base,z=b.stat_desc.max_length,w=0;for(e=0;ca>=e;e++)a.bl_count[e]=0;h[2*a.heap[a.heap_max]+1]=0;for(c=a.heap_max+1;J>c;c++)f=a.heap[c],e=h[2*h[2*f+1]+1]+1,e>z&&(e=z,w++),h[2*f+1]=e,f>k||(a.bl_count[e]++,n=0,f>=u&&(n=v[f-u]),p=h[2*f],a.opt_len+=p*(e+n),t&&(a.static_len+=p*(r[2*f+1]+n)));if(0!==w){do{for(e=z-
1;0===a.bl_count[e];)e--;a.bl_count[e]--;a.bl_count[e+1]+=2;a.bl_count[z]--;w-=2}while(0<w);for(e=z;0!==e;e--)for(f=a.bl_count[e];0!==f;)n=a.heap[--c],n>k||(h[2*n+1]!==e&&(a.opt_len+=(e-h[2*n+1])*h[2*n],h[2*n+1]=e),f--)}l(g,m,a.bl_count)}function u(a,b,c){var e,f,g=-1,h=b[1],k=0,l=7,m=4;0===h&&(l=138,m=3);b[2*(c+1)+1]=65535;for(e=0;c>=e;e++)f=h,h=b[2*(e+1)+1],++k<l&&f===h||(m>k?a.bl_tree[2*f]+=k:0!==f?(f!==g&&a.bl_tree[2*f]++,a.bl_tree[2*x]++):10>=k?a.bl_tree[2*y]++:a.bl_tree[2*za]++,k=0,g=f,0===
h?(l=138,m=3):f===h?(l=6,m=3):(l=7,m=4))}function v(a,b,c){var e,f,k=-1,l=b[1],m=0,n=7,p=4;0===l&&(n=138,p=3);for(e=0;c>=e;e++)if(f=l,l=b[2*(e+1)+1],!(++m<n&&f===l)){if(p>m){do g(a,f,a.bl_tree);while(0!==--m)}else 0!==f?(f!==k&&(g(a,f,a.bl_tree),m--),g(a,x,a.bl_tree),h(a,m-3,2)):10>=m?(g(a,y,a.bl_tree),h(a,m-3,3)):(g(a,za,a.bl_tree),h(a,m-11,7));m=0;k=f;0===l?(n=138,p=3):f===l?(n=6,p=3):(n=7,p=4)}}function z(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return G;if(0!==
a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return C;for(b=32;B>b;b++)if(0!==a.dyn_ltree[2*b])return C;return G}function H(a,b,c,f){h(a,(A<<1)+(f?1:0),3);n(a);e(a,c);e(a,~c);F.arraySet(a.pending_buf,a.window,b,c,a.pending);a.pending+=c}var F=a("../utils/common"),G=0,C=1,A=0,B=256,w=B+1+29,K=30,P=19,J=2*w+1,ca=15,R=16,ra=256,x=16,y=17,za=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ea=[0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=Array(2*(w+2));f(M);var V=Array(2*K);f(V);var Z=Array(512);f(Z);var ja=Array(256);f(ja);var ga=Array(29);f(ga);var T=Array(K);f(T);var ka,ma,aa,E=function(a,b,c,e,f){this.static_tree=a;this.extra_bits=b;this.extra_base=c;this.elems=e;this.max_length=f;this.has_stree=a&&a.length},Ka=function(a,b){this.dyn_tree=a;this.max_code=0;this.stat_desc=b},ta=!1;b._tr_init=function(a){if(!ta){var b,c,e,f=Array(ca+1);for(e=c=0;28>
e;e++){ga[e]=c;for(b=0;b<1<<X[e];b++)ja[c++]=e}ja[c-1]=e;for(e=c=0;16>e;e++){T[e]=c;for(b=0;b<1<<L[e];b++)Z[c++]=e}for(c>>=7;K>e;e++){T[e]=c<<7;for(b=0;b<1<<L[e]-7;b++)Z[256+c++]=e}for(b=0;ca>=b;b++)f[b]=0;for(b=0;143>=b;)M[2*b+1]=8,b++,f[8]++;for(;255>=b;)M[2*b+1]=9,b++,f[9]++;for(;279>=b;)M[2*b+1]=7,b++,f[7]++;for(;287>=b;)M[2*b+1]=8,b++,f[8]++;l(M,w+1,f);for(b=0;K>b;b++)V[2*b+1]=5,V[2*b]=k(b,5);ka=new E(M,X,B+1,w,ca);ma=new E(V,L,0,K,ca);aa=new E([],ea,0,P,7);ta=!0}a.l_desc=new Ka(a.dyn_ltree,
ka);a.d_desc=new Ka(a.dyn_dtree,ma);a.bl_desc=new Ka(a.bl_tree,aa);a.bi_buf=0;a.bi_valid=0;m(a)};b._tr_stored_block=H;b._tr_flush_block=function(a,b,c,e){var f,g,k=0;if(0<a.level){2===a.strm.data_type&&(a.strm.data_type=z(a));t(a,a.l_desc);t(a,a.d_desc);u(a,a.dyn_ltree,a.l_desc.max_code);u(a,a.dyn_dtree,a.d_desc.max_code);t(a,a.bl_desc);for(k=P-1;3<=k&&0===a.bl_tree[2*Q[k]+1];k--);k=(a.opt_len+=3*(k+1)+14,k);f=a.opt_len+3+7>>>3;g=a.static_len+3+7>>>3;f>=g&&(f=g)}else f=g=c+5;if(f>=c+4&&-1!==b)H(a,
b,c,e);else if(4===a.strategy||g===f)h(a,2+(e?1:0),3),r(a,M,V);else{h(a,4+(e?1:0),3);b=a.l_desc.max_code+1;c=a.d_desc.max_code+1;k+=1;h(a,b-257,5);h(a,c-1,5);h(a,k-4,4);for(f=0;k>f;f++)h(a,a.bl_tree[2*Q[f]+1],3);v(a,a.dyn_ltree,b-1);v(a,a.dyn_dtree,c-1);r(a,a.dyn_ltree,a.dyn_dtree)}m(a);e&&n(a)};b._tr_tally=function(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,
b--,a.dyn_ltree[2*(ja[c]+B+1)]++,a.dyn_dtree[2*(256>b?Z[b]:Z[256+(b>>>7)])]++),a.last_lit===a.lit_bufsize-1};b._tr_align=function(a){h(a,2,3);g(a,ra,M);16===a.bi_valid?(e(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}},{"../utils/common":27}],39:[function(a,c){c.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=
null;this.data_type=2;this.adler=0}},{}]},{},[9])(9)});"use strict";
tv.exportTo("tracing.importer",function(){function d(a,b){if("string"===typeof b||b instanceof String)b=JSZip.utils.transformTo("uint8array",b);else if(b instanceof ArrayBuffer)b=new Uint8Array(b);else throw Error("Unknown gzip data format");this.model_=a;this.gzipData_=b}var a=tracing.importer.Importer;d.canImport=function(a){if(a instanceof ArrayBuffer)a=new Uint8Array(a.slice(0,3));else if("string"===typeof a||a instanceof String)a=a.substring(0,3),a=JSZip.utils.transformTo("uint8array",a);else return!1;
return 31==a[0]&&139==a[1]&&8==a[2]};d.inflateGzipData_=function(a){function b(){if(e>=a.length)throw Error("Unexpected end of gzip data");return a[e++]}function d(){var a=b();return(b()<<8)+a}var e=0,h=b(),g=b();if(31!==h||139!==g)throw Error("Not gzip data");h=b();if(8!==h)throw Error("Unsupported compression method: "+h);var k=b(),h=k&2,g=k&8,l=k&16,e=e+6;k&4&&(k=d(),e+=k);if(g)for(;0!=b(););if(l)for(;0!=b(););h&&d();h=JSZip.compressions.DEFLATE.uncompress(a.subarray(e));return JSZip.utils.transformTo("string",
h)};d.prototype={__proto__:a.prototype,isTraceDataContainer:function(){return!0},extractSubtraces:function(){var a=d.inflateGzipData_(this.gzipData_);return a?[a]:[]}};tracing.importer.Importer.register(d);return{GzipImporter:d}});"use strict";
tv.exportTo("tracing.importer",function(){function d(a,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));this.model_=a;this.eventData_=b}var a=tracing.importer.Importer;d.canImport=function(a){if(a instanceof ArrayBuffer)a=new Uint8Array(a.slice(0,2));else if("string"===typeof a||a instanceof String)a=[a.charCodeAt(0),a.charCodeAt(1)];else return!1;return 80===a[0]&&75===a[1]};d.prototype={__proto__:a.prototype,isTraceDataContainer:function(){return!0},extractSubtraces:function(){var a=new JSZip(this.eventData_),
b=[],d;for(d in a.files)b.push(a.files[d].asText());return b}};tracing.importer.Importer.register(d);return{ZipImporter:d}});"use strict";tv.exportTo("tracing.importer.linux_perf",function(){function d(a){this.importer=a;this.model=a.model}var a=[];d.registerSubtype=function(c){a.push(c)};d.getSubtypeConstructors=function(){return a};d.prototype={__proto__:Object.prototype};return{Parser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(c){a.call(this,c);c.registerEventHandler("memory_bus_usage",d.prototype.traceMarkWriteBusEvent.bind(this));this.model_=c.model_;this.ppids_={}}var a=tracing.importer.linux_perf.Parser;d.prototype={__proto__:a.prototype,traceMarkWriteBusEvent:function(a,b,d,e,h,g){d=/bus=(\S+) rw_bytes=(\d+) r_bytes=(\d+) w_bytes=(\d+) cycles=(\d+) ns=(\d+)/.exec(h.details);a=d[1];parseInt(d[2]);b=parseInt(d[3]);parseInt(d[4]);parseInt(d[5]);d=parseInt(d[6]);
var k=1E9*b/d,k=k/1048576;b=this.model_.getOrCreateProcess(0).getOrCreateCounter(null,"bus "+a+" read");0===b.numSeries&&b.addSeries(new tracing.trace_model.CounterSeries("value",tv.ui.getStringColorId(b.name+".value")));b.series.forEach(function(a){a.addCounterSample(e,k)});b=this.model_.getOrCreateProcess(0).getOrCreateCounter(null,"bus "+a+" write");0===b.numSeries&&b.addSeries(new tracing.trace_model.CounterSeries("value",tv.ui.getStringColorId(b.name+".value")));b.series.forEach(function(a){a.addCounterSample(e,
k)});return!0}};a.registerSubtype(d);return{BusParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(c){a.call(this,c);c.registerEventHandler("clock_set_rate",d.prototype.traceMarkWriteClockEvent.bind(this));this.model_=c.model_;this.ppids_={}}var a=tracing.importer.linux_perf.Parser;d.prototype={__proto__:a.prototype,traceMarkWriteClockEvent:function(a,b,d,e,h,g){a=/(\S+) state=(\d+) cpu_id=(\d+)/.exec(h.details);b=a[1];var k=parseInt(a[2]);a=this.model_.getOrCreateProcess(0).getOrCreateCounter(null,b);0===a.numSeries&&a.addSeries(new tracing.trace_model.CounterSeries("value",
tv.ui.getStringColorId(a.name+".value")));a.series.forEach(function(a){a.addCounterSample(e,k)});return!0}};a.registerSubtype(d);return{ClockParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(a){c.call(this,a);a.registerEventHandler("cpufreq_interactive_up",d.prototype.cpufreqUpDownEvent.bind(this));a.registerEventHandler("cpufreq_interactive_down",d.prototype.cpufreqUpDownEvent.bind(this));a.registerEventHandler("cpufreq_interactive_already",d.prototype.cpufreqTargetEvent.bind(this));a.registerEventHandler("cpufreq_interactive_notyet",d.prototype.cpufreqTargetEvent.bind(this));a.registerEventHandler("cpufreq_interactive_setspeed",
d.prototype.cpufreqTargetEvent.bind(this));a.registerEventHandler("cpufreq_interactive_target",d.prototype.cpufreqTargetEvent.bind(this));a.registerEventHandler("cpufreq_interactive_boost",d.prototype.cpufreqBoostUnboostEvent.bind(this));a.registerEventHandler("cpufreq_interactive_unboost",d.prototype.cpufreqBoostUnboostEvent.bind(this))}function a(a){var c={};a=a.split(/\s+/);for(var d=a.length,h=0;h<d;h++){var g=a[h].split("=");c[g[0]]=parseInt(g[1])}return c}var c=tracing.importer.linux_perf.Parser;
d.prototype={__proto__:c.prototype,cpufreqSlice:function(a,c,d,h){d=this.importer.getOrCreatePseudoThread("cpufreq");d.openSlice=c;a=new tracing.trace_model.Slice("",d.openSlice,tv.ui.getStringColorId(d.openSlice),a,h,0);d.thread.sliceGroup.pushSlice(a)},cpufreqBoostSlice:function(a,c,d){var h=this.importer.getOrCreatePseudoThread("cpufreq_boost");h.openSlice=c;a=new tracing.trace_model.Slice("",h.openSlice,tv.ui.getStringColorId(h.openSlice),a,d,0);h.thread.sliceGroup.pushSlice(a)},cpufreqUpDownEvent:function(b,
c,d,h,g){c=a(g.details);this.cpufreqSlice(h,b,c.cpu,c);return!0},cpufreqTargetEvent:function(b,c,d,h,g){c=a(g.details);this.cpufreqSlice(h,b,c.cpu,c);return!0},cpufreqBoostUnboostEvent:function(a,c,d,h,g){this.cpufreqBoostSlice(h,a,{type:g.details});return!0}};c.registerSubtype(d);return{CpufreqParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(c){a.call(this,c);c.registerEventHandler("f2fs_write_begin",d.prototype.f2fsWriteBeginEvent.bind(this));c.registerEventHandler("f2fs_write_end",d.prototype.f2fsWriteEndEvent.bind(this));c.registerEventHandler("f2fs_sync_file_enter",d.prototype.f2fsSyncFileEnterEvent.bind(this));c.registerEventHandler("f2fs_sync_file_exit",d.prototype.f2fsSyncFileExitEvent.bind(this));c.registerEventHandler("ext4_sync_file_enter",d.prototype.ext4SyncFileEnterEvent.bind(this));
c.registerEventHandler("ext4_sync_file_exit",d.prototype.ext4SyncFileExitEvent.bind(this));c.registerEventHandler("ext4_da_write_begin",d.prototype.ext4WriteBeginEvent.bind(this));c.registerEventHandler("ext4_da_write_end",d.prototype.ext4WriteEndEvent.bind(this));c.registerEventHandler("block_rq_issue",d.prototype.blockRqIssueEvent.bind(this));c.registerEventHandler("block_rq_complete",d.prototype.blockRqCompleteEvent.bind(this))}var a=tracing.importer.linux_perf.Parser;d.prototype={__proto__:a.prototype,
openAsyncSlice:function(a,b,d,e,h,g){d=this.importer.getOrCreateKernelThread(b+":"+d,e);a=new (tracing.trace_model.AsyncSlice.getConstructor(b,g))(b,g,tv.ui.getStringColorId(g),a);a.startThread=d.thread;d.openAsyncSlices||(d.openAsyncSlices={});d.openAsyncSlices[h]=a},closeAsyncSlice:function(a,b,d,e,h,g){d=this.importer.getOrCreateKernelThread(b+":"+d,e);if(d.openAsyncSlices&&(e=d.openAsyncSlices[h]))e.duration=a-e.start,e.args=g,e.endThread=d.thread,e.subSlices=[new tracing.trace_model.Slice(b,
e.title,e.colorId,e.start,e.args,e.duration)],d.thread.asyncSliceGroup.push(e),delete d.openAsyncSlices[h]},f2fsWriteBeginEvent:function(a,b,d,e,h){var g=/dev = \((\d+,\d+)\), ino = (\d+), pos = (\d+), len = (\d+), flags = (\d+)/.exec(h.details);if(!g)return!1;a=g[1];b=parseInt(g[2]);d=parseInt(g[3]);g=parseInt(g[4]);this.openAsyncSlice(e,"f2fs",h.threadName,h.pid,a+"-"+b+"-"+d+"-"+g,"f2fs_write");return!0},f2fsWriteEndEvent:function(a,b,d,e,h){var g=/dev = \((\d+,\d+)\), ino = (\d+), pos = (\d+), len = (\d+), copied = (\d+)/.exec(h.details);
if(!g)return!1;a=g[1];b=parseInt(g[2]);d=parseInt(g[3]);var k=parseInt(g[4]),g=parseInt(g[5])!==k;this.closeAsyncSlice(e,"f2fs",h.threadName,h.pid,a+"-"+b+"-"+d+"-"+k,{device:a,inode:b,error:g});return!0},ext4WriteBeginEvent:function(a,b,d,e,h){var g=/dev (\d+,\d+) ino (\d+) pos (\d+) len (\d+) flags (\d+)/.exec(h.details);if(!g)return!1;a=g[1];b=parseInt(g[2]);d=parseInt(g[3]);g=parseInt(g[4]);this.openAsyncSlice(e,"ext4",h.threadName,h.pid,a+"-"+b+"-"+d+"-"+g,"ext4_write");return!0},ext4WriteEndEvent:function(a,
b,d,e,h){var g=/dev (\d+,\d+) ino (\d+) pos (\d+) len (\d+) copied (\d+)/.exec(h.details);if(!g)return!1;a=g[1];b=parseInt(g[2]);d=parseInt(g[3]);var k=parseInt(g[4]),g=parseInt(g[5])!==k;this.closeAsyncSlice(e,"ext4",h.threadName,h.pid,a+"-"+b+"-"+d+"-"+k,{device:a,inode:b,error:g});return!0},f2fsSyncFileEnterEvent:function(a,b,d,e,h){b=RegExp("dev = \\((\\d+,\\d+)\\), ino = (\\d+), pino = (\\d+), i_mode = (\\S+), i_size = (\\d+), i_nlink = (\\d+), i_blocks = (\\d+), i_advise = (\\d+)").exec(h.details);
if(!b)return!1;a=b[1];b=parseInt(b[2]);this.openAsyncSlice(e,"f2fs",h.threadName,h.pid,a+"-"+b,"fsync");return!0},f2fsSyncFileExitEvent:function(a,b,d,e,h){d=/dev = \((\d+,\d+)\), ino = (\d+), checkpoint is (\S+), datasync = (\d+), ret = (\d+)/.exec(h.details.replace("not needed","not_needed"));if(!d)return!1;a=d[1];b=parseInt(d[2]);d=parseInt(d[5]);this.closeAsyncSlice(e,"f2fs",h.threadName,h.pid,a+"-"+b,{device:a,inode:b,error:d});return!0},ext4SyncFileEnterEvent:function(a,b,d,e,h){a=/dev (\d+,\d+) ino (\d+) parent (\d+) datasync (\d+)/.exec(h.details);
if(!a)return!1;b=a[1];d=parseInt(a[2]);this.openAsyncSlice(e,"ext4",h.threadName,h.pid,b+"-"+d,1==a[4]?"fdatasync":"fsync");return!0},ext4SyncFileExitEvent:function(a,b,d,e,h){d=/dev (\d+,\d+) ino (\d+) ret (\d+)/.exec(h.details);if(!d)return!1;a=d[1];b=parseInt(d[2]);d=parseInt(d[3]);this.closeAsyncSlice(e,"ext4",h.threadName,h.pid,a+"-"+b,{device:a,inode:b,error:d});return!0},blockRqIssueEvent:function(a,b,d,e,h){var g=/(\d+,\d+) (F)?([DWRN])(F)?(A)?(S)?(M)? \d+ \(.*\) (\d+) \+ (\d+) \[.*\]/.exec(h.details);
if(!g)return!1;switch(g[3]){case "D":a="discard";break;case "W":a="write";break;case "R":a="read";break;case "N":a="none";break;default:a="unknown"}g[2]&&(a+=" flush");"F"==g[4]&&(a+=" fua");"A"==g[5]&&(a+=" ahead");"S"==g[6]&&(a+=" sync");"M"==g[7]&&(a+=" meta");b=g[1];d=parseInt(g[8]);g=parseInt(g[9]);this.openAsyncSlice(e,"block",h.threadName,h.pid,b+"-"+d+"-"+g,a);return!0},blockRqCompleteEvent:function(a,b,d,e,h){var g=/(\d+,\d+) (F)?([DWRN])(F)?(A)?(S)?(M)? \(.*\) (\d+) \+ (\d+) \[(.*)\]/.exec(h.details);
if(!g)return!1;a=g[1];b=parseInt(g[8]);d=parseInt(g[9]);g=parseInt(g[10]);this.closeAsyncSlice(e,"block",h.threadName,h.pid,a+"-"+b+"-"+d,{device:a,sector:b,numSectors:d,error:g});return!0}};a.registerSubtype(d);return{DiskParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(c){a.call(this,c);c.registerEventHandler("drm_vblank_event",d.prototype.vblankEvent.bind(this))}var a=tracing.importer.linux_perf.Parser;d.prototype={__proto__:a.prototype,drmVblankSlice:function(a,b,d){var e=this.importer.getOrCreatePseudoThread("drm_vblank");e.openSlice=b;a=new tracing.trace_model.Slice("",e.openSlice,tv.ui.getStringColorId(e.openSlice),a,d,0);e.thread.sliceGroup.pushSlice(a)},vblankEvent:function(a,b,d,e,h){b=/crtc=(\d+), seq=(\d+)/.exec(h.details);
if(!b)return!1;a=parseInt(b[1]);b=parseInt(b[2]);this.drmVblankSlice(e,"vblank:"+a,{crtc:a,seq:b});return!0}};a.registerSubtype(d);return{DrmParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(b){a.call(this,b);b.registerEventHandler("irq_handler_entry",d.prototype.irqHandlerEntryEvent.bind(this));b.registerEventHandler("irq_handler_exit",d.prototype.irqHandlerExitEvent.bind(this));b.registerEventHandler("softirq_raise",d.prototype.softirqRaiseEvent.bind(this));b.registerEventHandler("softirq_entry",d.prototype.softirqEntryEvent.bind(this));b.registerEventHandler("softirq_exit",d.prototype.softirqExitEvent.bind(this))}var a=
tracing.importer.linux_perf.Parser,c=/irq=(\d+) name=(.+)/,b=/irq=(\d+) ret=(.+)/,f=/vec=(\d+) \[action=(.+)\]/;d.prototype={__proto__:a.prototype,irqHandlerEntryEvent:function(a,b,d,f,l){a=c.exec(l.details);if(!a)return!1;parseInt(a[1]);a=a[2];b=this.importer.getOrCreatePseudoThread("irqs cpu "+b);b.lastEntryTs=f;b.irqName=a;return!0},irqHandlerExitEvent:function(a,c,d,f,l){a=b.exec(l.details);if(!a)return!1;parseInt(a[1]);d=a[2];c=this.importer.getOrCreatePseudoThread("irqs cpu "+c);void 0!==c.lastEntryTs&&
(f-=c.lastEntryTs,f=new tracing.trace_model.Slice("",c.irqName,tv.ui.getStringColorId(a[1]),c.lastEntryTs,{ret:d},f),c.thread.sliceGroup.pushSlice(f));c.lastEntryTs=void 0;c.irqName=void 0;return!0},softirqRaiseEvent:function(a,b,c,d,f){return!0},softirqEntryEvent:function(a,b,c,d,l){if(!f.exec(l.details))return!1;this.importer.getOrCreatePseudoThread("softirq cpu "+b).lastEntryTs=d;return!0},softirqExitEvent:function(a,b,c,d,l){a=f.exec(l.details);if(!a)return!1;c=parseInt(a[1]);l=a[2];b=this.importer.getOrCreatePseudoThread("softirq cpu "+
b);void 0!==b.lastEntryTs&&(d-=b.lastEntryTs,d=new tracing.trace_model.Slice("",l,tv.ui.getStringColorId(a[1]),b.lastEntryTs,{vec:c},d),b.thread.sliceGroup.pushSlice(d));b.lastEntryTs=void 0;return!0}};a.registerSubtype(d);return{IrqParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(c){a.call(this,c);c.registerEventHandler("exynos_busfreq_target_int",d.prototype.busfreqTargetIntEvent.bind(this));c.registerEventHandler("exynos_busfreq_target_mif",d.prototype.busfreqTargetMifEvent.bind(this));c.registerEventHandler("exynos_page_flip_state",d.prototype.pageFlipStateEvent.bind(this))}var a=tracing.importer.linux_perf.Parser;d.prototype={__proto__:a.prototype,exynosBusfreqSample:function(a,b,d){a=this.importer.getOrCreateCpu(0).getOrCreateCounter("",
a);0===a.numSeries&&a.addSeries(new tracing.trace_model.CounterSeries("frequency",tv.ui.getStringColorId(a.name+".frequency")));a.series.forEach(function(a){a.addCounterSample(b,d)})},busfreqTargetIntEvent:function(a,b,d,e,h){a=/frequency=(\d+)/.exec(h.details);if(!a)return!1;this.exynosBusfreqSample("INT Frequency",e,parseInt(a[1]));return!0},busfreqTargetMifEvent:function(a,b,d,e,h){a=/frequency=(\d+)/.exec(h.details);if(!a)return!1;this.exynosBusfreqSample("MIF Frequency",e,parseInt(a[1]));return!0},
exynosPageFlipStateOpenSlice:function(a,b,d,e){b=this.importer.getOrCreatePseudoThread("exynos_flip_state (pipe:"+b+", fb:"+d+")");b.openSliceTS=a;b.openSlice=e},exynosPageFlipStateCloseSlice:function(a,b,d,e){b=this.importer.getOrCreatePseudoThread("exynos_flip_state (pipe:"+b+", fb:"+d+")");b.openSlice&&(a=new tracing.trace_model.Slice("",b.openSlice,tv.ui.getStringColorId(b.openSlice),b.openSliceTS,e,a-b.openSliceTS),b.thread.sliceGroup.pushSlice(a));b.openSlice=void 0},pageFlipStateEvent:function(a,
b,d,e,h){d=/pipe=(\d+), fb=(\d+), state=(.*)/.exec(h.details);if(!d)return!1;a=parseInt(d[1]);b=parseInt(d[2]);d=d[3];this.exynosPageFlipStateCloseSlice(e,a,b,{pipe:a,fb:b});"flipped"!==d&&this.exynosPageFlipStateOpenSlice(e,a,b,d);return!0}};a.registerSubtype(d);return{ExynosParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(c){a.call(this,c);c.registerEventHandler("tracing_mark_write:log",d.prototype.logEvent.bind(this));c.registerEventHandler("tracing_mark_write:SyncInterpret",d.prototype.syncEvent.bind(this));c.registerEventHandler("tracing_mark_write:HandleTimer",d.prototype.timerEvent.bind(this))}var a=tracing.importer.linux_perf.Parser;d.prototype={__proto__:a.prototype,gestureOpenSlice:function(a,b,d){this.importer.getOrCreatePseudoThread("gesture").thread.sliceGroup.beginSlice("touchpad_gesture",
a,b,d)},gestureCloseSlice:function(a,b){var d=this.importer.getOrCreatePseudoThread("gesture").thread;if(d.sliceGroup.openSliceCount){var e=d.sliceGroup.mostRecentlyOpenedPartialSlice;e.title!=a?this.importer.model.importWarning({type:"title_match_error",message:"Titles do not match. Title is "+e.title+" in openSlice, and is "+a+" in endSlice"}):d.sliceGroup.endSlice(b)}},logEvent:function(a,b,d,e,h){a=/^\s*(\w+):\s*(\w+)$/.exec(h.details);switch(a[1]){case "start":this.gestureOpenSlice("GestureLog",
e,{name:a[2]});break;case "end":this.gestureCloseSlice("GestureLog",e)}return!0},syncEvent:function(a,b,d,e,h){a=/^\s*(\w+):\s*(\w+)$/.exec(h.details);switch(a[1]){case "start":this.gestureOpenSlice("SyncInterpret",e,{interpreter:a[2]});break;case "end":this.gestureCloseSlice("SyncInterpret",e)}return!0},timerEvent:function(a,b,d,e,h){a=/^\s*(\w+):\s*(\w+)$/.exec(h.details);switch(a[1]){case "start":this.gestureOpenSlice("HandleTimer",e,{interpreter:a[2]});break;case "end":this.gestureCloseSlice("HandleTimer",
e)}return!0}};a.registerSubtype(d);return{GestureParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(c){a.call(this,c);c.registerEventHandler("i915_gem_object_create",d.prototype.gemObjectCreateEvent.bind(this));c.registerEventHandler("i915_gem_object_bind",d.prototype.gemObjectBindEvent.bind(this));c.registerEventHandler("i915_gem_object_unbind",d.prototype.gemObjectBindEvent.bind(this));c.registerEventHandler("i915_gem_object_change_domain",d.prototype.gemObjectChangeDomainEvent.bind(this));c.registerEventHandler("i915_gem_object_pread",
d.prototype.gemObjectPreadWriteEvent.bind(this));c.registerEventHandler("i915_gem_object_pwrite",d.prototype.gemObjectPreadWriteEvent.bind(this));c.registerEventHandler("i915_gem_object_fault",d.prototype.gemObjectFaultEvent.bind(this));c.registerEventHandler("i915_gem_object_clflush",d.prototype.gemObjectDestroyEvent.bind(this));c.registerEventHandler("i915_gem_object_destroy",d.prototype.gemObjectDestroyEvent.bind(this));c.registerEventHandler("i915_gem_ring_dispatch",d.prototype.gemRingDispatchEvent.bind(this));
c.registerEventHandler("i915_gem_ring_flush",d.prototype.gemRingFlushEvent.bind(this));c.registerEventHandler("i915_gem_request",d.prototype.gemRequestEvent.bind(this));c.registerEventHandler("i915_gem_request_add",d.prototype.gemRequestEvent.bind(this));c.registerEventHandler("i915_gem_request_complete",d.prototype.gemRequestEvent.bind(this));c.registerEventHandler("i915_gem_request_retire",d.prototype.gemRequestEvent.bind(this));c.registerEventHandler("i915_gem_request_wait_begin",d.prototype.gemRequestEvent.bind(this));
c.registerEventHandler("i915_gem_request_wait_end",d.prototype.gemRequestEvent.bind(this));c.registerEventHandler("i915_gem_ring_wait_begin",d.prototype.gemRingWaitEvent.bind(this));c.registerEventHandler("i915_gem_ring_wait_end",d.prototype.gemRingWaitEvent.bind(this));c.registerEventHandler("i915_reg_rw",d.prototype.regRWEvent.bind(this));c.registerEventHandler("i915_flip_request",d.prototype.flipEvent.bind(this));c.registerEventHandler("i915_flip_complete",d.prototype.flipEvent.bind(this))}var a=
tracing.importer.linux_perf.Parser;d.prototype={__proto__:a.prototype,i915FlipOpenSlice:function(a,b,d){var e=this.importer.getOrCreatePseudoThread("i915_flip");e.openSliceTS=a;e.openSlice="flip:"+b+"/"+d},i915FlipCloseSlice:function(a,b){var d=this.importer.getOrCreatePseudoThread("i915_flip");if(d.openSlice){var e=new tracing.trace_model.Slice("",d.openSlice,tv.ui.getStringColorId(d.openSlice),d.openSliceTS,b,a-d.openSliceTS);d.thread.sliceGroup.pushSlice(e)}d.openSlice=void 0},i915GemObjectSlice:function(a,
b,d,e){var h=this.importer.getOrCreatePseudoThread("i915_gem");h.openSlice=b+":"+d;a=new tracing.trace_model.Slice("",h.openSlice,tv.ui.getStringColorId(h.openSlice),a,e,0);h.thread.sliceGroup.pushSlice(a)},i915GemRingSlice:function(a,b,d,e,h){var g=this.importer.getOrCreatePseudoThread("i915_gem_ring");g.openSlice=b+":"+d+"."+e;a=new tracing.trace_model.Slice("",g.openSlice,tv.ui.getStringColorId(g.openSlice),a,h,0);g.thread.sliceGroup.pushSlice(a)},i915RegSlice:function(a,b,d,e){var h=this.importer.getOrCreatePseudoThread("i915_reg");
h.openSlice=b+":"+d;a=new tracing.trace_model.Slice("",h.openSlice,tv.ui.getStringColorId(h.openSlice),a,e,0);h.thread.sliceGroup.pushSlice(a)},gemObjectCreateEvent:function(a,b,d,e,h){d=/obj=(\w+), size=(\d+)/.exec(h.details);if(!d)return!1;b=d[1];d=parseInt(d[2]);this.i915GemObjectSlice(e,a,b,{obj:b,size:d});return!0},gemObjectBindEvent:function(a,b,d,e,h){h=/obj=(\w+), offset=(\w+), size=(\d+)/.exec(h.details);if(!h)return!1;b=h[1];d=h[2];h=parseInt(h[3]);this.i915ObjectGemSlice(e,a+":"+b,{obj:b,
offset:d,size:h});return!0},gemObjectChangeDomainEvent:function(a,b,d,e,h){b=/obj=(\w+), read=(\w+=>\w+), write=(\w+=>\w+)/.exec(h.details);if(!b)return!1;d=b[1];this.i915GemObjectSlice(e,a,d,{obj:d,read:b[2],write:b[3]});return!0},gemObjectPreadWriteEvent:function(a,b,d,e,h){h=/obj=(\w+), offset=(\d+), len=(\d+)/.exec(h.details);if(!h)return!1;b=h[1];d=parseInt(h[2]);h=parseInt(h[3]);this.i915GemObjectSlice(e,a,b,{obj:b,offset:d,len:h});return!0},gemObjectFaultEvent:function(a,b,d,e,h){h=/obj=(\w+), (\w+) index=(\d+)/.exec(h.details);
if(!h)return!1;b=h[1];d=h[2];h=parseInt(h[3]);this.i915GemObjectSlice(e,a,b,{obj:b,type:d,index:h});return!0},gemObjectDestroyEvent:function(a,b,d,e,h){b=/obj=(\w+)/.exec(h.details);if(!b)return!1;b=b[1];this.i915GemObjectSlice(e,a,b,{obj:b});return!0},gemRingDispatchEvent:function(a,b,d,e,h){h=/dev=(\d+), ring=(\d+), seqno=(\d+)/.exec(h.details);if(!h)return!1;b=parseInt(h[1]);d=parseInt(h[2]);h=parseInt(h[3]);this.i915GemRingSlice(e,a,b,d,{dev:b,ring:d,seqno:h});return!0},gemRingFlushEvent:function(a,
b,d,e,h){b=/dev=(\d+), ring=(\w+), invalidate=(\w+), flush=(\w+)/.exec(h.details);if(!b)return!1;d=parseInt(b[1]);h=parseInt(b[2]);this.i915GemRingSlice(e,a,d,h,{dev:d,ring:h,invalidate:b[3],flush:b[4]});return!0},gemRequestEvent:function(a,b,d,e,h){h=/dev=(\d+), ring=(\d+), seqno=(\d+)/.exec(h.details);if(!h)return!1;b=parseInt(h[1]);d=parseInt(h[2]);h=parseInt(h[3]);this.i915GemRingSlice(e,a,b,d,{dev:b,ring:d,seqno:h});return!0},gemRingWaitEvent:function(a,b,d,e,h){d=/dev=(\d+), ring=(\d+)/.exec(h.details);
if(!d)return!1;b=parseInt(d[1]);d=parseInt(d[2]);this.i915GemRingSlice(e,a,b,d,{dev:b,ring:d});return!0},regRWEvent:function(a,b,d,e,h){a=/(\w+) reg=(\w+), len=(\d+), val=(\(\w+, \w+\))/.exec(h.details);if(!a)return!1;b=a[1];d=a[2];this.i915RegSlice(e,b,d,{rw:b,reg:d,len:a[3],data:a[3]});return!0},flipEvent:function(a,b,d,e,h){d=/plane=(\d+), obj=(\w+)/.exec(h.details);if(!d)return!1;b=parseInt(d[1]);d=d[2];"i915_flip_request"==a?this.i915FlipOpenSlice(e,d,b):this.i915FlipCloseSlice(e,{obj:d,plane:b});
return!0}};a.registerSubtype(d);return{I915Parser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(c){a.call(this,c);c.registerEventHandler("mali_dvfs_event",d.prototype.dvfsEventEvent.bind(this));c.registerEventHandler("mali_dvfs_set_clock",d.prototype.dvfsSetClockEvent.bind(this));c.registerEventHandler("mali_dvfs_set_voltage",d.prototype.dvfsSetVoltageEvent.bind(this));this.addJMCounter("mali_hwc_MESSAGES_SENT","Messages Sent");this.addJMCounter("mali_hwc_MESSAGES_RECEIVED","Messages Received");this.addJMCycles("mali_hwc_GPU_ACTIVE",
"GPU Active");this.addJMCycles("mali_hwc_IRQ_ACTIVE","IRQ Active");for(var b=0;7>b;b++){var f="JS"+b,e="mali_hwc_"+f;this.addJMCounter(e+"_JOBS",f+" Jobs");this.addJMCounter(e+"_TASKS",f+" Tasks");this.addJMCycles(e+"_ACTIVE",f+" Active");this.addJMCycles(e+"_WAIT_READ",f+" Wait Read");this.addJMCycles(e+"_WAIT_ISSUE",f+" Wait Issue");this.addJMCycles(e+"_WAIT_DEPEND",f+" Wait Depend");this.addJMCycles(e+"_WAIT_FINISH",f+" Wait Finish")}this.addTilerCounter("mali_hwc_TRIANGLES","Triangles");this.addTilerCounter("mali_hwc_QUADS",
"Quads");this.addTilerCounter("mali_hwc_POLYGONS","Polygons");this.addTilerCounter("mali_hwc_POINTS","Points");this.addTilerCounter("mali_hwc_LINES","Lines");this.addTilerCounter("mali_hwc_VCACHE_HIT","VCache Hit");this.addTilerCounter("mali_hwc_VCACHE_MISS","VCache Miss");this.addTilerCounter("mali_hwc_FRONT_FACING","Front Facing");this.addTilerCounter("mali_hwc_BACK_FACING","Back Facing");this.addTilerCounter("mali_hwc_PRIM_VISIBLE","Prim Visible");this.addTilerCounter("mali_hwc_PRIM_CULLED","Prim Culled");
this.addTilerCounter("mali_hwc_PRIM_CLIPPED","Prim Clipped");this.addTilerCounter("mali_hwc_WRBUF_HIT","Wrbuf Hit");this.addTilerCounter("mali_hwc_WRBUF_MISS","Wrbuf Miss");this.addTilerCounter("mali_hwc_WRBUF_LINE","Wrbuf Line");this.addTilerCounter("mali_hwc_WRBUF_PARTIAL","Wrbuf Partial");this.addTilerCounter("mali_hwc_WRBUF_STALL","Wrbuf Stall");this.addTilerCycles("mali_hwc_ACTIVE","Tiler Active");this.addTilerCycles("mali_hwc_INDEX_WAIT","Index Wait");this.addTilerCycles("mali_hwc_INDEX_RANGE_WAIT",
"Index Range Wait");this.addTilerCycles("mali_hwc_VERTEX_WAIT","Vertex Wait");this.addTilerCycles("mali_hwc_PCACHE_WAIT","Pcache Wait");this.addTilerCycles("mali_hwc_WRBUF_WAIT","Wrbuf Wait");this.addTilerCycles("mali_hwc_BUS_READ","Bus Read");this.addTilerCycles("mali_hwc_BUS_WRITE","Bus Write");this.addTilerCycles("mali_hwc_TILER_UTLB_STALL","Tiler UTLB Stall");this.addTilerCycles("mali_hwc_TILER_UTLB_HIT","Tiler UTLB Hit");this.addFragCycles("mali_hwc_FRAG_ACTIVE","Active");this.addFragCounter("mali_hwc_FRAG_PRIMATIVES",
"Primitives");this.addFragCounter("mali_hwc_FRAG_PRIMATIVES_DROPPED","Primitives Dropped");this.addFragCycles("mali_hwc_FRAG_CYCLE_DESC","Descriptor Processing");this.addFragCycles("mali_hwc_FRAG_CYCLES_PLR","PLR Processing??");this.addFragCycles("mali_hwc_FRAG_CYCLES_VERT","Vertex Processing");this.addFragCycles("mali_hwc_FRAG_CYCLES_TRISETUP","Triangle Setup");this.addFragCycles("mali_hwc_FRAG_CYCLES_RAST","Rasterization???");this.addFragCounter("mali_hwc_FRAG_THREADS","Threads");this.addFragCounter("mali_hwc_FRAG_DUMMY_THREADS",
"Dummy Threads");this.addFragCounter("mali_hwc_FRAG_QUADS_RAST","Quads Rast");this.addFragCounter("mali_hwc_FRAG_QUADS_EZS_TEST","Quads EZS Test");this.addFragCounter("mali_hwc_FRAG_QUADS_EZS_KILLED","Quads EZS Killed");this.addFragCounter("mali_hwc_FRAG_QUADS_LZS_TEST","Quads LZS Test");this.addFragCounter("mali_hwc_FRAG_QUADS_LZS_KILLED","Quads LZS Killed");this.addFragCycles("mali_hwc_FRAG_CYCLE_NO_TILE","No Tiles");this.addFragCounter("mali_hwc_FRAG_NUM_TILES","Tiles");this.addFragCounter("mali_hwc_FRAG_TRANS_ELIM",
"Transactions Eliminated");this.addComputeCycles("mali_hwc_COMPUTE_ACTIVE","Active");this.addComputeCounter("mali_hwc_COMPUTE_TASKS","Tasks");this.addComputeCounter("mali_hwc_COMPUTE_THREADS","Threads Started");this.addComputeCycles("mali_hwc_COMPUTE_CYCLES_DESC","Waiting for Descriptors");this.addTripipeCycles("mali_hwc_TRIPIPE_ACTIVE","Active");this.addArithCounter("mali_hwc_ARITH_WORDS","Instructions (/Pipes)");this.addArithCycles("mali_hwc_ARITH_CYCLES_REG","Reg scheduling stalls (/Pipes)");this.addArithCycles("mali_hwc_ARITH_CYCLES_L0",
"L0 cache miss stalls (/Pipes)");this.addArithCounter("mali_hwc_ARITH_FRAG_DEPEND","Frag dep check failures (/Pipes)");this.addLSCounter("mali_hwc_LS_WORDS","Instruction Words Completed");this.addLSCounter("mali_hwc_LS_ISSUES","Full Pipeline Issues");this.addLSCounter("mali_hwc_LS_RESTARTS","Restarts (unpairable insts)");this.addLSCounter("mali_hwc_LS_REISSUES_MISS","Pipeline reissue (cache miss/uTLB)");this.addLSCounter("mali_hwc_LS_REISSUES_VD","Pipeline reissue (varying data)");this.addLSCounter("mali_hwc_LS_REISSUE_ATTRIB_MISS",
"Pipeline reissue (attribute cache miss)");this.addLSCounter("mali_hwc_LS_REISSUE_NO_WB","Writeback not used");this.addTexCounter("mali_hwc_TEX_WORDS","Words");this.addTexCounter("mali_hwc_TEX_BUBBLES","Bubbles");this.addTexCounter("mali_hwc_TEX_WORDS_L0","Words L0");this.addTexCounter("mali_hwc_TEX_WORDS_DESC","Words Desc");this.addTexCounter("mali_hwc_TEX_THREADS","Threads");this.addTexCounter("mali_hwc_TEX_RECIRC_FMISS","Recirc due to Full Miss");this.addTexCounter("mali_hwc_TEX_RECIRC_DESC","Recirc due to Desc Miss");
this.addTexCounter("mali_hwc_TEX_RECIRC_MULTI","Recirc due to Multipass");this.addTexCounter("mali_hwc_TEX_RECIRC_PMISS","Recirc due to Partial Cache Miss");this.addTexCounter("mali_hwc_TEX_RECIRC_CONF","Recirc due to Cache Conflict");this.addLSCCounter("mali_hwc_LSC_READ_HITS","Read Hits");this.addLSCCounter("mali_hwc_LSC_READ_MISSES","Read Misses");this.addLSCCounter("mali_hwc_LSC_WRITE_HITS","Write Hits");this.addLSCCounter("mali_hwc_LSC_WRITE_MISSES","Write Misses");this.addLSCCounter("mali_hwc_LSC_ATOMIC_HITS",
"Atomic Hits");this.addLSCCounter("mali_hwc_LSC_ATOMIC_MISSES","Atomic Misses");this.addLSCCounter("mali_hwc_LSC_LINE_FETCHES","Line Fetches");this.addLSCCounter("mali_hwc_LSC_DIRTY_LINE","Dirty Lines");this.addLSCCounter("mali_hwc_LSC_SNOOPS","Snoops");this.addAXICounter("mali_hwc_AXI_TLB_STALL","Address channel stall");this.addAXICounter("mali_hwc_AXI_TLB_MISS","Cache Miss");this.addAXICounter("mali_hwc_AXI_TLB_TRANSACTION","Transactions");this.addAXICounter("mali_hwc_LS_TLB_MISS","LS Cache Miss");
this.addAXICounter("mali_hwc_LS_TLB_HIT","LS Cache Hit");this.addAXICounter("mali_hwc_AXI_BEATS_READ","Read Beats");this.addAXICounter("mali_hwc_AXI_BEATS_WRITE","Write Beats");this.addMMUCounter("mali_hwc_MMU_TABLE_WALK","Page Table Walks");this.addMMUCounter("mali_hwc_MMU_REPLAY_MISS","Cache Miss from Replay Buffer");this.addMMUCounter("mali_hwc_MMU_REPLAY_FULL","Replay Buffer Full");this.addMMUCounter("mali_hwc_MMU_NEW_MISS","Cache Miss on New Request");this.addMMUCounter("mali_hwc_MMU_HIT","Cache Hit");
this.addMMUCycles("mali_hwc_UTLB_STALL","UTLB Stalled");this.addMMUCycles("mali_hwc_UTLB_REPLAY_MISS","UTLB Replay Miss");this.addMMUCycles("mali_hwc_UTLB_REPLAY_FULL","UTLB Replay Full");this.addMMUCycles("mali_hwc_UTLB_NEW_MISS","UTLB New Miss");this.addMMUCycles("mali_hwc_UTLB_HIT","UTLB Hit");this.addL2Counter("mali_hwc_L2_READ_BEATS","Read Beats");this.addL2Counter("mali_hwc_L2_WRITE_BEATS","Write Beats");this.addL2Counter("mali_hwc_L2_ANY_LOOKUP","Any Lookup");this.addL2Counter("mali_hwc_L2_READ_LOOKUP",
"Read Lookup");this.addL2Counter("mali_hwc_L2_SREAD_LOOKUP","Shareable Read Lookup");this.addL2Counter("mali_hwc_L2_READ_REPLAY","Read Replayed");this.addL2Counter("mali_hwc_L2_READ_SNOOP","Read Snoop");this.addL2Counter("mali_hwc_L2_READ_HIT","Read Cache Hit");this.addL2Counter("mali_hwc_L2_CLEAN_MISS","CleanUnique Miss");this.addL2Counter("mali_hwc_L2_WRITE_LOOKUP","Write Lookup");this.addL2Counter("mali_hwc_L2_SWRITE_LOOKUP","Shareable Write Lookup");this.addL2Counter("mali_hwc_L2_WRITE_REPLAY",
"Write Replayed");this.addL2Counter("mali_hwc_L2_WRITE_SNOOP","Write Snoop");this.addL2Counter("mali_hwc_L2_WRITE_HIT","Write Cache Hit");this.addL2Counter("mali_hwc_L2_EXT_READ_FULL","ExtRD with BIU Full");this.addL2Counter("mali_hwc_L2_EXT_READ_HALF","ExtRD with BIU >1/2 Full");this.addL2Counter("mali_hwc_L2_EXT_WRITE_FULL","ExtWR with BIU Full");this.addL2Counter("mali_hwc_L2_EXT_WRITE_HALF","ExtWR with BIU >1/2 Full");this.addL2Counter("mali_hwc_L2_EXT_READ","External Read (ExtRD)");this.addL2Counter("mali_hwc_L2_EXT_READ_LINE",
"ExtRD (linefill)");this.addL2Counter("mali_hwc_L2_EXT_WRITE","External Write (ExtWR)");this.addL2Counter("mali_hwc_L2_EXT_WRITE_LINE","ExtWR (linefill)");this.addL2Counter("mali_hwc_L2_EXT_WRITE_SMALL","ExtWR (burst size <64B)");this.addL2Counter("mali_hwc_L2_EXT_BARRIER","External Barrier");this.addL2Counter("mali_hwc_L2_EXT_AR_STALL","Address Read stalls");this.addL2Counter("mali_hwc_L2_EXT_R_BUF_FULL","Response Buffer full stalls");this.addL2Counter("mali_hwc_L2_EXT_RD_BUF_FULL","Read Data Buffer full stalls");
this.addL2Counter("mali_hwc_L2_EXT_R_RAW","RAW hazard stalls");this.addL2Counter("mali_hwc_L2_EXT_W_STALL","Write Data stalls");this.addL2Counter("mali_hwc_L2_EXT_W_BUF_FULL","Write Data Buffer full");this.addL2Counter("mali_hwc_L2_EXT_R_W_HAZARD","WAW or WAR hazard stalls");this.addL2Counter("mali_hwc_L2_TAG_HAZARD","Tag hazard replays");this.addL2Cycles("mali_hwc_L2_SNOOP_FULL","Snoop buffer full");this.addL2Cycles("mali_hwc_L2_REPLAY_FULL","Replay buffer full");c.registerEventHandler("tracing_mark_write:mali_driver",
d.prototype.maliDDKEvent.bind(this));this.model_=c.model_}var a=tracing.importer.linux_perf.Parser;d.prototype={__proto__:a.prototype,maliDDKOpenSlice:function(a,b,d,e,h){a=this.importer.model_.getOrCreateProcess(a).getOrCreateThread(b);e=/^([\w\d_]*)(?:\(\))?:?\s*(.*)$/.exec(e);a.sliceGroup.beginSlice("gpu-driver",e[1],d,{args:e[2],blockinfo:h})},maliDDKCloseSlice:function(a,b,d,e,h){a=this.importer.model_.getOrCreateProcess(a).getOrCreateThread(b);a.sliceGroup.openSliceCount&&a.sliceGroup.endSlice(d)},
autoDetectLineRE:function(a){var b=/^\s*\(([\w\-]*)\)\s*(\w+):\s*([\w\\\/\.\-]*@\d*):?\s*(.*)$/;if(b.test(a))return b;b=/^s*()(\w+):\s*([\w\\\/.\-]*):?\s*(.*)$/;return b.test(a)?b:null},lineRE:null,maliDDKEvent:function(a,b,d,e,h){if(null==this.lineRE&&(this.lineRE=this.autoDetectLineRE(h.details),null==this.lineRE))return!1;a=this.lineRE.exec(h.details);b=""===a[1]?"mali":a[1];switch(a[2]){case "cros_trace_print_enter":this.maliDDKOpenSlice(d,b,e,a[4],a[3]);break;case "cros_trace_print_exit":this.maliDDKCloseSlice(d,
b,e,[],a[3])}return!0},dvfsSample:function(a,b,d,e){var h=parseInt(e);a=this.model_.getOrCreateProcess(0).getOrCreateCounter("DVFS",a);0===a.numSeries&&a.addSeries(new tracing.trace_model.CounterSeries(b,tv.ui.getStringColorId(a.name)));a.series.forEach(function(a){a.addCounterSample(d,h)})},dvfsEventEvent:function(a,b,d,e,h){a=/utilization=(\d+)/.exec(h.details);if(!a)return!1;this.dvfsSample("DVFS Utilization","utilization",e,a[1]);return!0},dvfsSetClockEvent:function(a,b,d,e,h){a=/frequency=(\d+)/.exec(h.details);
if(!a)return!1;this.dvfsSample("DVFS Frequency","frequency",e,a[1]);return!0},dvfsSetVoltageEvent:function(a,b,d,e,h){a=/voltage=(\d+)/.exec(h.details);if(!a)return!1;this.dvfsSample("DVFS Voltage","voltage",e,a[1]);return!0},hwcSample:function(a,b,d,e,h){h=/val=(\d+)/.exec(h.details);if(!h)return!1;var g=parseInt(h[1]);a=this.model_.getOrCreateProcess(0).getOrCreateCounter(a,b);0===a.numSeries&&a.addSeries(new tracing.trace_model.CounterSeries(d,tv.ui.getStringColorId(a.name)));a.series.forEach(function(a){a.addCounterSample(e,
g)});return!0},jmSample:function(a,b,d,e){return this.hwcSample("mali:jm","JM: "+a,b,d,e)},addJMCounter:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.jmSample(b,"count",g,k)}.bind(this))},addJMCycles:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.jmSample(b,"cycles",g,k)}.bind(this))},tilerSample:function(a,b,d,e){return this.hwcSample("mali:tiler","Tiler: "+a,b,d,e)},addTilerCounter:function(a,b){this.importer.registerEventHandler(a,
function(a,c,d,g,k){return this.tilerSample(b,"count",g,k)}.bind(this))},addTilerCycles:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.tilerSample(b,"cycles",g,k)}.bind(this))},fragSample:function(a,b,d,e){return this.hwcSample("mali:fragment","Fragment: "+a,b,d,e)},addFragCounter:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.fragSample(b,"count",g,k)}.bind(this))},addFragCycles:function(a,b){this.importer.registerEventHandler(a,
function(a,c,d,g,k){return this.fragSample(b,"cycles",g,k)}.bind(this))},computeSample:function(a,b,d,e){return this.hwcSample("mali:compute","Compute: "+a,b,d,e)},addComputeCounter:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.computeSample(b,"count",g,k)}.bind(this))},addComputeCycles:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.computeSample(b,"cycles",g,k)}.bind(this))},addTripipeCycles:function(a,b){this.importer.registerEventHandler(a,
function(a,c,d,g,k){return this.hwcSample("mali:shader","Tripipe: "+b,"cycles",g,k)}.bind(this))},arithSample:function(a,b,d,e){return this.hwcSample("mali:arith","Arith: "+a,b,d,e)},addArithCounter:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.arithSample(b,"count",g,k)}.bind(this))},addArithCycles:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.arithSample(b,"cycles",g,k)}.bind(this))},addLSCounter:function(a,b){this.importer.registerEventHandler(a,
function(a,c,d,g,k){return this.hwcSample("mali:ls","LS: "+b,"count",g,k)}.bind(this))},textureSample:function(a,b,d,e){return this.hwcSample("mali:texture","Texture: "+a,b,d,e)},addTexCounter:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.textureSample(b,"count",g,k)}.bind(this))},addLSCCounter:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.hwcSample("mali:lsc","LSC: "+b,"count",g,k)}.bind(this))},addAXICounter:function(a,b){this.importer.registerEventHandler(a,
function(a,c,d,g,k){return this.hwcSample("mali:axi","AXI: "+b,"count",g,k)}.bind(this))},mmuSample:function(a,b,d,e){return this.hwcSample("mali:mmu","MMU: "+a,b,d,e)},addMMUCounter:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.mmuSample(b,"count",g,k)}.bind(this))},addMMUCycles:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.mmuSample(b,"cycles",g,k)}.bind(this))},l2Sample:function(a,b,d,e){return this.hwcSample("mali:l2","L2: "+
a,b,d,e)},addL2Counter:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.l2Sample(b,"count",g,k)}.bind(this))},addL2Cycles:function(a,b){this.importer.registerEventHandler(a,function(a,c,d,g,k){return this.l2Sample(b,"cycles",g,k)}.bind(this))}};a.registerSubtype(d);return{MaliParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(b){a.call(this,b);b.registerEventHandler("mm_vmscan_kswapd_wake",d.prototype.kswapdWake.bind(this));b.registerEventHandler("mm_vmscan_kswapd_sleep",d.prototype.kswapdSleep.bind(this));b.registerEventHandler("mm_vmscan_direct_reclaim_begin",d.prototype.reclaimBegin.bind(this));b.registerEventHandler("mm_vmscan_direct_reclaim_end",d.prototype.reclaimEnd.bind(this))}var a=tracing.importer.linux_perf.Parser,c=/nid=(\d+) order=(\d+)/,b=/order=(\d+) may_writepage=\d+ gfp_flags=(.+)/,
f=/nr_reclaimed=(\d+)/;d.prototype={__proto__:a.prototype,openAsyncSlice:function(a,b,c,d,f,m){c=this.importer.getOrCreateKernelThread(b+":"+c,d);a=new tracing.trace_model.AsyncSlice(b,m,tracing.getStringColorId(m),a);a.startThread=c.thread;c.openAsyncSlices||(c.openAsyncSlices={});c.openAsyncSlices[f]=a},closeAsyncSlice:function(a,b,c,d,f,m){c=this.importer.getOrCreateKernelThread(b+":"+c,d);if(c.openAsyncSlices&&(d=c.openAsyncSlices[f]))d.duration=a-d.start,d.args=m,d.endThread=c.thread,d.subSlices=
[new tracing.trace_model.Slice(b,d.title,d.colorId,d.start,d.args,d.duration)],c.thread.asyncSliceGroup.push(d),delete c.openAsyncSlices[f]},kswapdWake:function(a,b,d,f,l){a=c.exec(l.details);if(!a)return!1;parseInt(a[1]);a=parseInt(a[2]);d=this.importer.getOrCreateKernelThread("kswapd: "+l.threadName,d,d);d.openSliceTS?a>d.order&&(d.order=a):(d.openSliceTS=f,d.order=a);return!0},kswapdSleep:function(a,b,c,d,f){a=this.importer.getOrCreateKernelThread("kswapd: "+f.threadName,c,c);a.openSliceTS&&(d=
new tracing.trace_model.Slice("",f.threadName,tv.ui.getStringColorId(f.threadName),a.openSliceTS,{order:a.order},d-a.openSliceTS),a.thread.sliceGroup.pushSlice(d));a.openSliceTS=void 0;a.order=void 0;return!0},reclaimBegin:function(a,c,d,f,l){c=b.exec(l.details);if(!c)return!1;a=parseInt(c[1]);c=c[2];d=this.importer.getOrCreateKernelThread("direct reclaim: "+l.threadName,d,d);d.openSliceTS=f;d.order=a;d.gfp=c;return!0},reclaimEnd:function(a,b,c,d,l){a=f.exec(l.details);if(!a)return!1;a=parseInt(a[1]);
c=this.importer.getOrCreateKernelThread("direct reclaim: "+l.threadName,c,c);void 0!==c.openSliceTS&&(d=new tracing.trace_model.Slice("","direct reclaim",tv.ui.getStringColorId(l.threadName),c.openSliceTS,{order:c.order,gfp:c.gfp,nr_reclaimed:a},d-c.openSliceTS),c.thread.sliceGroup.pushSlice(d));c.openSliceTS=void 0;c.order=void 0;c.gfp=void 0;return!0}};a.registerSubtype(d);return{MemReclaimParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(c){a.call(this,c);c.registerEventHandler("power_start",d.prototype.powerStartEvent.bind(this));c.registerEventHandler("power_frequency",d.prototype.powerFrequencyEvent.bind(this));c.registerEventHandler("cpu_frequency",d.prototype.cpuFrequencyEvent.bind(this));c.registerEventHandler("cpu_idle",d.prototype.cpuIdleEvent.bind(this))}var a=tracing.importer.linux_perf.Parser;d.prototype={__proto__:a.prototype,cpuStateSlice:function(a,b,d,
e){b=this.importer.getOrCreateCpu(b);"1"!=d?this.importer.model.importWarning({type:"parse_error",message:"Don't understand power_start events of type "+d}):(d=b.getOrCreateCounter("","C-State"),0===d.numSeries&&d.addSeries(new tracing.trace_model.CounterSeries("state",tv.ui.getStringColorId(d.name+".state"))),d.series.forEach(function(b){b.addCounterSample(a,e)}))},cpuIdleSlice:function(a,b,d){b=this.importer.getOrCreateCpu(b).getOrCreateCounter("","C-State");0===b.numSeries&&b.addSeries(new tracing.trace_model.CounterSeries("state",
tv.ui.getStringColorId(b.name)));var e=4294967295!=d?d+1:0;b.series.forEach(function(b){b.addCounterSample(a,e)})},cpuFrequencySlice:function(a,b,d){b=this.importer.getOrCreateCpu(b).getOrCreateCounter("","Clock Frequency");0===b.numSeries&&b.addSeries(new tracing.trace_model.CounterSeries("state",tv.ui.getStringColorId(b.name+".state")));b.series.forEach(function(b){b.addCounterSample(a,d)})},powerStartEvent:function(a,b,d,e,h){a=/type=(\d+) state=(\d) cpu_id=(\d)+/.exec(h.details);if(!a)return!1;
b=parseInt(a[3]);d=parseInt(a[2]);this.cpuStateSlice(e,b,a[1],d);return!0},powerFrequencyEvent:function(a,b,d,e,h){b=/type=(\d+) state=(\d+) cpu_id=(\d)+/.exec(h.details);if(!b)return!1;a=parseInt(b[3]);b=parseInt(b[2]);this.cpuFrequencySlice(e,a,b);return!0},cpuFrequencyEvent:function(a,b,d,e,h){b=/state=(\d+) cpu_id=(\d)+/.exec(h.details);if(!b)return!1;a=parseInt(b[2]);b=parseInt(b[1]);this.cpuFrequencySlice(e,a,b);return!0},cpuIdleEvent:function(a,b,d,e,h){b=/state=(\d+) cpu_id=(\d)+/.exec(h.details);
if(!b)return!1;a=parseInt(b[2]);b=parseInt(b[1]);this.cpuIdleSlice(e,a,b);return!0}};a.registerSubtype(d);return{PowerParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(b){a.call(this,b);b.registerEventHandler("sched_switch",d.prototype.schedSwitchEvent.bind(this));b.registerEventHandler("sched_wakeup",d.prototype.schedWakeupEvent.bind(this))}var a=tracing.importer.linux_perf.Parser,c={},b=RegExp("prev_comm=(.+) prev_pid=(\\d+) prev_prio=(\\d+) prev_state=(\\S\\+?|\\S\\|\\S) ==> next_comm=(.+) next_pid=(\\d+) next_prio=(\\d+)");c.schedSwitchRE=b;var f=/comm=(.+) pid=(\d+) prio=(\d+) success=(\d+) target_cpu=(\d+)/;
c.schedWakeupRE=f;d.prototype={__proto__:a.prototype,schedSwitchEvent:function(a,c,d,f,l){var m=b.exec(l.details);if(!m)return!1;a=m[4];d=m[5];l=parseInt(m[6]);var m=parseInt(m[7]),n=this.importer.threadsByLinuxPid[l],n=n?n.userFriendlyName:d;this.importer.getOrCreateCpu(c).switchActiveThread(f,{stateWhenDescheduled:a},l,n,{comm:d,tid:l,prio:m});return!0},schedWakeupEvent:function(a,b,c,d,l){l=f.exec(l.details);if(!l)return!1;a=c;b=l[1];c=parseInt(l[2]);l=parseInt(l[3]);this.importer.markPidRunnable(d,
c,b,l,a);return!0}};a.registerSubtype(d);return{SchedParser:d,_SchedParserTestExports:c}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(b){a.call(this,b);b.registerEventHandler("sync_timeline",d.prototype.timelineEvent.bind(this));b.registerEventHandler("sync_wait",d.prototype.syncWaitEvent.bind(this));b.registerEventHandler("sync_pt",d.prototype.syncPtEvent.bind(this));this.model_=b.model_}var a=tracing.importer.linux_perf.Parser,c=/name=(\S+) value=(\S*)/,b=/(\S+) name=(\S+) state=(\d+)/,f=/name=(\S+) value=(\S*)/;d.prototype={__proto__:a.prototype,timelineEvent:function(a,
b,d,f,l){a=c.exec(l.details);if(!a)return!1;b=this.importer.getOrCreatePseudoThread(a[1]);void 0!==b.lastActiveTs&&(d=f-b.lastActiveTs,l=b.lastActiveValue,void 0==l&&(l=" "),d=new tracing.trace_model.Slice("",l,tv.ui.getStringColorId(l),b.lastActiveTs,{},d),b.thread.sliceGroup.pushSlice(d));b.lastActiveTs=f;b.lastActiveValue=a[2];return!0},syncWaitEvent:function(a,c,d,f,l){a=b.exec(l.details);if(!a||void 0===l.tgid)return!1;c=parseInt(l.tgid);d=this.model_.getOrCreateProcess(c).getOrCreateThread(d);
d.name=l.threadName;l=d.kernelSliceGroup;if(!l.isTimestampValidForBeginOrEnd(f))return this.model_.importWarning({type:"parse_error",message:"Timestamps are moving backward."}),!1;d='fence_wait("'+a[2]+'")';if("begin"==a[1])l.beginSlice(null,d,f,{"Start state":a[3]});else if("end"==a[1])0<l.openSliceCount&&l.endSlice(f);else return!1;return!0},syncPtEvent:function(a,b,c,d,l){return!f.exec(l.details)?!1:!0}};a.registerSubtype(d);return{SyncParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(b){a.call(this,b);b.registerEventHandler("workqueue_execute_start",d.prototype.executeStartEvent.bind(this));b.registerEventHandler("workqueue_execute_end",d.prototype.executeEndEvent.bind(this));b.registerEventHandler("workqueue_queue_work",d.prototype.executeQueueWork.bind(this));b.registerEventHandler("workqueue_activate_work",d.prototype.executeActivateWork.bind(this))}var a=tracing.importer.linux_perf.Parser,c=/work struct (.+): function (\S+)/,
b=/work struct (.+)/;d.prototype={__proto__:a.prototype,executeStartEvent:function(a,b,d,g,k){a=c.exec(k.details);if(!a)return!1;d=this.importer.getOrCreateKernelThread(k.threadName,d,d);d.openSliceTS=g;d.openSlice=a[2];return!0},executeEndEvent:function(a,c,d,g,k){if(!b.exec(k.details))return!1;a=this.importer.getOrCreateKernelThread(k.threadName,d,d);a.openSlice&&(g=new tracing.trace_model.Slice("",a.openSlice,tv.ui.getStringColorId(a.openSlice),a.openSliceTS,{},g-a.openSliceTS),a.thread.sliceGroup.pushSlice(g));
a.openSlice=void 0;return!0},executeQueueWork:function(a,b,c,d,k){return!0},executeActivateWork:function(a,b,c,d,k){return!0}};a.registerSubtype(d);return{WorkqueueParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(a){c.call(this,a);a.registerEventHandler("tracing_mark_write:android",d.prototype.traceMarkWriteAndroidEvent.bind(this));a.registerEventHandler("0:android",d.prototype.traceMarkWriteAndroidEvent.bind(this));this.model_=a.model_;this.ppids_={}}function a(a){var c={};if(a){a=a.split(";");for(var d=0;d<a.length;++d){var h=a[d].split("=");h[0]&&(c[h.shift()]=h.join("="))}}return c}var c=tracing.importer.linux_perf.Parser;d.prototype={__proto__:c.prototype,
openAsyncSlice:function(a,c,d,h,g,k){g=new (tracing.trace_model.AsyncSlice.getConstructor(c,d))(c,d,tv.ui.getStringColorId(d),g,k);g.id=h;g.startThread=a;this.openAsyncSlices||(this.openAsyncSlices={});this.openAsyncSlices[c+":"+d+":"+h]=g},closeAsyncSlice:function(a,c,d,h,g,k){if(this.openAsyncSlices&&(c=c+":"+d+":"+h,d=this.openAsyncSlices[c])){for(var l in k)void 0!==d.args[l]&&this.model_.importWarning({type:"parse_error",message:"Both the S and F events of "+d.title+" provided values for argument "+
l+". The value of the F event will be used."}),d.args[l]=k[l];d.endThread=a;d.duration=g-d.start;d.startThread.asyncSliceGroup.push(d);d.subSlices=[new tracing.trace_model.Slice(d.category,d.title,d.colorId,d.start,d.args,d.duration)];delete this.openAsyncSlices[c]}},traceMarkWriteAndroidEvent:function(b,c,d,h,g){c=g.details.split("|");switch(c[0]){case "B":var k=parseInt(c[1]),l=c[2];b=a(c[3]);c=c[4];void 0===c&&(c="android");var m=this.model_.getOrCreateProcess(k).getOrCreateThread(d);m.name=g.threadName;
if(!m.sliceGroup.isTimestampValidForBeginOrEnd(h))return this.model_.importWarning({type:"parse_error",message:"Timestamps are moving backward."}),!1;this.ppids_[d]=k;m.sliceGroup.beginSlice(c,l,h,b);break;case "E":k=this.ppids_[d];if(void 0===k)break;m=this.model_.getOrCreateProcess(k).getOrCreateThread(d);if(!m.sliceGroup.openSliceCount)break;d=m.sliceGroup.endSlice(h);b=a(c[3]);for(l in b)void 0!==d.args[l]&&this.model_.importWarning({type:"parse_error",message:"Both the B and E events of "+d.title+
" provided values for argument "+l+". The value of the E event will be used."}),d.args[l]=b[l];break;case "C":var k=parseInt(c[1]),l=c[2],n=parseInt(c[3]);c=c[4];void 0===c&&(c="android");d=this.model_.getOrCreateProcess(k).getOrCreateCounter(c,l);0===d.numSeries&&d.addSeries(new tracing.trace_model.CounterSeries(n,tv.ui.getStringColorId(d.name+".value")));d.series.forEach(function(a){a.addCounterSample(h,n)});break;case "S":var k=parseInt(c[1]),l=c[2],p=parseInt(c[3]);b=a(c[4]);c=c[5];void 0===c&&
(c="android");m=this.model_.getOrCreateProcess(k).getOrCreateThread(d);m.name=g.threadName;this.ppids_[d]=k;this.openAsyncSlice(m,c,l,p,h,b);break;case "F":k=parseInt(c[1]);l=c[2];p=parseInt(c[3]);b=a(c[4]);c=c[5];void 0===c&&(c="android");m=this.model_.getOrCreateProcess(k).getOrCreateThread(d);m.name=g.threadName;this.ppids_[d]=k;this.closeAsyncSlice(m,c,l,p,h,b);break;default:return!1}return!0}};c.registerSubtype(d);return{AndroidParser:d}});"use strict";
tv.exportTo("tracing.importer.linux_perf",function(){function d(b){a.call(this,b);b.registerEventHandler("graph_ent",d.prototype.traceKernelFuncEnterEvent.bind(this));b.registerEventHandler("graph_ret",d.prototype.traceKernelFuncReturnEvent.bind(this));this.model_=b.model_;this.ppids_={}}var a=tracing.importer.linux_perf.Parser,c=/func=(.+)/;d.prototype={__proto__:a.prototype,traceKernelFuncEnterEvent:function(a,d,e,h,g){a=c.exec(g.details);if(!a||void 0===g.tgid)return!1;d=parseInt(g.tgid);a=a[1];
e=this.model_.getOrCreateProcess(d).getOrCreateThread(e);e.name=g.threadName;g=e.kernelSliceGroup;if(!g.isTimestampValidForBeginOrEnd(h))return this.model_.importWarning({type:"parse_error",message:"Timestamps are moving backward."}),!1;g.beginSlice(null,a,h,{});return!0},traceKernelFuncReturnEvent:function(a,c,d,h,g){if(void 0===g.tgid)return!1;a=parseInt(g.tgid);d=this.model_.getOrCreateProcess(a).getOrCreateThread(d);d.name=g.threadName;g=d.kernelSliceGroup;if(!g.isTimestampValidForBeginOrEnd(h))return this.model_.importWarning({type:"parse_error",
message:"Timestamps are moving backward."}),!1;0<g.openSliceCount&&g.endSlice(h);return!0}};a.registerSubtype(d);return{KernelFuncParser:d}});"use strict";
tv.exportTo("tracing.importer",function(){function d(a){this.lines_=a.split("\n");this.curLine_=0;this.savedLines_=void 0}d.prototype={advanceToLineMatching:function(a){for(;this.curLine_<this.lines_.length;this.curLine_++){var c=this.lines_[this.curLine_];void 0!==this.savedLines_&&this.savedLines_.push(c);if(a.test(c))return!0}return!1},get curLineNumber(){return this.curLine_},beginSavingLines:function(){this.savedLines_=[]},endSavingLinesAndGetResult:function(){var a=this.savedLines_;this.savedLines_=
void 0;return a}};return{SimpleLineReader:d}});"use strict";
tv.exportTo("tracing.importer",function(){function d(a,b){this.importPriority=2;this.model_=a;this.events_=b;this.clockSyncRecords_=[];this.wakeups_=[];this.kernelThreadStates_={};this.buildMapFromLinuxPidsToThreads();this.lines_=[];this.pseudoThreadCounter=1;this.parsers_=[];this.eventHandlers_={}}function a(a){return"{"==a[0]?!1:f.test(a)?e:h.test(a)?g:k.test(a)?l:null}var c=tracing.importer.Importer,b={},f=RegExp("^\\s*(.+)-(\\d+)\\s+\\(\\s*(\\d+|-+)\\)\\s\\[(\\d+)\\]\\s+[dX.][N.][Hhs.][0-9a-f.]\\s+(\\d+\\.\\d+):\\s+(\\S+):\\s(.*)$"),e=
function(a){a=f.exec(a);if(!a)return a;var b=a[3];"-"===b[0]&&(b=void 0);return{threadName:a[1],pid:a[2],tgid:b,cpuNumber:a[4],timestamp:a[5],eventName:a[6],details:a[7]}};b.lineParserWithTGID=e;var h=/^\s*(.+)-(\d+)\s+\[(\d+)\]\s+[dX.][N.][Hhs.][0-9a-f.]\s+(\d+\.\d+):\s+(\S+):\s(.*)$/,g=function(a){a=h.exec(a);return!a?a:{threadName:a[1],pid:a[2],cpuNumber:a[3],timestamp:a[4],eventName:a[5],details:a[6]}};b.lineParserWithIRQInfo=g;var k=/^\s*(.+)-(\d+)\s+\[(\d+)\]\s*(\d+\.\d+):\s+(\S+):\s(.*)$/,
l=function(a){a=k.exec(a);return!a?a:{threadName:a[1],pid:a[2],cpuNumber:a[3],timestamp:a[4],eventName:a[5],details:a[6]}};b.lineParserWithLegacyFmt=l;var m=/trace_event_clock_sync: parent_ts=(\d+\.?\d*)/;b.traceEventClockSyncRE=m;b.autoDetectLineParser=a;d.canImport=function(b){if(!("string"===typeof b||b instanceof String))return!1;if(d._extractEventsFromSystraceHTML(b,!1).ok||/^# tracer:/.test(b))return!0;var c=/^(.+)\n/.exec(b);c&&(b=c[1]);return a(b)?!0:!1};d._extractEventsFromSystraceHTML=function(a,
b){function c(a,b){return-1===a.indexOf(b,a.length-b.length)?a:a.substring(a,a.length-b.length)}var d={ok:!1};void 0===b&&(b=!0);if(!1==/^<!DOCTYPE HTML>/.test(a))return d;var e=new tracing.importer.SimpleLineReader(a);if(!e.advanceToLineMatching(/^  <script>$/)||!e.advanceToLineMatching(/^  var linuxPerfData = "\\$/))return d;var f=e.curLineNumber+1;e.beginSavingLines();if(!e.advanceToLineMatching(/^  <\/script>$/))return d;var g=e.endSavingLinesAndGetResult(),g=g.slice(1,g.length-1);if(!e.advanceToLineMatching(/^<\/body>$/)||
!e.advanceToLineMatching(/^<\/html>$/))return d;e=[];if(b)for(var h=0;h<g.length;h++){var k=g[h],k=c(k,"\\n\\");e.push(k)}else e=[g[g.length-1]];g=e[e.length-1];h=c(g,'\\n";');if(h==g)return d;e[e.length-1]=h;return{ok:!0,lines:b?e:void 0,events_begin_at_line:f}};d.prototype={__proto__:c.prototype,get model(){return this.model_},buildMapFromLinuxPidsToThreads:function(){this.threadsByLinuxPid={};this.model_.getAllThreads().forEach(function(a){this.threadsByLinuxPid[a.tid]=a}.bind(this))},getOrCreateCpu:function(a){return this.model_.kernel.getOrCreateCpu(a)},
getOrCreateKernelThread:function(a,b,c){this.kernelThreadStates_[a]||(c=this.model_.getOrCreateProcess(b).getOrCreateThread(c),c.name=a,this.kernelThreadStates_[a]={pid:b,thread:c,openSlice:void 0,openSliceTS:void 0},this.threadsByLinuxPid[b]=c);return this.kernelThreadStates_[a]},getOrCreatePseudoThread:function(a){var b=this.kernelThreadStates_[a];b||(b=this.getOrCreateKernelThread(a,0,this.pseudoThreadCounter),this.pseudoThreadCounter++);return b},importEvents:function(a){this.createParsers();
this.parseLines();this.importClockSyncRecords();a=this.computeTimeTransform(a);void 0===a?this.model_.importWarning({type:"clock_sync",message:"Cannot import kernel trace without a clock sync."}):(this.importCpuData(a),this.buildMapFromLinuxPidsToThreads(),this.buildPerThreadCpuSlicesFromCpuState(),this.computeCpuTimestampsForSlicesAsNeeded())},buildPerThreadCpuSlicesFromCpuState:function(){for(var a in this.model_.kernel.cpus)for(var b=this.model_.kernel.cpus[a],c=0;c<b.slices.length;c++){var d=
b.slices[c],e=this.threadsByLinuxPid[d.args.tid];e&&(d.threadThatWasRunning=e,e.tempCpuSlices||(e.tempCpuSlices=[]),e.tempCpuSlices.push(d))}for(c in this.wakeups_)if(a=this.wakeups_[c],e=this.threadsByLinuxPid[a.tid])e.tempWakeups=e.tempWakeups||[],e.tempWakeups.push(a);var f=tv.ui.getColorIdByName("running"),g=tv.ui.getColorIdByName("runnable"),h=tv.ui.getColorIdByName("sleeping"),k=tv.ui.getColorIdByName("iowait");this.model_.getAllThreads().forEach(function(a){if(void 0!==a.tempCpuSlices){var b=
a.tempCpuSlices;delete a.tempCpuSlices;b.sort(function(a,b){return a.start-b.start});var c=a.tempWakeups||[];delete a.tempWakeups;c.sort(function(a,b){return a.ts-b.ts});var d=[];if(b.length){var e=b[0];if(c.length&&c[0].ts<e.start){var l=c.shift();d.push(new tracing.trace_model.ThreadTimeSlice(a,"","Runnable",g,l.ts,{"wakeup from tid":l.fromTid},e.start-l.ts))}var m=new tracing.trace_model.ThreadTimeSlice(a,"","Running",f,e.start,{},e.duration);m.cpuOnWhichThreadWasRunning=e.cpu;d.push(m)}l=void 0;
for(e=1;e<b.length;e++){for(var n=b[e-1],p=b[e],q=p.start-n.end;c.length&&c[0].ts<p.start;)m=c.shift(),void 0===l&&m.ts>n.end&&(l=m);m=function(b,c){void 0!==l&&(q=l.ts-n.end);d.push(new tracing.trace_model.ThreadTimeSlice(a,"",b,c,n.end,{},q));void 0!==l&&(d.push(new tracing.trace_model.ThreadTimeSlice(a,"","Runnable",g,l.ts,{"wakeup from tid":l.fromTid},p.start-l.ts)),l=void 0)};"S"==n.args.stateWhenDescheduled?m("Sleeping",h):"R"==n.args.stateWhenDescheduled||"R+"==n.args.stateWhenDescheduled?
d.push(new tracing.trace_model.ThreadTimeSlice(a,"","Runnable",g,n.end,{},q)):"D"==n.args.stateWhenDescheduled?m("Uninterruptible Sleep",k):"T"==n.args.stateWhenDescheduled?d.push(new tracing.trace_model.ThreadTimeSlice(a,"","__TASK_STOPPED",k,n.end,{},q)):"t"==n.args.stateWhenDescheduled?d.push(new tracing.trace_model.ThreadTimeSlice(a,"","debug",k,n.end,{},q)):"Z"==n.args.stateWhenDescheduled?d.push(new tracing.trace_model.ThreadTimeSlice(a,"","Zombie",k,n.end,{},q)):"X"==n.args.stateWhenDescheduled?
d.push(new tracing.trace_model.ThreadTimeSlice(a,"","Exit Dead",k,n.end,{},q)):"x"==n.args.stateWhenDescheduled?d.push(new tracing.trace_model.ThreadTimeSlice(a,"","Task Dead",k,n.end,{},q)):"K"==n.args.stateWhenDescheduled?d.push(new tracing.trace_model.ThreadTimeSlice(a,"","Wakekill",k,n.end,{},q)):"W"==n.args.stateWhenDescheduled?d.push(new tracing.trace_model.ThreadTimeSlice(a,"","Waking",k,n.end,{},q)):"D|K"==n.args.stateWhenDescheduled?m("Uninterruptible Sleep | WakeKill",k):"D|W"==n.args.stateWhenDescheduled?
m("Uninterruptible Sleep | Waking",k):(d.push(new tracing.trace_model.ThreadTimeSlice(a,"","UNKNOWN",k,n.end,{},q)),this.model_.importWarning({type:"parse_error",message:"Unrecognized sleep state: "+n.args.stateWhenDescheduled}));m=new tracing.trace_model.ThreadTimeSlice(a,"","Running",f,p.start,{},p.duration);m.cpuOnWhichThreadWasRunning=n.cpu;d.push(m)}a.timeSlices=d}},this)},computeCpuTimestampsForSlicesAsNeeded:function(){},computeTimeTransform:function(a){if(0==this.clockSyncRecords_.length)return a?
void 0:0;a=this.clockSyncRecords_[0];return 0==a.parentTS||a.parentTS==a.perfTS?0:a.parentTS-a.perfTS},createParsers:function(){for(var a=tracing.importer.linux_perf.Parser.getSubtypeConstructors(),b=0;b<a.length;++b)this.parsers_.push(new a[b](this));this.registerEventHandler("tracing_mark_write",d.prototype.traceMarkingWriteEvent.bind(this));this.registerEventHandler("0",d.prototype.traceMarkingWriteEvent.bind(this));this.registerEventHandler("tracing_mark_write:trace_event_clock_sync",function(){return!0});
this.registerEventHandler("0:trace_event_clock_sync",function(){return!0})},registerEventHandler:function(a,b){this.eventHandlers_[a]=b},markPidRunnable:function(a,b,c,d,e){this.wakeups_.push({ts:a,tid:b,fromTid:e})},traceClockSyncEvent:function(a,b,c,d,e){a=/parent_ts=(\d+\.?\d*)/.exec(e.details);if(!a)return!1;this.clockSyncRecords_.push({perfTS:d,parentTS:1E3*a[1]});return!0},traceMarkingWriteEvent:function(a,b,c,d,e,f){e.details=e.details.replace(/\\n.*$/,"");var g=/^\s*(\w+):\s*(.*)$/.exec(e.details);
if(g)e.subEventName=g[1],e.details=g[2];else if(g=e.details.substring(0,2),"B|"==g||"E"==g||"E|"==g||"X|"==g||"C|"==g||"S|"==g||"F|"==g)e.subEventName="android";else return!1;a=a+":"+e.subEventName;g=this.eventHandlers_[a];return!g?(this.model_.importWarning({type:"parse_error",message:"Unknown trace_marking_write event "+a}),!0):g(a,b,c,d,e,f)},importClockSyncRecords:function(){this.forEachLine(function(a,b,c,d,e){a=b.eventName;!("tracing_mark_write"!==a&&"0"!==a)&&m.exec(b.details)&&this.traceClockSyncEvent(a,
c,d,e,b)}.bind(this))},importCpuData:function(a){this.forEachLine(function(b,c,d,e,f){var g=c.eventName,h=this.eventHandlers_[g];h?(f+=a,h(g,d,e,f,c)||this.model_.importWarning({type:"parse_error",message:"Malformed "+g+" event ("+b+")"})):this.model_.importWarning({type:"parse_error",message:"Unknown event "+g+" ("+b+")"})}.bind(this))},parseLines:function(){for(var b=d._extractEventsFromSystraceHTML(this.events_,!0),b=b.ok?b.lines:this.events_.split("\n"),c=null,e=0;e<b.length;++e){var f=b[e];if(!(0==
f.length||/^#/.test(f))){if(null==c&&(c=a(f),null==c)){this.model_.importWarning({type:"parse_error",message:"Cannot parse line: "+f});continue}var g=c(f);g?this.lines_.push([f,g,parseInt(g.cpuNumber),parseInt(g.pid),1E3*parseFloat(g.timestamp)]):this.model_.importWarning({type:"parse_error",message:"Unrecognized line: "+f})}}},forEachLine:function(a){for(var b=0;b<this.lines_.length;++b)a.apply(this,this.lines_[b])}};tracing.importer.Importer.register(d);return{LinuxPerfImporter:d,_LinuxPerfImporterTestExports:b}});
"use strict";
tv.exportTo("tv",function(){function d(a,b,c,d){vec2.scale(k,b,d);vec2.scale(l,c,1-d);vec2.add(a,k,l);vec2.normalize(a,a);return a}function a(){this.p1=vec2.create();this.p2=vec2.create();this.p3=vec2.create();this.p4=vec2.create()}function c(a,b,c){return(a[0]-c[0])*(b[1]-c[1])-(b[0]-c[0])*(a[1]-c[1])}function b(a,b,d,e){var f=0>c(a,b,d);d=0>c(a,d,e);a=0>c(a,e,b);return f==d&&d==a}function f(a,c,d,e,f){return b(a,c,d,e)||b(a,c,e,f)}for(var e=[],h=0;8>h;h++)e[h]=vec2.create();var g=vec4.create();vec4.create();
vec4.create();mat4.create();mat4.create();vec2.createXY(0,0);vec2.createXY(1,0);vec2.createXY(0,1);vec2.createXY(1,1);var k=vec2.create(),l=vec2.create();a.fromXYWH=function(b,c,d,e){var f=new a;vec2.set(f.p1,b,c);vec2.set(f.p2,b+d,c);vec2.set(f.p3,b+d,c+e);vec2.set(f.p4,b,c+e);return f};a.fromRect=function(b){return new a.fromXYWH(b.x,b.y,b.width,b.height)};a.from4Vecs=function(b,c,d,e){var f=new a;vec2.set(f.p1,b[0],b[1]);vec2.set(f.p2,c[0],c[1]);vec2.set(f.p3,d[0],d[1]);vec2.set(f.p4,e[0],e[1]);
return f};a.from8Array=function(b){if(8!=b.length)throw Error("Array must be 8 long");var c=new a;c.p1[0]=b[0];c.p1[1]=b[1];c.p2[0]=b[2];c.p2[1]=b[3];c.p3[0]=b[4];c.p3[1]=b[5];c.p4[0]=b[6];c.p4[1]=b[7];return c};a.prototype={pointInside:function(a){return f(a,this.p1,this.p2,this.p3,this.p4)},boundingRect:function(){var a=Math.min(this.p1[0],this.p2[0],this.p3[0],this.p4[0]),b=Math.min(this.p1[1],this.p2[1],this.p3[1],this.p4[1]),c=Math.max(this.p1[0],this.p2[0],this.p3[0],this.p4[0]),d=Math.max(this.p1[1],
this.p2[1],this.p3[1],this.p4[1]);return new tv.Rect.fromXYWH(a,b,c-a,d-b)},clone:function(){var b=new a;vec2.copy(b.p1,this.p1);vec2.copy(b.p2,this.p2);vec2.copy(b.p3,this.p3);vec2.copy(b.p4,this.p4);return b},scale:function(b){var c=new a;this.scaleFast(c,b);return c},scaleFast:function(a,b){vec2.copy(a.p1,this.p1,b);vec2.copy(a.p2,this.p2,b);vec2.copy(a.p3,this.p3,b);vec2.copy(a.p3,this.p3,b)},isRectangle:function(){var a=this.boundingRect();return a.x==this.p1[0]&&a.y==this.p1[1]&&a.width==this.p2[0]-
this.p1[0]&&a.y==this.p2[1]&&a.width==this.p3[0]-this.p1[0]&&a.height==this.p3[1]-this.p2[1]&&a.x==this.p4[0]&&a.height==this.p4[1]-this.p2[1]},projectUnitRect:function(b){var c=new a;this.projectUnitRectFast(c,b);return c},projectUnitRectFast:function(a,b){var c=e[0],f=e[1],h=e[2],k=e[3],l,v,z,H;vec2.sub(c,this.p2,this.p1);l=vec2.length(c);vec2.scale(c,c,1/l);vec2.sub(f,this.p4,this.p1);v=vec2.length(f);vec2.scale(f,f,1/v);vec2.sub(h,this.p3,this.p2);z=vec2.length(h);vec2.scale(h,h,1/z);vec2.sub(k,
this.p3,this.p4);H=vec2.length(k);vec2.scale(k,k,1/H);var F=e[0],G=e[1],C=e[2],A=e[3];d(F,c,k,b.y);d(A,c,k,1-b.bottom);d(G,f,h,b.x);d(C,f,h,1-b.right);vec2.addTwoScaledUnitVectors(g,F,l*b.x,G,v*b.y);vec2.add(a.p1,this.p1,g);vec2.addTwoScaledUnitVectors(g,F,l*-(1-b.right),C,z*b.y);vec2.add(a.p2,this.p2,g);vec2.addTwoScaledUnitVectors(g,A,H*-(1-b.right),C,z*-(1-b.bottom));vec2.add(a.p3,this.p3,g);vec2.addTwoScaledUnitVectors(g,A,H*b.left,G,v*-(1-b.bottom));vec2.add(a.p4,this.p4,g)},toString:function(){return"Quad("+
vec2.toString(this.p1)+", "+vec2.toString(this.p2)+", "+vec2.toString(this.p3)+", "+vec2.toString(this.p4)+")"}};return{pointInTriangle2:b,pointInImplicitQuad:f,Quad:a}});"use strict";
tv.exportTo("tracing.importer",function(){function d(a){if(!(a instanceof Object)){if(void 0===a||null===a)return a;if("string"==typeof a)return a.substring();if("boolean"==typeof a||"number"==typeof a)return a;throw Error("Unrecognized: "+typeof a);}if(a instanceof Array){for(var c=Array(a.length),e=0;e<a.length;e++)c[e]=d(a[e]);return c}if(a.__proto__!=Object.prototype)throw Error("Can only clone simple types");c={};for(e in a)c[e]=d(a[e]);return c}function a(a,c){this.importPriority=1;this.model_=
a;this.systemTraceEvents_=this.stackFrameEvents_=this.sampleEvents_=this.events_=void 0;this.eventsWereFromString_=!1;this.softwareMeasuredCpuCount_=void 0;this.allAsyncEvents_=[];this.allFlowEvents_=[];this.allObjectEvents_=[];"string"===typeof c||c instanceof String?("["===c[0]&&(c=c.replace(/[\r|\n]*$/,"").replace(/\s*,\s*$/,""),"]"!==c[c.length-1]&&(c+="]")),this.events_=JSON.parse(c),this.eventsWereFromString_=!0):this.events_=c;if(this.events_.traceEvents){var d=this.events_;this.events_=this.events_.traceEvents;
this.systemTraceEvents_=d.systemTraceEvents;this.sampleEvents_=d.samples;this.stackFrameEvents_=d.stackFrames;for(var h in d)"traceEvents"===h||("systemTraceEvents"===h||"samples"===h||"stackFrames"===h)||this.model_.metadata.push({name:h,value:d[h]})}}var c=tracing.importer.Importer;a.canImport=function(a){return"string"===typeof a||a instanceof String?"{"==a[0]||"["==a[0]:a instanceof Array&&a.length&&a[0].ph||a.traceEvents&&a.traceEvents instanceof Array&&(a.traceEvents.length&&a.traceEvents[0].ph||
a.samples.length&&void 0!==a.stackFrames)?!0:!1};a.prototype={__proto__:c.prototype,extractSubtraces:function(){var a=this.systemTraceEvents_;this.systemTraceEvents_=void 0;return a?[a]:[]},deepCopyIfNeeded_:function(a){void 0===a&&(a={});return this.eventsWereFromString_?a:d(a)},processAsyncEvent:function(a){var c=this.model_.getOrCreateProcess(a.pid).getOrCreateThread(a.tid);this.allAsyncEvents_.push({sequenceNumber:this.allAsyncEvents_.length,event:a,thread:c})},processFlowEvent:function(a){var c=
this.model_.getOrCreateProcess(a.pid).getOrCreateThread(a.tid);this.allFlowEvents_.push({sequenceNumber:this.allFlowEvents_.length,event:a,thread:c})},processCounterEvent:function(a){var c;c=void 0!==a.id?a.name+"["+a.id+"]":a.name;c=this.model_.getOrCreateProcess(a.pid).getOrCreateCounter(a.cat,c);if(0===c.numSeries){for(var d in a.args)c.addSeries(new tracing.trace_model.CounterSeries(d,tv.ui.getStringColorId(c.name+"."+d)));if(0===c.numSeries){this.model_.importWarning({type:"counter_parse_error",
message:"Expected counter "+a.name+" to have at least one argument to use as a value."});delete c.parent.counters[c.name];return}}var h=a.ts/1E3;c.series.forEach(function(c){c.addCounterSample(h,a.args[c.name]?a.args[c.name]:0)})},processObjectEvent:function(a){var c=this.model_.getOrCreateProcess(a.pid).getOrCreateThread(a.tid);this.allObjectEvents_.push({sequenceNumber:this.allObjectEvents_.length,event:a,thread:c})},processDurationEvent:function(a){var c=this.model_.getOrCreateProcess(a.pid).getOrCreateThread(a.tid);
if(c.sliceGroup.isTimestampValidForBeginOrEnd(a.ts/1E3))if("B"==a.ph)c.sliceGroup.beginSlice(a.cat,a.name,a.ts/1E3,this.deepCopyIfNeeded_(a.args),a.tts/1E3);else if(c.sliceGroup.openSliceCount){c=c.sliceGroup.endSlice(a.ts/1E3,a.tts/1E3);a.name&&c.title!=a.name&&this.model_.importWarning({type:"title_match_error",message:"Titles do not match. Title is "+c.title+" in openSlice, and is "+a.name+" in endSlice"});for(var d in a.args)void 0!==c.args[d]&&this.model_.importWarning({type:"duration_parse_error",
message:"Both the B and E phases of "+c.name+" provided values for argument "+d+". The value of the E phase event will be used."}),c.args[d]=this.deepCopyIfNeeded_(a.args[d])}else this.model_.importWarning({type:"duration_parse_error",message:"E phase event without a matching B phase event."});else this.model_.importWarning({type:"duration_parse_error",message:"Timestamps are moving backward."})},processCompleteEvent:function(a){this.model_.getOrCreateProcess(a.pid).getOrCreateThread(a.tid).sliceGroup.pushCompleteSlice(a.cat,
a.name,a.ts/1E3,void 0===a.dur?void 0:a.dur/1E3,void 0===a.tts?void 0:a.tts/1E3,void 0===a.tdur?void 0:a.tdur/1E3,this.deepCopyIfNeeded_(a.args))},processMetadataEvent:function(a){if("process_name"==a.name){var c=this.model_.getOrCreateProcess(a.pid);c.name=a.args.name}else if("process_labels"==a.name){c=this.model_.getOrCreateProcess(a.pid);a=a.args.labels.split(",");for(var d=0;d<a.length;d++)c.addLabelIfNeeded(a[d])}else"process_sort_index"==a.name?(c=this.model_.getOrCreateProcess(a.pid),c.sortIndex=
a.args.sort_index):"thread_name"==a.name?(c=this.model_.getOrCreateProcess(a.pid).getOrCreateThread(a.tid),c.name=a.args.name):"thread_sort_index"==a.name?(c=this.model_.getOrCreateProcess(a.pid).getOrCreateThread(a.tid),c.sortIndex=a.args.sort_index):"num_cpus"==a.name?(c=a.args.number,void 0!==this.softwareMeasuredCpuCount_&&(c=Math.max(c,this.softwareMeasuredCpuCount_)),this.softwareMeasuredCpuCount_=c):this.model_.importWarning({type:"metadata_parse_error",message:"Unrecognized metadata name: "+
a.name})},processInstantEvent:function(a){var c;switch(a.s){case "g":c=tracing.trace_model.GlobalInstantEvent;break;case "p":c=tracing.trace_model.ProcessInstantEvent;break;default:c=tracing.trace_model.ThreadInstantEvent}var d=tv.ui.getStringColorId(a.name);c=new c(a.cat,a.name,d,a.ts/1E3,this.deepCopyIfNeeded_(a.args));switch(c.type){case tracing.trace_model.InstantEventType.GLOBAL:this.model_.pushInstantEvent(c);break;case tracing.trace_model.InstantEventType.PROCESS:this.model_.getOrCreateProcess(a.pid).pushInstantEvent(c);
break;case tracing.trace_model.InstantEventType.THREAD:this.model_.getOrCreateProcess(a.pid).getOrCreateThread(a.tid).sliceGroup.pushInstantEvent(c);break;default:throw Error("Unknown instant event type: "+a.s);}},processTraceSampleEvent:function(a){var c=this.model_.getOrCreateProcess(a.pid).getOrCreateThread(a.tid),d="te-"+tv.GUID.allocate(),d=new tracing.trace_model.StackFrame(void 0,d,a.cat,a.name,tv.ui.getStringColorId(a.name));this.model_.addStackFrame(d);a=new tracing.trace_model.Sample(void 0,
c,"TRACE_EVENT_SAMPLE",a.ts/1E3,d,1,this.deepCopyIfNeeded_(a.args));this.model_.samples.push(a)},importEvents:function(){for(var a=this.events_,c=0;c<a.length;c++){var d=a[c];"B"===d.ph||"E"===d.ph?this.processDurationEvent(d):"X"===d.ph?this.processCompleteEvent(d):"b"===d.ph||"e"===d.ph||"n"===d.ph||"S"===d.ph||"F"===d.ph||"T"===d.ph||"p"===d.ph?this.processAsyncEvent(d):"I"==d.ph||"i"==d.ph?this.processInstantEvent(d):"P"==d.ph?this.processTraceSampleEvent(d):"C"==d.ph?this.processCounterEvent(d):
"M"==d.ph?this.processMetadataEvent(d):"N"===d.ph||"D"===d.ph||"O"===d.ph?this.processObjectEvent(d):"s"===d.ph||"t"===d.ph||"f"===d.ph?this.processFlowEvent(d):this.model_.importWarning({type:"parse_error",message:"Unrecognized event phase: "+d.ph+" ("+d.name+")"})}this.stackFrameEvents_&&this.importStackFrames_()},importStackFrames_:function(){var a=this.model_,c=this.stackFrameEvents_,d;for(d in c){var h=c[d],g=new tracing.trace_model.StackFrame(void 0,d,h.category,h.name,tv.ui.getStringColorId(h.category?
h.category:h.name));a.addStackFrame(g)}for(d in c)if(h=c[d],void 0!==h.parent){g=a.stackFrames[d];if(void 0===g)throw Error("omg");if(void 0===h.parent)h=void 0;else if(h=a.stackFrames[h.parent],void 0===h)throw Error("omg");g.parentFrame=h}},finalizeImport:function(){void 0!==this.softwareMeasuredCpuCount_&&(this.model_.kernel.softwareMeasuredCpuCount=this.softwareMeasuredCpuCount_);this.createAsyncSlices_();this.createFlowSlices_();this.createExplicitObjects_();this.createImplicitObjects_()},importSampleData:function(){if(this.sampleEvents_){var a=
this.model_,c=this.sampleEvents_;if(0===this.events_.length)for(var d=0;d<c.length;d++){var h=c[d];a.getOrCreateProcess(h.tid).getOrCreateThread(h.tid)}var g={};a.getAllThreads().forEach(function(a){g[a.tid]=a});for(d=0;d<c.length;d++){var h=c[d],k=g[h.tid];if(void 0===k)a.importWarning({type:"sample_import_error",message:"Thread "+c.tid+"not found"});else{var l;void 0!==h.cpu&&(l=a.kernel.getOrCreateCpu(h.cpu));var m=a.stackFrames[h.sf];void 0===m?a.importWarning({type:"sample_import_error",message:"No frame for "+
h.sf}):(h=new tracing.trace_model.Sample(l,k,h.name,h.ts/1E3,m,h.weight),a.samples.push(h))}}}},joinRefs:function(){this.joinObjectRefs_()},createAsyncSlices_:function(){if(0!==this.allAsyncEvents_.length){this.allAsyncEvents_.sort(function(a,b){var c=a.event.ts-b.event.ts;return 0!==c?c:a.sequenceNumber-b.sequenceNumber});for(var a=[],c={},d=0;d<this.allAsyncEvents_.length;d++){var h=this.allAsyncEvents_[d],g=h.event;if("S"===g.ph||"F"===g.ph||"T"===g.ph||"p"===g.ph)a.push(h);else if(void 0===g.name)this.model_.importWarning({type:"async_slice_parse_error",
message:"Nestable async events (ph: b, e, or n) require a name parameter."});else{var k=g.id;void 0===k?this.model_.importWarning({type:"async_slice_parse_error",message:"Nestable async events (ph: b, e, or n) require an id parameter."}):(void 0===c[k]&&(c[k]=[]),c[k].push(h))}}this.createLegacyAsyncSlices_(a);for(k in c){a=c[k];g=[];for(d=0;d<a.length;++d){h=a[d];if("e"===h.event.ph){for(var l=-1,m=g.length-1;0<=m;--m)if(g[m].event.name===h.event.name){l=m;break}if(-1===l)h.finished=!1;else for(g[l].end=
h;l<g.length;)g.pop()}0<g.length&&(h.parentEntry=g[g.length-1]);"b"===h.event.ph&&g.push(h)}g=[];for(d=0;d<a.length;++d)if(h=a[d],!("e"===h.event.ph&&void 0===h.finished)){var n=m=l=void 0,p=void 0;"n"===h.event.ph?(m=l=h,n=h.event.args):"b"===h.event.ph?(void 0===h.end?(h.end=a[a.length-1],p="Slice has no matching END. End time has been adjusted.",this.model_.importWarning({type:"async_slice_parse_error",message:"Nestable async BEGIN event at "+h.event.ts+" with name="+h.event.name+" and id="+h.event.id+
" was unmatched."}),n=h.event.args):n=function(a,b){if(void 0===a.params||void 0===b.params)return tv.concatenateObjects(a,b);var c={};c.params=tv.concatenateObjects(a.params,b.params);return tv.concatenateObjects(a,b,c)}(h.event.args,h.end.event.args),l=h,m=h.end):(p="Slice has no matching BEGIN. Start time has been adjusted.",this.model_.importWarning({type:"async_slice_parse_error",message:"Nestable async END event at "+h.event.ts+" with name="+h.event.name+" and id="+h.event.id+" was unmatched."}),
l=a[0],m=h,n=h.event.args);n=new (tracing.trace_model.AsyncSlice.getConstructor(h.event.cat,h.event.name))(h.event.cat,h.event.name,tv.ui.getStringColorId(h.event.name),l.event.ts/1E3,n,(m.event.ts-l.event.ts)/1E3);n.startThread=l.thread;n.endThread=m.thread;n.id=k;void 0!==p&&(n.error=p);h.slice=n;void 0!==h.parentEntry&&void 0!==h.parentEntry.slice?(void 0===h.parentEntry.slice.subSlices&&(h.parentEntry.slice.subSlices=[]),h.parentEntry.slice.subSlices.push(n)):g.push(n)}for(d=0;d<g.length;d++)g[d].startThread.asyncSliceGroup.push(g[d])}}},
createLegacyAsyncSlices_:function(a){if(0!==a.length){a.sort(function(a,b){var c=a.event.ts-b.event.ts;return 0!=c?c:a.sequenceNumber-b.sequenceNumber});for(var c={},d=0;d<a.length;d++){var h=a[d],g=h.event,k=g.name;if(void 0===k)this.model_.importWarning({type:"async_slice_parse_error",message:"Async events (ph: S, T, p, or F) require a name  parameter."});else{var l=g.id;if(void 0===l)this.model_.importWarning({type:"async_slice_parse_error",message:"Async events (ph: S, T, p, or F) require an id parameter."});
else if("S"===g.ph)void 0===c[k]&&(c[k]={}),c[k][l]?this.model_.importWarning({type:"async_slice_parse_error",message:"At "+g.ts+", a slice of the same id "+l+" was alrady open."}):(c[k][l]=[],c[k][l].push(h));else if(void 0===c[k])this.model_.importWarning({type:"async_slice_parse_error",message:"At "+g.ts+", no slice named "+k+" was open."});else if(void 0===c[k][l])this.model_.importWarning({type:"async_slice_parse_error",message:"At "+g.ts+", no slice named "+k+" with id="+l+" was open."});else{var m=
c[k][l];m.push(h);if("F"===g.ph){var n=tracing.trace_model.AsyncSlice.getConstructor(m[0].event.cat,k),p=new n(m[0].event.cat,k,tv.ui.getStringColorId(k),m[0].event.ts/1E3,tv.concatenateObjects(m[0].event.args,m[m.length-1].event.args),(g.ts-m[0].event.ts)/1E3);p.startThread=m[0].thread;p.endThread=h.thread;p.id=l;p.subSlices=[];for(var h=m[1].event.ph,q=!0,r=1;r<m.length-1;++r){if("T"===m[r].event.ph||"p"===m[r].event.ph)if(q=this.assertStepTypeMatches_(h,m[r]),!q)break;if("S"===m[r].event.ph)this.model_.importWarning({type:"async_slice_parse_error",
message:"At "+g.event.ts+", a slice named "+g.event.name+" with id="+g.event.id+" had a step before the start event."});else if("F"===m[r].event.ph)this.model_.importWarning({type:"async_slice_parse_error",message:"At "+g.event.ts+", a slice named "+g.event.name+" with id="+g.event.id+" had a step after the finish event."});else{var t=r+("T"===h?0:-1),u=t+1,v=m[r].event.name;if("T"===m[r].event.ph||"p"===m[r].event.ph)v=v+":"+m[r].event.args.step;n=tracing.trace_model.AsyncSlice.getConstructor(m[0].event.cat,
v);n=new n(m[0].event.cat,v,tv.ui.getStringColorId(v+r),m[t].event.ts/1E3,this.deepCopyIfNeeded_(m[r].event.args),(m[u].event.ts-m[t].event.ts)/1E3);n.startThread=m[t].thread;n.endThread=m[u].thread;n.id=l;p.subSlices.push(n)}}q&&p.startThread.asyncSliceGroup.push(p);delete c[k][l]}}}}}},assertStepTypeMatches_:function(a,c){return a!=c.event.ph?(this.model_.importWarning({type:"async_slice_parse_error",message:"At "+c.event.ts+", a slice named "+c.event.name+" with id="+c.event.id+" had both begin and end steps, which is not allowed."}),
!1):!0},createFlowSlices_:function(){if(0!==this.allFlowEvents_.length){this.allFlowEvents_.sort(function(a,b){var c=a.event.ts-b.event.ts;return 0!=c?c:a.sequenceNumber-b.sequenceNumber});for(var a={},c=0;c<this.allFlowEvents_.length;++c){var d=this.allFlowEvents_[c],h=d.event,g=d.thread;if(void 0===h.name)this.model_.importWarning({type:"flow_slice_parse_error",message:"Flow events (ph: s, t or f) require a name parameter."});else if(void 0===h.id)this.model_.importWarning({type:"flow_slice_parse_error",
message:"Flow events (ph: s, t or f) require an id parameter."});else if(d=new tracing.trace_model.FlowEvent(h.cat,h.id,h.name,tv.ui.getStringColorId(h.name),h.ts/1E3,this.deepCopyIfNeeded_(h.args)),g.sliceGroup.pushSlice(d),"s"===h.ph)void 0!==a[h.id]&&this.model_.importWarning({type:"flow_slice_start_error",message:"event id "+h.id+" already seen when encountering start of flow event."}),a[h.id]=d;else if("t"===h.ph||"f"===h.ph)g=a[h.id],void 0===g?this.model_.importWarning({type:"flow_slice_ordering_error",
message:"Found flow phase "+h.ph+" for id: "+h.id+" but no flow start found."}):(this.model_.flowEvents.push([g,d]),g&&(g.nextFlowEvent=d),d&&(d.previousFlowEvent=g),a[h.id]="f"===h.ph?void 0:d)}}},createExplicitObjects_:function(){function a(b){var c=b.event;b=b.thread;void 0===c.name&&this.model_.importWarning({type:"object_parse_error",message:"While processing "+JSON.stringify(c)+": Object events require an name parameter."});void 0===c.id&&this.model_.importWarning({type:"object_parse_error",
message:"While processing "+JSON.stringify(c)+": Object events require an id parameter."});var d=b.parent,e=c.ts/1E3,f;if("N"==c.ph)try{f=d.objects.idWasCreated(c.id,c.cat,c.name,e)}catch(g){this.model_.importWarning({type:"object_parse_error",message:"While processing create of "+c.id+" at ts="+e+": "+g});return}else if("O"==c.ph){if(void 0===c.args.snapshot){this.model_.importWarning({type:"object_parse_error",message:"While processing "+c.id+" at ts="+e+": Snapshots must have args: {snapshot: ...}"});
return}var h;try{var t=this.deepCopyIfNeeded_(c.args.snapshot),u;t.cat?(u=t.cat,delete t.cat):u=c.cat;var v;t.base_type?(v=t.base_type,delete t.base_type):v=void 0;h=d.objects.addSnapshot(c.id,u,c.name,e,t,v);h.snapshottedOnThread=b}catch(z){this.model_.importWarning({type:"object_parse_error",message:"While processing snapshot of "+c.id+" at ts="+e+": "+z});return}f=h.objectInstance}else if("D"==c.ph)try{f=d.objects.idWasDeleted(c.id,c.cat,c.name,e)}catch(H){this.model_.importWarning({type:"object_parse_error",
message:"While processing delete of "+c.id+" at ts="+e+": "+H});return}f&&(f.colorId=tv.ui.getStringColorId(f.typeName))}if(0!=this.allObjectEvents_.length){this.allObjectEvents_.sort(function(a,b){var c=a.event.ts-b.event.ts;return 0!=c?c:a.sequenceNumber-b.sequenceNumber});for(var c=this.allObjectEvents_,d=0;d<c.length;d++){var h=c[d];try{a.call(this,h)}catch(g){this.model_.importWarning({type:"object_parse_error",message:g.message})}}}},createImplicitObjects_:function(){tv.iterItems(this.model_.processes,
function(a,c){this.createImplicitObjectsForProcess_(c)},this)},createImplicitObjectsForProcess_:function(a){function c(d,e,f,l){if(f){if(f instanceof tracing.trace_model.ObjectSnapshot)return null;if(void 0!==f.id){var m=f.id,n=/(.+)\/(.+)/.exec(m);if(!n)throw Error("Implicit snapshots must have names.");delete f.id;var p=n[1],n=n[2],q,r;r=void 0!==f.cat?f.cat:l.objectInstance.category;var t;t=f.base_type?f.base_type:void 0;try{q=a.objects.addSnapshot(n,r,p,l.ts,f,t)}catch(u){this.model_.importWarning({type:"object_snapshot_parse_error",
message:"While processing implicit snapshot of "+m+" at ts="+l.ts+": "+u});return}q.objectInstance.hasImplicitSnapshots=!0;q.containingSnapshot=l;q.snapshottedOnThread=l.snapshottedOnThread;d[e]=q;if(!(q instanceof tracing.trace_model.ObjectSnapshot))throw Error("Created object must be instanceof snapshot");return q.args}}}function d(a,b,c,f){if(a instanceof Object)if(a instanceof Array)for(var m=0;m<a.length;m++){var n=b.call(f,a,m,a[m],c);null!==n&&(n?d(n,b,c,f):d(a[m],b,c,f))}else for(m in a)n=
b.call(f,a,m,a[m],c),null!==n&&(n?d(n,b,c,f):d(a[m],b,c,f))}a.objects.iterObjectInstances(function(a){a.snapshots.forEach(function(a){if(void 0!==a.args.id)throw Error("args cannot have an id field inside it");d(a.args,c,a,this)},this)},this)},joinObjectRefs_:function(){tv.iterItems(this.model_.processes,function(a,c){this.joinObjectRefsForProcess_(c)},this)},joinObjectRefsForProcess_:function(a){var c=[];tv.iterItems(a.threads,function(d,h){h.asyncSliceGroup.slices.forEach(function(d){this.searchItemForIDRefs_(c,
a.objects,"start",d)},this);h.sliceGroup.slices.forEach(function(d){this.searchItemForIDRefs_(c,a.objects,"start",d)},this)},this);a.objects.iterObjectInstances(function(d){d.snapshots.forEach(function(d){this.searchItemForIDRefs_(c,a.objects,"ts",d)},this)},this);c.forEach(function(a){a.object[a.field]=a.value})},searchItemForIDRefs_:function(a,c,d,h){function g(g,k,n){if(n&&(n.id_ref||n.idRef))(n=c.getSnapshotAt(n.id_ref||n.idRef,h[d]))&&a.push({object:g,field:k,value:n})}function k(a){if(a instanceof
Object&&!(a instanceof tracing.trace_model.ObjectSnapshot||a instanceof Float32Array||a instanceof tv.Quad))if(a instanceof Array)for(var b=0;b<a.length;b++)g(a,b,a[b]),k(a[b]);else for(b in a){var c=a[b];g(a,b,c);k(c)}}if(!h.args)throw Error("item is missing its args");k(h.args)}};tracing.importer.Importer.register(a);return{TraceEventImporter:a}});"use strict";
tv.exportTo("tracing.importer.v8",function(){function d(){}function a(a){this.dispatchTable_=a;this.lineNum_=0;this.csvParser_=new d}d.CSV_FIELD_RE_=/^"((?:[^"]|"")*)"|([^,]*)/;d.DOUBLE_QUOTE_RE_=/""/g;d.prototype.parseLine=function(a){var b=d.CSV_FIELD_RE_,f=d.DOUBLE_QUOTE_RE_,e=0,h=a.length,g=[];if(0<h){do{var k=b.exec(a.substr(e));"string"===typeof k[1]?(k=k[1],e+=k.length+3,g.push(k.replace(f,'"'))):(k=k[2],e+=k.length+1,g.push(k))}while(e<=h)}return g};a.prototype.printError=function(a){};a.prototype.processLogChunk=
function(a){this.processLog_(a.split("\n"))};a.prototype.processLogLine=function(a){this.processLog_([a])};a.prototype.processStack=function(a,b,d){b=b?[a,b]:[a];for(var e=0,h=d.length;e<h;++e){var g=d[e],k=g.charAt(0);"+"==k||"-"==k?(a+=parseInt(g,16),b.push(a)):"o"!=k&&b.push(parseInt(g,16))}return b};a.prototype.skipDispatch=function(a){return!1};a.prototype.dispatchLogRow_=function(a){var b=a[0];if(b in this.dispatchTable_&&(b=this.dispatchTable_[b],!(null===b||this.skipDispatch(b)))){for(var d=
[],e=0;e<b.parsers.length;++e){var h=b.parsers[e];if(null===h)d.push(a[1+e]);else if("function"==typeof h)d.push(h(a[1+e]));else{d.push(a.slice(1+e));break}}b.processor.apply(this,d)}};a.prototype.processLog_=function(a){for(var b=0,d=a.length;b<d;++b,++this.lineNum_){var e=a[b];if(e)try{var h=this.csvParser_.parseLine(e);this.dispatchLogRow_(h)}catch(g){this.printError("line "+(this.lineNum_+1)+": "+(g.message||g))}}};return{LogReader:a}});"use strict";
tv.exportTo("tracing.importer.v8",function(){function d(){}d.prototype.root_=null;d.prototype.isEmpty=function(){return!this.root_};d.prototype.insert=function(a,c){if(this.isEmpty())this.root_=new d.Node(a,c);else if(this.splay_(a),this.root_.key!=a){var b=new d.Node(a,c);a>this.root_.key?(b.left=this.root_,b.right=this.root_.right,this.root_.right=null):(b.right=this.root_,b.left=this.root_.left,this.root_.left=null);this.root_=b}};d.prototype.remove=function(a){if(this.isEmpty())throw Error("Key not found: "+
a);this.splay_(a);if(this.root_.key!=a)throw Error("Key not found: "+a);var c=this.root_;if(this.root_.left){var b=this.root_.right;this.root_=this.root_.left;this.splay_(a);this.root_.right=b}else this.root_=this.root_.right;return c};d.prototype.find=function(a){if(this.isEmpty())return null;this.splay_(a);return this.root_.key==a?this.root_:null};d.prototype.findMin=function(){if(this.isEmpty())return null;for(var a=this.root_;a.left;)a=a.left;return a};d.prototype.findMax=function(a){if(this.isEmpty())return null;
for(a=a||this.root_;a.right;)a=a.right;return a};d.prototype.findGreatestLessThan=function(a){if(this.isEmpty())return null;this.splay_(a);return this.root_.key<=a?this.root_:this.root_.left?this.findMax(this.root_.left):null};d.prototype.exportKeysAndValues=function(){var a=[];this.traverse_(function(c){a.push([c.key,c.value])});return a};d.prototype.exportValues=function(){var a=[];this.traverse_(function(c){a.push(c.value)});return a};d.prototype.splay_=function(a){if(!this.isEmpty()){var c,b,
f;c=b=f=new d.Node(null,null);for(var e=this.root_;;)if(a<e.key){if(!e.left)break;if(a<e.left.key){var h=e.left;e.left=h.right;h.right=e;e=h;if(!e.left)break}f=f.left=e;e=e.left}else if(a>e.key){if(!e.right)break;if(a>e.right.key&&(h=e.right,e.right=h.left,h.left=e,e=h,!e.right))break;b=b.right=e;e=e.right}else break;b.right=e.left;f.left=e.right;e.left=c.right;e.right=c.left;this.root_=e}};d.prototype.traverse_=function(a){for(var c=[this.root_];0<c.length;){var b=c.shift();null!=b&&(a(b),c.push(b.left),
c.push(b.right))}};d.Node=function(a,c){this.key=a;this.value=c};d.Node.prototype.left=null;d.Node.prototype.right=null;return{SplayTree:d}});"use strict";
tv.exportTo("tracing.importer.v8",function(){function d(){this.dynamics_=new tracing.importer.v8.SplayTree;this.dynamicsNameGen_=new tracing.importer.v8.CodeMap.NameGenerator;this.statics_=new tracing.importer.v8.SplayTree;this.libraries_=new tracing.importer.v8.SplayTree;this.pages_=[]}d.PAGE_ALIGNMENT=12;d.PAGE_SIZE=1<<d.PAGE_ALIGNMENT;d.prototype.addCode=function(a,c){this.deleteAllCoveredNodes_(this.dynamics_,a,a+c.size);this.dynamics_.insert(a,c)};d.prototype.moveCode=function(a,c){var b=this.dynamics_.remove(a);
this.deleteAllCoveredNodes_(this.dynamics_,c,c+b.value.size);this.dynamics_.insert(c,b.value)};d.prototype.deleteCode=function(a){this.dynamics_.remove(a)};d.prototype.addLibrary=function(a,c){this.markPages_(a,a+c.size);this.libraries_.insert(a,c)};d.prototype.addStaticCode=function(a,c){this.statics_.insert(a,c)};d.prototype.markPages_=function(a,c){for(var b=a;b<=c;b+=d.PAGE_SIZE)this.pages_[b>>>d.PAGE_ALIGNMENT]=1};d.prototype.deleteAllCoveredNodes_=function(a,c,b){for(var d=[],e=b-1;e>=c;){var h=
a.findGreatestLessThan(e);if(!h)break;e=h.key;h=e+h.value.size;e<b&&c<h&&d.push(e);e-=1}c=0;for(b=d.length;c<b;++c)a.remove(d[c])};d.prototype.isAddressBelongsTo_=function(a,c){return a>=c.key&&a<c.key+c.value.size};d.prototype.findInTree_=function(a,c){var b=a.findGreatestLessThan(c);return b&&this.isAddressBelongsTo_(c,b)?b.value:null};d.prototype.findEntry=function(a){if(a>>>d.PAGE_ALIGNMENT in this.pages_)return this.findInTree_(this.statics_,a)||this.findInTree_(this.libraries_,a);var c=this.dynamics_.findMin(),
b=this.dynamics_.findMax();if(null!=b&&a<b.key+b.value.size&&a>=c.key){a=this.findInTree_(this.dynamics_,a);if(null==a)return null;a.nameUpdated_||(a.name=this.dynamicsNameGen_.getName(a.name),a.nameUpdated_=!0);return a}return null};d.prototype.findDynamicEntryByStartAddress=function(a){return(a=this.dynamics_.find(a))?a.value:null};d.prototype.getAllDynamicEntries=function(){return this.dynamics_.exportValues()};d.prototype.getAllDynamicEntriesWithAddresses=function(){return this.dynamics_.exportKeysAndValues()};
d.prototype.getAllStaticEntries=function(){return this.statics_.exportValues()};d.prototype.getAllLibrariesEntries=function(){return this.libraries_.exportValues()};d.CodeEntry=function(a,c){this.id=tv.GUID.allocate();this.size=a;this.name=c||"";this.nameUpdated_=!1};d.CodeEntry.prototype.getName=function(){return this.name};d.CodeEntry.prototype.toString=function(){return this.name+": "+this.size.toString(16)};d.NameGenerator=function(){this.knownNames_={}};d.NameGenerator.prototype.getName=function(a){if(!(a in
this.knownNames_))return this.knownNames_[a]=0,a;var c=++this.knownNames_[a];return a+" {"+c+"}"};return{CodeMap:d}});"use strict";
tv.exportTo("tracing.importer",function(){function d(a,b){this.importPriority=3;this.model_=a;this.logData_=b;this.code_map_=new tracing.importer.v8.CodeMap;this.v8_thread_=this.v8_timer_thread_=void 0;this.root_stack_frame_=new tracing.trace_model.StackFrame(void 0,"v8-root-stack-frame","v8-root-stack-frame","v8-root-stack-frame",0);this.v8_stack_timeline_=[]}var a=tracing.importer.Importer,c=["/d8","/libv8.so"],b={"V8.Execute":{pause:!1,no_execution:!1},"V8.External":{pause:!1,no_execution:!0},
"V8.CompileFullCode":{pause:!0,no_execution:!0},"V8.RecompileSynchronous":{pause:!0,no_execution:!0},"V8.RecompileParallel":{pause:!1,no_execution:!1},"V8.CompileEval":{pause:!0,no_execution:!0},"V8.Parse":{pause:!0,no_execution:!0},"V8.PreParse":{pause:!0,no_execution:!0},"V8.ParseLazy":{pause:!0,no_execution:!0},"V8.GCScavenger":{pause:!0,no_execution:!0},"V8.GCCompactor":{pause:!0,no_execution:!0},"V8.GCContext":{pause:!0,no_execution:!0}};d.canImport=function(a){return"string"!==typeof a&&!(a instanceof
String)?!1:"timer-event,"==a.substring(0,12)||"tick,"==a.substring(0,5)||"shared-library,"==a.substring(0,15)||"profiler,"==a.substring(0,9)||"code-creation,"==a.substring(0,14)};d.prototype={__proto__:a.prototype,processTimerEvent_:function(a,c,d){var g=b[a];if(void 0!==g){c/=1E3;d/=1E3;var k=tv.ui.getStringColorId(a);a=new tracing.trace_model.Slice("v8",a,k,c,g,d);this.v8_timer_thread_.sliceGroup.pushSlice(a)}},processTimerEventStart_:function(a,c){var d=b[a];void 0!==d&&this.v8_timer_thread_.sliceGroup.beginSlice("v8",
a,c/1E3,d)},processTimerEventEnd_:function(a,b){this.v8_timer_thread_.sliceGroup.endSlice(b/1E3)},processCodeCreateEvent_:function(a,b,c,d,k){a=new tracing.importer.v8.CodeMap.CodeEntry(d,k);a.kind=b;this.code_map_.addCode(c,a)},processCodeMoveEvent_:function(a,b){this.code_map_.moveCode(a,b)},processCodeDeleteEvent_:function(a){this.code_map_.deleteCode(a)},processSharedLibrary_:function(a,b,d){d=new tracing.importer.v8.CodeMap.CodeEntry(d-b,a);d.kind=-3;for(var g=0;g<c.length;g++){var k=c[g];if(0<=
a.indexOf(k,a.length-k.length)){d.kind=-1;break}}this.code_map_.addLibrary(b,d)},findCodeKind_:function(a){for(name in CodeKinds)if(0<=CodeKinds[name].kinds.indexOf(a))return CodeKinds[name]},processTickEvent_:function(a,b,c,d,k,l){b/=1E3;if(l&&l.length){a=this.root_stack_frame_;l=l.reverse();for(c=0;c<l.length&&l[c];c++){d=(k=this.code_map_.findEntry(l[c]))?k.id:"Unknown";var m;a:{for(m=0;m<a.children.length;m++)if(a.children[m].entryID==d){m=a.children[m];break a}m=void 0}void 0===m?(k=k?k.name:
"Unknown",a=new tracing.trace_model.StackFrame(a,"v8sf-"+tv.GUID.allocate(),"v8",k,tv.ui.getStringColorId(k)),a.entryID=d,this.model_.addStackFrame(a)):a=m}}else a=this.code_map_.findEntry(a),l="v8pc-"+(a?a.id:"Unknown"),void 0===this.model_.stackFrames[l]&&(a=a?a.name:"Unknown",a=new tracing.trace_model.StackFrame(void 0,l,"v8",a,tv.ui.getStringColorId(a)),this.model_.addStackFrame(a)),a=this.model_.stackFrames[l];b=new tracing.trace_model.Sample(void 0,this.v8_thread_,"V8 PC",b,a,1);this.model_.samples.push(b)},
processDistortion_:function(a){distortion_per_entry=a/1E6},processPlotRange_:function(a,b){xrange_start_override=a;xrange_end_override=b},importEvents:function(){function a(b,c){for(var d=0;d<b.length;d++){var e=b[d].end-b[d].start,e=new tracing.trace_model.Slice("v8",b[d].name,tv.ui.getStringColorId(b[d].name),b[d].start,{},e);c.sliceGroup.pushSlice(e);a(b[d].children,c)}}var b=new tracing.importer.v8.LogReader({"timer-event":{parsers:[null,parseInt,parseInt],processor:this.processTimerEvent_.bind(this)},
"shared-library":{parsers:[null,parseInt,parseInt],processor:this.processSharedLibrary_.bind(this)},"timer-event-start":{parsers:[null,parseInt],processor:this.processTimerEventStart_.bind(this)},"timer-event-end":{parsers:[null,parseInt],processor:this.processTimerEventEnd_.bind(this)},"code-creation":{parsers:[null,parseInt,parseInt,parseInt,null],processor:this.processCodeCreateEvent_.bind(this)},"code-move":{parsers:[parseInt,parseInt],processor:this.processCodeMoveEvent_.bind(this)},"code-delete":{parsers:[parseInt],
processor:this.processCodeDeleteEvent_.bind(this)},tick:{parsers:[parseInt,parseInt,null,null,parseInt,"var-args"],processor:this.processTickEvent_.bind(this)},distortion:{parsers:[parseInt],processor:this.processDistortion_.bind(this)},"plot-range":{parsers:[parseInt,parseInt],processor:this.processPlotRange_.bind(this)}});this.v8_timer_thread_=this.model_.getOrCreateProcess(-32).getOrCreateThread(1);this.v8_timer_thread_.name="V8 Timers";this.v8_thread_=this.model_.getOrCreateProcess(-32).getOrCreateThread(2);
this.v8_thread_.name="V8";for(var c=this.logData_.split("\n"),d=0;d<c.length;d++)b.processLogLine(c[d]);this.root_stack_frame_.removeAllChildren();a(this.v8_stack_timeline_,this.v8_thread_)}};tracing.importer.Importer.register(d);return{V8LogImporter:d}});"use strict";
tv.exportTo("tracing.importer.etw",function(){function d(a){this.importer=a;this.model=a.model}var a=[];d.registerSubtype=function(c){a.push(c)};d.getSubtypeConstructors=function(){return a};d.prototype={__proto__:Object.prototype};return{Parser:d}});"use strict";
tv.exportTo("tracing.importer.etw",function(){function d(f){a.call(this,f);f.registerEventHandler(c,b,d.prototype.decodeHeader.bind(this))}var a=tracing.importer.etw.Parser,c="68FDD900-4A3E-11D1-84F4-0000F80464E3",b=0;d.prototype={__proto__:a.prototype,decodeFields:function(a,b){if(2!=a.version)throw Error("Incompatible EventTrace event version.");var c=b.decodeUInt32(),d=b.decodeUInt32(),k=b.decodeUInt32(),l=b.decodeUInt32(),m=b.decodeUInt64ToString(),n=b.decodeUInt32(),p=b.decodeUInt32(),q=b.decodeUInt32(),
r=b.decodeUInt32(),t=b.decodeUInt32(),u=b.decodeUInt32(),v=b.decodeUInt32(),z=b.decodeUInt32(),H=b.decodeUInteger(a.is64),F=b.decodeUInteger(a.is64),G=b.decodeTimeZoneInformation();b.decodeUInt32();var C=b.decodeUInt64ToString(),A=b.decodeUInt64ToString(),B=b.decodeUInt64ToString(),w=b.decodeUInt32(),K=b.decodeUInt32(),P=b.decodeW16String(),J=b.decodeW16String();return{bufferSize:c,version:d,providerVersion:k,numberOfProcessors:l,endTime:m,timerResolution:n,maxFileSize:p,logFileMode:q,buffersWritten:r,
startBuffers:t,pointerSize:u,eventsLost:v,cpuSpeed:z,loggerName:H,logFileName:F,timeZoneInformation:G,bootTime:C,perfFreq:A,startTime:B,reservedFlags:w,buffersLost:K,sessionNameString:P,logFileNameString:J}},decodeHeader:function(a,b){this.decodeFields(a,b);return!0}};a.registerSubtype(d);return{EventTraceParser:d}});"use strict";
tv.exportTo("tracing.importer.etw",function(){function d(k){a.call(this,k);k.registerEventHandler(c,b,d.prototype.decodeStart.bind(this));k.registerEventHandler(c,f,d.prototype.decodeEnd.bind(this));k.registerEventHandler(c,e,d.prototype.decodeDCStart.bind(this));k.registerEventHandler(c,h,d.prototype.decodeDCEnd.bind(this));k.registerEventHandler(c,g,d.prototype.decodeDefunct.bind(this))}var a=tracing.importer.etw.Parser,c="3D6FA8D0-FE05-11D0-9DDA-00C04FD7BA7C",b=1,f=2,e=3,h=4,g=39;d.prototype={__proto__:a.prototype,
decodeFields:function(a,b){if(5<a.version)throw Error("Incompatible Process event version.");var c;1==a.version&&(c=b.decodeUInteger(a.is64));var d;2<=a.version&&(d=b.decodeUInteger(a.is64));var e=b.decodeUInt32(),f=b.decodeUInt32(),h,t;1<=a.version&&(h=b.decodeUInt32(),t=b.decodeInt32());var u;3<=a.version&&(u=b.decodeUInteger(a.is64));var v;4<=a.version&&(v=b.decodeUInt32());var z=b.decodeSID(a.is64),H;1<=a.version&&(H=b.decodeString());var F;2<=a.version&&(F=b.decodeW16String());var G,C;4<=a.version&&
(G=b.decodeW16String(),C=b.decodeW16String());var A;5==a.version&&a.opcode==g&&(A=b.decodeUInt64ToString());return{pageDirectoryBase:c,uniqueProcessKey:d,processId:e,parentId:f,sessionId:h,exitStatus:t,directoryTableBase:u,flags:v,userSID:z,imageFileName:H,commandLine:F,packageFullName:G,applicationId:C,exitTime:A}},decodeStart:function(a,b){var c=this.decodeFields(a,b),d=this.model.getOrCreateProcess(c.processId);if(d.hasOwnProperty("has_ended"))throw Error("Process clash detected.");d.name=c.imageFileName;
return!0},decodeEnd:function(a,b){var c=this.decodeFields(a,b);return this.model.getOrCreateProcess(c.processId).has_ended=!0},decodeDCStart:function(a,b){var c=this.decodeFields(a,b),d=this.model.getOrCreateProcess(c.processId);if(d.hasOwnProperty("has_ended"))throw Error("Process clash detected.");d.name=c.imageFileName;return!0},decodeDCEnd:function(a,b){var c=this.decodeFields(a,b);return this.model.getOrCreateProcess(c.processId).has_ended=!0},decodeDefunct:function(a,b){this.decodeFields(a,
b);return!0}};a.registerSubtype(d);return{ProcessParser:d}});"use strict";
tv.exportTo("tracing.importer.etw",function(){function d(k){a.call(this,k);k.registerEventHandler(c,b,d.prototype.decodeStart.bind(this));k.registerEventHandler(c,f,d.prototype.decodeEnd.bind(this));k.registerEventHandler(c,e,d.prototype.decodeDCStart.bind(this));k.registerEventHandler(c,h,d.prototype.decodeDCEnd.bind(this));k.registerEventHandler(c,g,d.prototype.decodeCSwitch.bind(this))}var a=tracing.importer.etw.Parser,c="3D6FA8D1-FE05-11D0-9DDA-00C04FD7BA7C",b=1,f=2,e=3,h=4,g=36;d.prototype={__proto__:a.prototype,
decodeFields:function(a,c){if(3<a.version)throw Error("Incompatible Thread event version.");var d=c.decodeUInt32(),f=c.decodeUInt32(),g,h,r,t,u,v,z,H,F,G,C,A,B,w;if(1==a.version){if(a.opcode==b||a.opcode==e)g=c.decodeUInteger(a.is64),h=c.decodeUInteger(a.is64),r=c.decodeUInteger(a.is64),t=c.decodeUInteger(a.is64),v=c.decodeUInteger(a.is64),z=c.decodeUInteger(a.is64),w=c.decodeInt8(),c.skip(3)}else g=c.decodeUInteger(a.is64),h=c.decodeUInteger(a.is64),r=c.decodeUInteger(a.is64),t=c.decodeUInteger(a.is64),
2==a.version?v=c.decodeUInteger(a.is64):u=c.decodeUInteger(a.is64),z=c.decodeUInteger(a.is64),H=c.decodeUInteger(a.is64),F=c.decodeUInt32(),3==a.version&&(G=c.decodeUInt8(),C=c.decodeUInt8(),A=c.decodeUInt8(),B=c.decodeUInt8());return{processId:d,threadId:f,stackBase:g,stackLimit:h,userStackBase:r,userStackLimit:t,affinity:u,startAddr:v,win32StartAddr:z,tebBase:H,subProcessTag:F,waitMode:w,basePriority:G,pagePriority:C,ioPriority:A,threadFlags:B}},decodeCSwitchFields:function(a,b){if(2!=a.version)throw Error("Incompatible Thread event version.");
var c=b.decodeUInt32(),d=b.decodeUInt32(),e=b.decodeInt8(),f=b.decodeInt8(),g=b.decodeUInt8(),h=b.decodeInt8(),u=b.decodeInt8(),v=b.decodeInt8(),z=b.decodeInt8(),H=b.decodeInt8(),F=b.decodeUInt32(),G=b.decodeUInt32();return{newThreadId:c,oldThreadId:d,newThreadPriority:e,oldThreadPriority:f,previousCState:g,spareByte:h,oldThreadWaitReason:u,oldThreadWaitMode:v,oldThreadState:z,oldThreadWaitIdealProcessor:H,newThreadWaitTime:F,reserved:G}},decodeStart:function(a,b){var c=this.decodeFields(a,b);this.importer.createThreadIfNeeded(c.processId,
c.threadId);return!0},decodeEnd:function(a,b){var c=this.decodeFields(a,b);this.importer.removeThreadIfPresent(c.threadId);return!0},decodeDCStart:function(a,b){var c=this.decodeFields(a,b);this.importer.createThreadIfNeeded(c.processId,c.threadId);return!0},decodeDCEnd:function(a,b){var c=this.decodeFields(a,b);this.importer.removeThreadIfPresent(c.threadId);return!0},decodeCSwitch:function(a,b){var c=this.decodeCSwitchFields(a,b),d=this.importer.getOrCreateCpu(a.cpu),e=this.importer.getThreadFromWindowsTid(c.newThreadId);
e&&e.userFriendlyName?e=e.userFriendlyName:(e=this.importer.getPidFromWindowsTid(c.newThreadId),e=this.model.getProcess(e),e=(e?e.name:"Unknown process")+" (tid "+c.newThreadId+")");d.switchActiveThread(a.timestamp,{},c.newThreadId,e,c);return!0}};a.registerSubtype(d);return{ThreadParser:d}});"use strict";
tv.exportTo("tv",function(){function d(){}d.getDecodedBufferLength=function(a){return 3*a.length+1>>2};d.DecodeToTypedArray=function(a,c){var b=a.length,d=3*b+1>>2,e=0,h=e=0,g=0;if(d>c.byteLength)throw Error("Output buffer too small to decode.");for(var k=0;k<b;k++){var e=k&3,l=a.charCodeAt(k),h=h|(64<l&&91>l?l-65:96<l&&123>l?l-71:47<l&&58>l?l+4:43===l?62:47===l?63:0)<<18-6*e;if(3===e||1===b-k){for(e=0;3>e&&g<d;e++,g++)c.setUint8(g,h>>>(16>>>e&24)&255);h=0}}return g-1};return{Base64:d}});"use strict";
tv.exportTo("tracing.importer",function(){function d(){this.payload_=new DataView(new ArrayBuffer(256))}function a(a,c){this.importPriority=3;this.model_=a;this.events_=c;this.handlers_={};this.decoder_=new d;this.parsers_=[];this.is64bit_=this.ticks_=this.walltime_=void 0;this.tidsToPid_={};for(var e=tracing.importer.etw.Parser.getSubtypeConstructors(),h=0;h<e.length;++h)this.parsers_.push(new e[h](this))}var c=tracing.importer.Importer;d.prototype={__proto__:Object.prototype,reset:function(a){var c=
tv.Base64.getDecodedBufferLength(a);c>this.payload_.byteLength&&(this.payload_=new DataView(new ArrayBuffer(c)));tv.Base64.DecodeToTypedArray(a,this.payload_);this.position_=0},skip:function(a){this.position_+=a},decodeUInt8:function(){var a=this.payload_.getUint8(this.position_,!0);this.position_+=1;return a},decodeUInt16:function(){var a=this.payload_.getUint16(this.position_,!0);this.position_+=2;return a},decodeUInt32:function(){var a=this.payload_.getUint32(this.position_,!0);this.position_+=
4;return a},decodeUInt64ToString:function(){var a=this.decodeUInt32(),c=this.decodeUInt32(),a=("0000000"+a.toString(16)).substr(-8);return("0000000"+c.toString(16)).substr(-8)+a},decodeInt8:function(){var a=this.payload_.getInt8(this.position_,!0);this.position_+=1;return a},decodeInt16:function(){var a=this.payload_.getInt16(this.position_,!0);this.position_+=2;return a},decodeInt32:function(){var a=this.payload_.getInt32(this.position_,!0);this.position_+=4;return a},decodeInt64ToString:function(){return this.decodeUInt64ToString()},
decodeUInteger:function(a){return a?this.decodeUInt64ToString():this.decodeUInt32()},decodeString:function(){for(var a="";;){var c=this.decodeUInt8();if(!c)return a;a+=String.fromCharCode(c)}},decodeW16String:function(){for(var a="";;){var c=this.decodeUInt16();if(!c)return a;a+=String.fromCharCode(c)}},decodeFixedW16String:function(a){for(var c=this.position_,d="",h=0;h<a;h++){var g=this.decodeUInt16();if(!g)break;d+=String.fromCharCode(g)}this.position_=c+2*a;return d},decodeBytes:function(a){for(var c=
[],d=0;d<a;++d){var h=this.decodeUInt8();c.push(h)}return c},decodeSID:function(a){var c=this.decodeUInteger(a),d=this.decodeUInt32();a&&this.decodeUInt32();a=this.decodeUInt8();var h=this.decodeUInt8();this.decodeUInt16();this.decodeUInt32();if(1!=a)throw"Invalid SID revision: could not decode the SID structure.";a=this.decodeBytes(4*h);return{pSid:c,attributes:d,sid:a}},decodeSystemTime:function(){var a=this.decodeInt16(),c=this.decodeInt16(),d=this.decodeInt16(),h=this.decodeInt16(),g=this.decodeInt16(),
k=this.decodeInt16(),l=this.decodeInt16(),m=this.decodeInt16();return{wYear:a,wMonth:c,wDayOfWeek:d,wDay:h,wHour:g,wMinute:k,wSecond:l,wMilliseconds:m}},decodeTimeZoneInformation:function(){var a=this.decodeUInt32(),c=this.decodeFixedW16String(32),d=this.decodeSystemTime(),h=this.decodeUInt32(),g=this.decodeFixedW16String(32),k=this.decodeSystemTime(),l=this.decodeUInt32();return{bias:a,standardName:c,standardDate:d,standardBias:h,daylightName:g,daylightDate:k,daylightBias:l}}};a.canImport=function(a){return!a.hasOwnProperty("name")||
!a.hasOwnProperty("content")||"ETW"!==a.name?!1:!0};a.prototype={__proto__:c.prototype,get model(){return this.model_},createThreadIfNeeded:function(a,c){this.tidsToPid_[c]=a},removeThreadIfPresent:function(a){this.tidsToPid_[a]=void 0},getPidFromWindowsTid:function(a){if(0==a)return 0;a=this.tidsToPid_[a];return void 0==a?0:a},getThreadFromWindowsTid:function(a){var c=this.getPidFromWindowsTid(a),c=this.model_.getProcess(c);return!c?void 0:c.getThread(a)},getOrCreateCpu:function(a){return this.model_.kernel.getOrCreateCpu(a)},
importEvents:function(a){this.events_.content.forEach(this.parseInfo.bind(this));if(void 0==this.walltime_||void 0==this.ticks_)throw Error("Cannot find clock sync information in the system trace.");if(void 0==this.is64bit_)throw Error("Cannot determine pointer size of the system trace.");this.events_.content.forEach(this.parseEvent.bind(this))},importTimestamp:function(a){return(parseInt(a,16)-this.walltime_+this.ticks_)/1E3},parseInfo:function(a){a.hasOwnProperty("guid")&&(a.hasOwnProperty("walltime")&&
a.hasOwnProperty("tick")&&"ClockSync"===a.guid)&&(this.walltime_=parseInt(a.walltime,16),this.ticks_=parseInt(a.tick,16));if(void 0==this.is64bit_&&a.hasOwnProperty("guid")&&a.hasOwnProperty("op")&&a.hasOwnProperty("ver")&&a.hasOwnProperty("payload")&&"3D6FA8D1-FE05-11D0-9DDA-00C04FD7BA7C"===a.guid&&3==a.op){var c=tv.Base64.getDecodedBufferLength(a.payload);1==a.ver?this.is64bit_=52<=c?!0:!1:2==a.ver?this.is64bit_=64<=c?!0:!1:3==a.ver&&(this.is64bit_=60<=c?!0:!1)}return!0},parseEvent:function(a){if(!a.hasOwnProperty("guid")||
!a.hasOwnProperty("op")||!a.hasOwnProperty("ver")||!a.hasOwnProperty("cpu")||!a.hasOwnProperty("ts")||!a.hasOwnProperty("payload"))return!1;var c=this.importTimestamp(a.ts),c={guid:a.guid,opcode:a.op,version:a.ver,cpu:a.cpu,timestamp:c,is64:this.is64bit_},d=this.decoder_;d.reset(a.payload);a=this.getEventHandler(c.guid,c.opcode);return!a?!1:!a(c,d)?(this.model_.importWarning({type:"parse_error",message:"Malformed "+c.guid+" event ("+text+")"}),!1):!0},registerEventHandler:function(a,c,d){void 0==
this.handlers_[a]&&(this.handlers_[a]=[]);this.handlers_[a][c]=d},getEventHandler:function(a,c){return void 0==this.handlers_[a]?void 0:this.handlers_[a][c]}};tracing.importer.Importer.register(a);return{EtwImporter:a}});"use strict";
tv.exportTo("tracing.importer",function(){function d(a,c){this.importPriority=0}d.subtraces_=[];d.canImport=function(a){if(!1===/^<!DOCTYPE HTML>/.test(a))a=!1;else{b:{d.subtraces_=[];for(a=new tracing.importer.SimpleLineReader(a);a.advanceToLineMatching(/^<\s*script id="viewer-data" type="application\/json">$/);){a.beginSavingLines();if(!a.advanceToLineMatching(/^<\/\s*script>$/))break b;var c=a.endSavingLinesAndGetResult(),c=c.slice(1,c.length-1),b=c.join("\n"),c=new ArrayBuffer(tv.Base64.getDecodedBufferLength(b)),
b=tv.Base64.DecodeToTypedArray(b,new DataView(c));d.subtraces_.push(c.slice(0,b))}}a=0===d.subtraces_.length?!1:!0}return a};d.prototype={__proto__:tracing.importer.Importer.prototype,isTraceDataContainer:function(){return!0},extractSubtraces:function(){return d.subtraces_},importEvents:function(){}};tracing.importer.Importer.register(d);return{Trace2HTMLImporter:d}});"use strict";tv.exportTo("cc",function(){return{constants:{ACTIVE_TREE:0,PENDING_TREE:1,HIGH_PRIORITY_BIN:0,LOW_PRIORITY_BIN:1}}});
"use strict";
tv.exportTo("cc",function(){function d(){this.rects=[]}d.fromArray=function(a){if(0!=a.length%4)throw Error("Array must consist be a multiple of 4 in length");for(var c=new d,b=0;b<a.length;b+=4)c.rects.push(tv.Rect.fromXYWH(a[b],a[b+1],a[b+2],a[b+3]));return c};d.fromArrayOrUndefined=function(a){return void 0===a?new d:d.fromArray(a)};d.prototype={__proto__:d.prototype,rectIntersects:function(a){for(var c=0;c<this.rects.length;c++)if(this.rects[c].intersects(a))return!0;return!1},addRect:function(a){this.rects.push(a)}};return{Region:d}});
"use strict";tv.exportTo("cc",function(){return{TileCoverageRect:function(d,a){this.geometryRect=d;this.tile=a}}});"use strict";
tv.exportTo("cc",function(){function d(){b.apply(this,arguments)}function a(){d.apply(this,arguments)}var c=cc.constants,b=tracing.trace_model.ObjectSnapshot;d.prototype={__proto__:b.prototype,preInitialize:function(){cc.preInitializeObject(this);this.parentLayer=this.layerTreeImpl_=void 0},initialize:function(){this.invalidation=new cc.Region;this.annotatedInvalidation=new cc.Region;this.unrecordedRegion=new cc.Region;this.pictures=[];cc.moveRequiredFieldsFromArgsToToplevel(this,["layerId","children",
"layerQuad"]);cc.moveOptionalFieldsFromArgsToToplevel(this,"maskLayer replicaLayer idealContentsScale geometryContentsScale layoutRects usingGpuRasterization".split(" "));this.gpuMemoryUsageInBytes=this.args.gpuMemoryUsage;this.bounds=tv.Rect.fromXYWH(0,0,this.args.bounds.width,this.args.bounds.height);this.args.animationBounds&&(this.animationBoundsRect=tv.Rect.fromXYWH(this.args.animationBounds[0],this.args.animationBounds[1],this.args.animationBounds[3],this.args.animationBounds[4]));for(var a=
0;a<this.children.length;a++)this.children[a].parentLayer=this;this.maskLayer&&(this.maskLayer.parentLayer=this);this.replicaLayer&&(this.replicaLayer.parentLayer=this);this.geometryContentsScale||(this.geometryContentsScale=1);this.touchEventHandlerRegion=cc.Region.fromArrayOrUndefined(this.args.touchEventHandlerRegion);this.wheelEventHandlerRegion=cc.Region.fromArrayOrUndefined(this.args.wheelEventHandlerRegion);this.nonFastScrollableRegion=cc.Region.fromArrayOrUndefined(this.args.nonFastScrollableRegion)},
get layerTreeImpl(){if(this.layerTreeImpl_)return this.layerTreeImpl_;if(this.parentLayer)return this.parentLayer.layerTreeImpl},set layerTreeImpl(a){this.layerTreeImpl_=a},get activeLayer(){return this.layerTreeImpl.whichTree==c.ACTIVE_TREE?this:this.layerTreeImpl.layerTreeHostImpl.activeTree.findLayerWithId(this.layerId)},get pendingLayer(){return this.layerTreeImpl.whichTree==c.PENDING_TREE?this:this.layerTreeImpl.layerTreeHostImpl.pendingTree.findLayerWithId(this.layerId)}};a.prototype={__proto__:d.prototype,
initialize:function(){d.prototype.initialize.call(this);this.args.invalidation&&(this.invalidation=cc.Region.fromArray(this.args.invalidation),delete this.args.invalidation);if(this.args.annotatedInvalidationRects){this.annotatedInvalidation=new cc.Region;for(var a=0;a<this.args.annotatedInvalidationRects.length;++a){var b=this.args.annotatedInvalidationRects[a],c=b.geometryRect;c.reason=b.reason;this.annotatedInvalidation.addRect(c)}delete this.args.annotatedInvalidationRects}this.args.unrecordedRegion&&
(this.unrecordedRegion=cc.Region.fromArray(this.args.unrecordedRegion),delete this.args.unrecordedRegion);this.args.pictures&&(this.pictures=this.args.pictures,this.pictures.sort(function(a,b){return a.ts-b.ts}));this.tileCoverageRects=[];if(this.args.coverageTiles){for(a=0;a<this.args.coverageTiles.length;++a)c=this.args.coverageTiles[a].geometryRect,this.tileCoverageRects.push(new cc.TileCoverageRect(c,this.args.coverageTiles[a].tile));delete this.args.coverageTiles}}};b.register("cc::LayerImpl",
d);b.register("cc::PictureLayerImpl",a);b.register("cc::DelegatedRendererLayerImpl",d);b.register("cc::HeadsUpDisplayLayerImpl",d);b.register("cc::IOSurfaceLayerImpl",d);b.register("cc::NinePatchLayerImpl",d);b.register("cc::PictureImageLayerImpl",d);b.register("cc::ScrollbarLayerImpl",d);b.register("cc::SolidColorLayerImpl",d);b.register("cc::TextureLayerImpl",d);b.register("cc::TiledLayerImpl",d);b.register("cc::VideoLayerImpl",d);b.register("cc::PaintedScrollbarLayerImpl",d);b.register("ClankPatchLayer",
d);b.register("TabBorderLayer",d);b.register("CounterLayer",d);return{LayerImplSnapshot:d,PictureLayerImplSnapshot:a}});"use strict";
tv.exportTo("cc",function(){function d(){c.apply(this,arguments)}var a=cc.constants,c=tracing.trace_model.ObjectSnapshot;d.prototype={__proto__:c.prototype,preInitialize:function(){cc.preInitializeObject(this);this.sourceFrameNumber=this.whichTree=this.layerTreeHostImpl=void 0},initialize:function(){cc.moveRequiredFieldsFromArgsToToplevel(this,["rootLayer","renderSurfaceLayerList"]);this.args.sourceFrameNumber&&(this.sourceFrameNumber=this.args.sourceFrameNumber);this.rootLayer.layerTreeImpl=this;
if(this.args.swapPromiseTraceIds&&this.args.swapPromiseTraceIds.length){this.tracedInputLatencies=[];var a=new cc.ChromeBrowser(this.objectInstance.parent.model);void 0!==a.browserProcess&&a.browserProcess.iterateAllEvents(function(a){if(a.title&&0===a.title.indexOf("InputLatency"))for(var b=0;b<this.args.swapPromiseTraceIds.length;b++)a.args.data&&a.args.data.trace_id&&parseInt(a.args.data.trace_id)===this.args.swapPromiseTraceIds[b]&&this.tracedInputLatencies.push(a)}.bind(this))}},get hasSourceFrameBeenDrawnBefore(){if(this.whichTree==
cc.constants.PENDING_TREE)return!1;if(void 0!==this.sourceFrameNumber){var a=this.layerTreeHostImpl,c=a.objectInstance.snapshots.indexOf(a)-1;if(0>c||c>=a.objectInstance.snapshots.length)return!1;a=a.objectInstance.snapshots[c];if(!a.activeTree)return!1;if(void 0!==a.activeTree.sourceFrameNumber)return a.activeTree.sourceFrameNumber==this.sourceFrameNumber}},get otherTree(){return this.layerTreeHostImpl.getTree(this.whichTree==a.ACTIVE_TREE?a.PENDING_TREE:a.ACTIVE_TREE)},get gpuMemoryUsageInBytes(){var a=
0;this.iterLayers(function(c){void 0!==c.gpuMemoryUsageInBytes&&(a+=c.gpuMemoryUsageInBytes)});return a},iterLayers:function(a,c){function d(g,k,l,m){if(!h[g.layerId]){h[g.layerId]=!0;a.call(c,g,k,l,m);if(g.children)for(l=0;l<g.children.length;l++)d(g.children[l],k+1);g.maskLayer&&d(g.maskLayer,k+1,!0,!1);g.replicaLayer&&d(g.replicaLayer,k+1,!1,!0)}}var h={};d(this.rootLayer,0,!1,!1)},findLayerWithId:function(a){var c=void 0;this.iterLayers(function(d){d.layerId==a&&(c=d)});return c}};c.register("cc::LayerTreeImpl",
d);return{LayerTreeImplSnapshot:d}});"use strict";
tv.exportTo("cc",function(){function d(a){if(a in c)return c[a];if("_"==a[0]||"_"==a[a.length-1])return c[a]=a;var d=a.split("_");if(1==d.length)return c[a]=d[0],d[0];for(var e=1;e<d.length;e++)d[e]=d[e][0].toUpperCase()+d[e].substring(1);c[a]=d.join("");return c[a]}function a(b,c){if(b instanceof Object)if(b instanceof Array)for(var e=0;e<b.length;e++)a(b[e],!0);else if(!c||!(b instanceof tracing.trace_model.ObjectSnapshot||b instanceof tracing.trace_model.ObjectInstance))for(e in b){var h=d(e);
if(h!=e){var g=b[e];delete b[e];b[h]=g;e=h}if(/Quad$/.test(e)&&!(b[e]instanceof tv.Quad)){var k;try{k=tv.Quad.from8Array(b[e])}catch(l){console.log(l)}b[e]=k}else{if(/Rect$/.test(e)&&!(b[e]instanceof tv.Rect)){var m;try{m=tv.Rect.fromArray(b[e])}catch(n){console.log(n)}b[e]=m}a(b[e],!0)}}}var c={};return{preInitializeObject:function(b){a(b.args,!1)},convertNameToJSConvention:d,moveRequiredFieldsFromArgsToToplevel:function(a,c){for(var d=0;d<c.length;d++){var h=c[d];if(void 0===a.args[h])throw Error("Expected field "+
h+" not found in args");if(void 0!==a[h])throw Error("Field "+h+" already in object");a[h]=a.args[h];delete a.args[h]}},moveOptionalFieldsFromArgsToToplevel:function(a,c){for(var d=0;d<c.length;d++){var h=c[d];if(void 0!==a.args[h]){if(void 0!==a[h])throw Error("Field "+h+" already in object");a[h]=a.args[h];delete a.args[h]}}},bytesToRoundedMegabytes:function(a){return Math.round(a/1E5)/10}}});"use strict";
tv.exportTo("tv",function(){function d(){this.isEmpty_=!0;this.max_=this.min_=void 0}d.prototype={__proto__:Object.prototype,reset:function(){this.isEmpty_=!0;this.max_=this.min_=void 0},get isEmpty(){return this.isEmpty_},addBBox2:function(a){a.isEmpty||(this.addVec2(a.min_),this.addVec2(a.max_))},clone:function(){var a=new d;a.addBBox2(this);return a},addXY:function(a,c){this.isEmpty_?(this.max_=vec2.create(),this.min_=vec2.create(),vec2.set(this.max_,a,c),vec2.set(this.min_,a,c),this.isEmpty_=
!1):(this.max_[0]=Math.max(this.max_[0],a),this.max_[1]=Math.max(this.max_[1],c),this.min_[0]=Math.min(this.min_[0],a),this.min_[1]=Math.min(this.min_[1],c))},addVec2:function(a){this.isEmpty_?(this.max_=vec2.create(),this.min_=vec2.create(),vec2.set(this.max_,a[0],a[1]),vec2.set(this.min_,a[0],a[1]),this.isEmpty_=!1):(this.max_[0]=Math.max(this.max_[0],a[0]),this.max_[1]=Math.max(this.max_[1],a[1]),this.min_[0]=Math.min(this.min_[0],a[0]),this.min_[1]=Math.min(this.min_[1],a[1]))},addQuad:function(a){this.addVec2(a.p1);
this.addVec2(a.p2);this.addVec2(a.p3);this.addVec2(a.p4)},get minVec2(){return this.isEmpty_?void 0:this.min_},get maxVec2(){return this.isEmpty_?void 0:this.max_},get sizeAsVec2(){if(this.isEmpty_)throw Error("Empty BBox2 has no size");var a=vec2.create();vec2.subtract(a,this.max_,this.min_);return a},get size(){if(this.isEmpty_)throw Error("Empty BBox2 has no size");return{width:this.max_[0]-this.min_[0],height:this.max_[1]-this.min_[1]}},get width(){if(this.isEmpty_)throw Error("Empty BBox2 has no width");
return this.max_[0]-this.min_[0]},get height(){if(this.isEmpty_)throw Error("Empty BBox2 has no width");return this.max_[1]-this.min_[1]},toString:function(){return this.isEmpty_?"empty":"min=("+this.min_[0]+","+this.min_[1]+") max=("+this.max_[0]+","+this.max_[1]+")"},asRect:function(){return tv.Rect.fromXYWH(this.min_[0],this.min_[1],this.max_[0]-this.min_[0],this.max_[1]-this.min_[1])}};return{BBox2:d}});"use strict";
tv.exportTo("cc",function(){function d(){b.apply(this,arguments)}function a(){f.apply(this,arguments);this.allLayersBBox_=void 0}var c=cc.constants,b=tracing.trace_model.ObjectSnapshot,f=tracing.trace_model.ObjectInstance;d.prototype={__proto__:b.prototype,preInitialize:function(){cc.preInitializeObject(this)},initialize:function(){cc.moveRequiredFieldsFromArgsToToplevel(this,["deviceViewportSize","activeTree"]);cc.moveOptionalFieldsFromArgsToToplevel(this,["pendingTree"]);void 0!==this.args.activeTiles?
(this.activeTiles=this.args.activeTiles,delete this.args.activeTiles):void 0!==this.args.tiles&&(this.activeTiles=this.args.tiles,delete this.args.tiles);this.activeTiles||(this.activeTiles=[]);this.activeTree.layerTreeHostImpl=this;this.activeTree.whichTree=c.ACTIVE_TREE;this.pendingTree&&(this.pendingTree.layerTreeHostImpl=this,this.pendingTree.whichTree=c.PENDING_TREE)},getContentsScaleNames:function(){for(var a={},b=0;b<this.activeTiles.length;++b){var c=this.activeTiles[b];a[c.contentsScale]=
c.resolution}return a},getTree:function(a){if(a==c.ACTIVE_TREE)return this.activeTree;if(a==c.PENDING_TREE)return this.pendingTree;throw new Exception("Unknown tree type + "+a);},get tilesHaveGpuMemoryUsageInfo(){if(void 0!==this.tilesHaveGpuMemoryUsageInfo_)return this.tilesHaveGpuMemoryUsageInfo_;for(var a=0;a<this.activeTiles.length;a++)if(void 0!==this.activeTiles[a].gpuMemoryUsageInBytes)return this.tilesHaveGpuMemoryUsageInfo_=!0;return this.tilesHaveGpuMemoryUsageInfo_=!1},get gpuMemoryUsageInBytes(){if(this.tilesHaveGpuMemoryUsageInfo){for(var a=
0,b=0;b<this.activeTiles.length;b++){var c=this.activeTiles[b].gpuMemoryUsageInBytes;void 0!==c&&(a+=c)}return a}},get userFriendlyName(){return"cc::LayerTreeHostImpl frame "+(this.activeTree?void 0===this.activeTree.sourceFrameNumber?this.objectInstance.snapshots.indexOf(this):this.activeTree.sourceFrameNumber:this.objectInstance.snapshots.indexOf(this))}};b.register("cc::LayerTreeHostImpl",d);a.prototype={__proto__:f.prototype,get allContentsScales(){if(this.allContentsScales_)return this.allContentsScales_;
var a={},b;for(b in this.allTileHistories_)a[this.allTileHistories_[b].contentsScale]=!0;return this.allContentsScales_=tv.dictionaryKeys(a)},get allLayersBBox(){function a(c){c.renderSurfaceLayerList.forEach(function(a){b.addQuad(a.layerQuad)})}if(this.allLayersBBox_)return this.allLayersBBox_;var b=new tv.BBox2;this.snapshots.forEach(function(b){a(b.activeTree);b.pendingTree&&a(b.pendingTree)});return this.allLayersBBox_=b}};f.register("cc::LayerTreeHostImpl",a);return{LayerTreeHostImplSnapshot:d,
LayerTreeHostImplInstance:a}});"use strict";
tv.exportTo("cc",function(){function d(){this.selectionToSetIfClicked=void 0}function a(a,b){if(!a||void 0===b)throw Error("Render pass (with id) is required");this.renderPass_=a;this.renderPassId_=b}function c(a){if(!a)throw Error("Layer is required");this.layer_=a}function b(a,b){this.tile_=a;this.data_=b||{}}function f(a,b,c,d){this.layer_=a;this.rectType_=b;this.rect_=c;this.data_=void 0!==d?d:c}function e(a,b){this.layer_=a;this.rect_=b}var h=tracing.analysis.GenericObjectViewWithLabel;d.prototype=
{get specicifity(){throw Error("Not implemented");},get associatedLayerId(){throw Error("Not implemented");},get associatedRenderPassId(){throw Error("Not implemented");},get highlightsByLayerId(){return{}},createAnalysis:function(){throw Error("Not implemented");},findEquivalent:function(a){throw Error("Not implemented");}};a.prototype={__proto__:d.prototype,get specicifity(){return 1},get associatedLayerId(){},get associatedRenderPassId(){return this.renderPassId_},get renderPass(){return this.renderPass_},
createAnalysis:function(){var a=new h;a.label="RenderPass "+this.renderPassId_;a.object=this.renderPass_.args;return a},get title(){return this.renderPass_.objectInstance.typeName}};c.prototype={__proto__:d.prototype,get specicifity(){return 1},get associatedLayerId(){return this.layer_.layerId},get associatedRenderPassId(){},get layer(){return this.layer_},createAnalysis:function(){var a=new h;a.label="Layer "+this.layer_.layerId;this.layer_.usingGpuRasterization&&(a.label+=" (GPU-rasterized)");
a.object=this.layer_.args;return a},get title(){return this.layer_.objectInstance.typeName},findEquivalent:function(a){a=a.activeTree.findLayerWithId(this.layer_.layerId)||a.pendingTree.findLayerWithId(this.layer_.layerId);return!a?void 0:new c(a)}};b.prototype={__proto__:d.prototype,get specicifity(){return 2},get associatedLayerId(){return this.tile_.layerId},get highlightsByLayerId(){var a={};a[this.tile_.layerId]=[{colorKey:this.tile_.objectInstance.typeName,rect:this.tile_.layerRect}];return a},
createAnalysis:function(){var a=new h;a.label="Tile "+this.tile_.objectInstance.id+" on layer "+this.tile_.layerId;a.object=this.data_?{moreInfo:this.data_,tileArgs:this.tile_.args}:this.tile_.args;return a},findEquivalent:function(a){var c=this.tile_.tileInstance;if(!(a.ts<c.creationTs||a.ts>=c.deletionTs))return a=c.getSnapshotAt(a.ts),!a?void 0:new b(a)}};f.prototype={__proto__:d.prototype,get specicifity(){return 2},get associatedLayerId(){return this.layer_.layerId},get highlightsByLayerId(){var a=
{};a[this.layer_.layerId]=[{colorKey:this.rectType_,rect:this.rect_}];return a},createAnalysis:function(){var a=new h;a.label=this.rectType_+" on layer "+this.layer_.layerId;a.object=this.data_;return a},findEquivalent:function(a){}};e.prototype={__proto__:d.prototype,get specicifity(){return 0},get associatedLayerId(){return this.layer_.layerId},createAnalysis:function(){var a=new h;a.label="Animation Bounds of layer "+this.layer_.layerId;a.object=this.rect_;return a}};return{Selection:d,RenderPassSelection:a,
LayerSelection:c,TileSelection:b,LayerRectSelection:f,AnimationRectSelection:e}});"use strict";
tv.exportTo("tv.ui",function(){var d=tv.ui.define("x-list-view",tv.ui.ContainerThatDecoratesItsChildren);d.prototype={__proto__:tv.ui.ContainerThatDecoratesItsChildren.prototype,decorate:function(){tv.ui.ContainerThatDecoratesItsChildren.prototype.decorate.call(this);this.classList.add("x-list-view");this.onItemClicked_=this.onItemClicked_.bind(this);this.onKeyDown_=this.onKeyDown_.bind(this);this.tabIndex=0;this.addEventListener("keydown",this.onKeyDown_);this.selectionChanged_=!1},decorateChild_:function(a){a.classList.add("list-item");
a.addEventListener("click",this.onItemClicked_,!0);var c=this;Object.defineProperty(a,"selected",{configurable:!0,set:function(a){var d=c.selectedElement;d&&(d!=this&&a)&&c.selectedElement.removeAttribute("selected");a?this.setAttribute("selected","selected"):this.removeAttribute("selected");c.selectedElement!=d&&tv.dispatchSimpleEvent(c,"selection-changed",!1)},get:function(){return this.hasAttribute("selected")}})},undecorateChild_:function(a){this.selectionChanged_|=a.selected;a.classList.remove("list-item");
a.removeEventListener("click",this.onItemClicked_);delete a.selected},beginDecorating_:function(){this.selectionChanged_=!1},doneDecoratingForNow_:function(){this.selectionChanged_&&tv.dispatchSimpleEvent(this,"selection-changed",!1)},get selectedElement(){var a=this.querySelector(".list-item[selected]");return!a?void 0:a},set selectedElement(a){if(a){if(a.parentElement!=this)throw Error("Can only select elements that are children of this list view");a.selected=!0}else this.selectedElement&&(this.selectedElement.selected=
!1)},getElementByIndex:function(a){return this.querySelector(".list-item:nth-child("+a+")")},clear:function(){var a=void 0!==this.selectedElement;tv.ui.ContainerThatDecoratesItsChildren.prototype.clear.call(this);a&&tv.dispatchSimpleEvent(this,"selection-changed",!1)},onItemClicked_:function(a){var c=this.selectedElement;c&&c.removeAttribute("selected");for(a=a.target;a.parentElement!=this;)a=a.parentElement;a.setAttribute("selected","selected");tv.dispatchSimpleEvent(this,"selection-changed",!1)},
onKeyDown_:function(a){if(void 0!==this.selectedElement)if(38==a.keyCode){var c=this.selectedElement.previousSibling;if(c)return c.selected=!0,tv.scrollIntoViewIfNeeded(c),a.preventDefault(),!0}else if(40==a.keyCode&&(c=this.selectedElement.nextSibling))return c.selected=!0,tv.scrollIntoViewIfNeeded(c),a.preventDefault(),!0},addItem:function(a){var c=document.createElement("div");c.textContent=a;this.appendChild(c);return c}};return{ListView:d}});"use strict";
tv.exportTo("cc",function(){var d=cc.constants,a=cc.bytesToRoundedMegabytes,c=Math.max(d.ACTIVE_TREE,d.PENDING_TREE)+1,b=tv.ui.define("layer-picker");b.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.lthi_=void 0;this.controls_=document.createElement("top-controls");this.renderPassQuads_=!1;this.itemList_=new tv.ui.ListView;this.appendChild(this.controls_);this.appendChild(this.itemList_);this.itemList_.addEventListener("selection-changed",this.onItemSelectionChanged_.bind(this));
this.controls_.appendChild(tv.ui.createSelector(this,"whichTree","layerPicker.whichTree",d.ACTIVE_TREE,[{label:"Active tree",value:d.ACTIVE_TREE},{label:"Pending tree",value:d.PENDING_TREE},{label:"Render pass quads",value:c}]));this.showPureTransformLayers_=!1;var a=tv.ui.createCheckBox(this,"showPureTransformLayers","layerPicker.showPureTransformLayers",!1,"Transform layers");a.classList.add("show-transform-layers");a.title="When checked, pure transform layers are shown";this.controls_.appendChild(a)},
get lthiSnapshot(){return this.lthiSnapshot_},set lthiSnapshot(a){this.lthiSnapshot_=a;this.updateContents_()},get whichTree(){return this.renderPassQuads_?d.ACTIVE_TREE:this.whichTree_},set whichTree(a){this.whichTree_=a;this.renderPassQuads_=a==c;this.updateContents_();tv.dispatchSimpleEvent(this,"selection-change",!1)},get layerTreeImpl(){return void 0===this.lthiSnapshot?void 0:this.lthiSnapshot.getTree(this.whichTree)},get isRenderPassQuads(){return this.renderPassQuads_},get showPureTransformLayers(){return this.showPureTransformLayers_},
set showPureTransformLayers(a){this.showPureTransformLayers_!==a&&(this.showPureTransformLayers_=a,this.updateContents_())},getRenderPassInfos_:function(){if(!this.lthiSnapshot_)return[];var a=[];if(!this.lthiSnapshot_.args.frame||!this.lthiSnapshot_.args.frame.renderPasses)return a;for(var b=this.lthiSnapshot_.args.frame.renderPasses,c=0;c<b.length;++c)a.push({renderPass:b[c],depth:0,id:c,name:"cc::RenderPass"});return a},getLayerInfos_:function(){if(!this.lthiSnapshot_)return[];var a=this.lthiSnapshot_.getTree(this.whichTree_);
if(!a)return[];var b=[],c=this.showPureTransformLayers_,d={};a.iterLayers(function(a,f,m,n){if(!d[a.layerId]){d[a.layerId]=!0;f={layer:a,depth:f};f.name=a.args.drawsContent?a.objectInstance.name:"cc::LayerImpl";a.usingGpuRasterization&&(f.name+=" (G)");f.isMaskLayer=m;f.replicaLayer=n;if(!(m=c))a=a.args.compositingReasons&&1!=a.args.compositingReasons.length&&"No reasons given"!=a.args.compositingReasons[0]?!1:a.args.drawsContent?!1:!0,m=!a;m&&b.push(f)}});return b},updateContents_:function(){this.renderPassQuads_?
this.updateRenderPassContents_():this.updateLayerContents_()},updateRenderPassContents_:function(){this.itemList_.clear();var a;this.selection_&&this.selection_.associatedRenderPassId&&(a=this.selection_.associatedRenderPassId);this.getRenderPassInfos_().forEach(function(b){var c=b.renderPass,d=b.id,k=this.createElementWithDepth_(b.depth);k.appendChild(tv.ui.createSpan()).textContent=b.name+" "+d;k.renderPass=c;k.renderPassId=d;this.itemList_.appendChild(k);d==a&&(c.selectionState=tracing.trace_model.SelectionState.SELECTED)},
this)},updateLayerContents_:function(){this.changingItemSelection_=!0;try{this.itemList_.clear();var b;this.selection_&&this.selection_.associatedLayerId&&(b=this.selection_.associatedLayerId);this.getLayerInfos_().forEach(function(c){var d=c.layer,g=d.layerId,k=this.createElementWithDepth_(c.depth);k.appendChild(tv.ui.createSpan()).textContent=c.name+" "+g;g=k.appendChild(tv.ui.createSpan());c.isMaskLayer&&(g.textContent+="(mask)");c.isReplicaLayer&&(g.textContent+="(replica)");void 0!==d.gpuMemoryUsageInBytes&&
(c=a(d.gpuMemoryUsageInBytes),0!==c&&(g.textContent+=" ("+c+" MB)"));k.layer=d;this.itemList_.appendChild(k);d.layerId==b&&(d.selectionState=tracing.trace_model.SelectionState.SELECTED,k.selected=!0)},this)}finally{this.changingItemSelection_=!1}},createElementWithDepth_:function(a){var b=document.createElement("div"),c=b.appendChild(tv.ui.createSpan());c.style.whiteSpace="pre";for(var d=0;d<a;d++)c.textContent+=" ";return b},onItemSelectionChanged_:function(a){if(!this.changingItemSelection_){if(this.renderPassQuads_)this.onRenderPassSelected_(a);
else this.onLayerSelected_(a);tv.dispatchSimpleEvent(this,"selection-change",!1)}},onRenderPassSelected_:function(a){var b,c;this.itemList_.selectedElement&&(b=this.itemList_.selectedElement.renderPass,c=this.itemList_.selectedElement.renderPassId);this.selection_=b?new cc.RenderPassSelection(b,c):void 0},onLayerSelected_:function(a){var b;this.itemList_.selectedElement&&(b=this.itemList_.selectedElement.layer);this.selection_=b?new cc.LayerSelection(b):void 0},get selection(){return this.selection_},
set selection(a){this.selection_!=a&&(this.selection_=a,this.updateContents_())}};return{LayerPicker:b}});"use strict";
tv.exportTo("cc",function(){function d(a,c){this.picture_=a;c instanceof ImageData?(this.error_=void 0,this.imageData_=c):(this.error_=c,this.imageData_=void 0)}d.Pending=function(a){return new d(a,void 0)};d.prototype={get picture(){return this.picture_},get error(){return this.error_},get imageData(){return this.imageData_},isPending:function(){return void 0===this.error_&&void 0===this.imageData_},asCanvas:function(){if(this.imageData_){var a=document.createElement("canvas"),c=a.getContext("2d");
a.width=this.imageData_.width;a.height=this.imageData_.height;c.putImageData(this.imageData_,0,0);return a}}};return{PictureAsImageData:d}});"use strict";
tv.exportTo("cc",function(){function d(a,b){this.skp64_=a;this.layerRect_=b;this.guid_=tv.GUID.allocate()}function a(a){this.guid_=tv.GUID.allocate();this.pictures_=a;this.layerRect_=void 0}function c(){b.apply(this,arguments)}var b=tracing.trace_model.ObjectSnapshot;d.prototype={get canSave(){return!0},get layerRect(){return this.layerRect_},get guid(){return this.guid_},getBase64SkpData:function(){return this.skp64_},getOps:function(){if(c.CanGetOps()){var a=window.chrome.skiaBenchmarking.getOps({skp64:this.skp64_,
params:{layer_rect:this.layerRect_.toArray()}});a||console.error("Failed to get picture ops.");return a}console.error(c.HowToEnablePictureDebugging())},getOpTimings:function(){if(c.CanGetOpTimings()){var a=window.chrome.skiaBenchmarking.getOpTimings({skp64:this.skp64_,params:{layer_rect:this.layerRect_.toArray()}});a||console.error("Failed to get picture op timings.");return a}console.error(c.HowToEnablePictureDebugging())},tagOpsWithTimings:function(a){for(var b=[],c=0;3>c;c++)if(b[c]=this.getOpTimings(),
!b[c]||!b[c].cmd_times||b[c].cmd_times.length!=a.length)return a;for(c=0;c<a.length;c++){for(var d=Number.MAX_VALUE,k=0;3>k;k++)d=Math.min(d,b[k].cmd_times[c]);a[c].cmd_time=d}return a},rasterize:function(a,b){if(!c.CanRasterize()||!c.CanGetOps())b(new cc.PictureAsImageData(this,cc.PictureSnapshot.HowToEnablePictureDebugging()));else{var d=window.chrome.skiaBenchmarking.rasterize({skp64:this.skp64_,params:{layer_rect:this.layerRect_.toArray()}},{stop:void 0===a.stopIndex?-1:a.stopIndex,overdraw:!!a.showOverdraw,
params:{}});if(d){var g=document.createElement("canvas"),k=g.getContext("2d");g.width=d.width;g.height=d.height;g=k.createImageData(d.width,d.height);g.data.set(new Uint8ClampedArray(d.data));b(new cc.PictureAsImageData(this,g))}else b(new cc.PictureAsImageData(this,"Failed to rasterize picture. Your recording may be from an old Chrome version. The SkPicture format is not backward compatible."))}}};a.prototype={__proto__:d.prototype,get canSave(){return!1},get typeName(){return"cc::LayeredPicture"},
get layerRect(){if(void 0!==this.layerRect_)return this.layerRect_;this.layerRect_={x:0,y:0,width:0,height:0};for(var a=0;a<this.pictures_.length;++a){var b=this.pictures_[a].layerRect;this.layerRect_.x=Math.min(this.layerRect_.x,b.x);this.layerRect_.y=Math.min(this.layerRect_.y,b.y);this.layerRect_.width=Math.max(this.layerRect_.width,b.x+b.width);this.layerRect_.height=Math.max(this.layerRect_.height,b.y+b.height)}return this.layerRect_},get guid(){return this.guid_},getBase64SkpData:function(){throw Error("Not available with a LayeredPicture.");
},getOps:function(){for(var a=[],b=0;b<this.pictures_.length;++b)a=a.concat(this.pictures_[b].getOps());return a},getOpTimings:function(){for(var a=this.pictures_[0].getOpTimings(),b=1;b<this.pictures_.length;++b){var c=this.pictures_[b].getOpTimings();a.cmd_times=a.cmd_times.concat(c.cmd_times);a.total_time+=c.total_time}return a},tagOpsWithTimings:function(a){for(var b=[],c=0;3>c;c++)if(b[c]=this.getOpTimings(),!b[c]||!b[c].cmd_times)return a;for(c=0;c<a.length;c++){for(var d=Number.MAX_VALUE,k=
0;3>k;k++)d=Math.min(d,b[k].cmd_times[c]);a[c].cmd_time=d}return a},rasterize:function(a,b){this.picturesAsImageData_=[];for(var c=function(a){this.picturesAsImageData_.push(a);if(this.picturesAsImageData_.length===this.pictures_.length){var c=document.createElement("canvas");a=c.getContext("2d");c.width=this.layerRect.width;c.height=this.layerRect.height;for(c=0;c<this.picturesAsImageData_.length;++c)a.putImageData(this.picturesAsImageData_[c].imageData,this.pictures_[c].layerRect.x,this.pictures_[c].layerRect.y);
this.picturesAsImageData_=[];b(new cc.PictureAsImageData(this,a.getImageData(this.layerRect.x,this.layerRect.y,this.layerRect.width,this.layerRect.height)))}}.bind(this),d=0;d<this.pictures_.length;++d)this.pictures_[d].rasterize(a,c)}};c.HasSkiaBenchmarking=function(){return!window.chrome||!window.chrome.skiaBenchmarking?!1:!0};c.CanRasterize=function(){return!c.HasSkiaBenchmarking()||!window.chrome.skiaBenchmarking.rasterize?!1:!0};c.CanGetOps=function(){return!c.HasSkiaBenchmarking()||!window.chrome.skiaBenchmarking.getOps?
!1:!0};c.CanGetOpTimings=function(){return!c.HasSkiaBenchmarking()||!window.chrome.skiaBenchmarking.getOpTimings?!1:!0};c.CanGetInfo=function(){return!c.HasSkiaBenchmarking()||!window.chrome.skiaBenchmarking.getInfo?!1:!0};c.HowToEnablePictureDebugging=function(){return!window.chrome||!window.chrome.skiaBenchmarking?"For pictures to show up, you need to have Chrome running with --enable-skia-benchmarking. Please restart chrome with this flag and try again.":!window.chrome.skiaBenchmarking.rasterize?
"Your chrome is old":!window.chrome.skiaBenchmarking.getOps?"Your chrome is old: skiaBenchmarking.getOps not found":!window.chrome.skiaBenchmarking.getOpTimings?"Your chrome is old: skiaBenchmarking.getOpTimings not found":!window.chrome.skiaBenchmarking.getInfo?"Your chrome is old: skiaBenchmarking.getInfo not found":"Rasterizing is on"};c.prototype={__proto__:b.prototype,preInitialize:function(){cc.preInitializeObject(this);this.rasterResult_=void 0},initialize:function(){this.args.alias&&(this.args=
this.args.alias.args);if(!this.args.params.layerRect)throw Error("Missing layer rect");this.layerRect_=this.args.params.layerRect;this.picture_=new d(this.args.skp64,this.args.params.layerRect)},set picture(a){this.picture_=a},get canSave(){return this.picture_.canSave},get layerRect(){return this.layerRect_?this.layerRect_:this.picture_.layerRect},get guid(){return this.picture_.guid},getBase64SkpData:function(){return this.picture_.getBase64SkpData()},getOps:function(){return this.picture_.getOps()},
getOpTimings:function(){return this.picture_.getOpTimings()},tagOpsWithTimings:function(a){return this.picture_.tagOpsWithTimings(a)},rasterize:function(a,b){this.picture_.rasterize(a,b)}};b.register("cc::Picture",c);return{PictureSnapshot:c,Picture:d,LayeredPicture:a}});"use strict";
tv.exportTo("cc",function(){function d(){a.apply(this,arguments)}var a=tracing.trace_model.ObjectSnapshot;d.prototype={__proto__:a.prototype,preInitialize:function(){cc.preInitializeObject(this)},initialize:function(){cc.moveRequiredFieldsFromArgsToToplevel(this,["quadList"])}};a.register("cc::RenderPass",d);return{RenderPassSnapshot:d}});"use strict";
tv.exportTo("cc",function(){return{tileTypes:{highRes:"highRes",lowRes:"lowRes",extraHighRes:"extraHighRes",extraLowRes:"extraLowRes",missing:"missing",culled:"culled",solidColor:"solidColor",picture:"picture",directPicture:"directPicture",unknown:"unknown"},tileBorder:{highRes:{color:"rgba(80, 200, 200, 0.7)",width:1},lowRes:{color:"rgba(212, 83, 192, 0.7)",width:2},extraHighRes:{color:"rgba(239, 231, 20, 0.7)",width:2},extraLowRes:{color:"rgba(93, 186, 18, 0.7)",width:2},missing:{color:"rgba(255, 0, 0, 0.7)",
width:1},culled:{color:"rgba(160, 100, 0, 0.8)",width:1},solidColor:{color:"rgba(128, 128, 128, 0.7)",width:1},picture:{color:"rgba(64, 64, 64, 0.7)",width:1},directPicture:{color:"rgba(127, 255, 0, 1.0)",width:1},unknown:{color:"rgba(0, 0, 0, 1.0)",width:2}}}});"use strict";
tv.exportTo("cc",function(){function d(){a.apply(this,arguments)}var a=tracing.trace_model.ObjectSnapshot;d.prototype={__proto__:a.prototype,preInitialize:function(){cc.preInitializeObject(this)},initialize:function(){cc.moveOptionalFieldsFromArgsToToplevel(this,["layerId","contentsScale","contentRect"]);this.args.managedState?(this.resolution=this.args.managedState.resolution,this.isSolidColor=this.args.managedState.isSolidColor,this.isUsingGpuMemory=this.args.managedState.isUsingGpuMemory,this.hasResource=
this.args.managedState.hasResource,this.scheduledPriority=this.args.managedState.scheduledPriority,this.distanceToVisible=void 0!==this.args.managedState.distanceToVisible?this.args.managedState.distanceToVisible:this.args.managedState.distanceToVisibleInPixels):(this.resolution="HIGH_RESOLUTION",this.hasResource=this.isUsingGpuMemory=this.isSolidColor=!1,this.timeToVisible=this.distanceToVisible=this.scheduledPriority=void 0);60<this.timeToVisible&&(this.timeToVisible=60);this.gpuMemoryUsageInBytes=
this.args.gpuMemoryUsage;this.contentRect&&(this.layerRect=this.contentRect.scale(1/this.contentsScale));this.type_=this.isSolidColor?cc.tileTypes.solidColor:this.hasResource?"HIGH_RESOLUTION"===this.resolution?cc.tileTypes.highRes:"LOW_RESOLUTION"===this.resolution?cc.tileTypes.lowRes:cc.tileTypes.unknown:cc.tileTypes.missing},getTypeForLayer:function(a){var b=this.type_;b==cc.tileTypes.unknown&&(this.contentsScale<a.idealContentsScale?b=cc.tileTypes.extraLowRes:this.contentsScale>a.idealContentsScale&&
(b=cc.tileTypes.extraHighRes));return b}};a.register("cc::Tile",d);return{TileSnapshot:d}});"use strict";
tv.exportTo("tv",function(){function d(a,c,b,d){this.r=Math.floor(a)||0;this.g=Math.floor(c)||0;this.b=Math.floor(b)||0;this.a=d}d.fromString=function(a){if("rgb("==a.substr(0,4)){a=a.substr(4,a.length-5);a=a.split(",").map(function(a){return a.replace(/^\s+/,"","g")});if(3!=a.length)throw Error("Malformatted rgb-expression");return new d(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]))}if("rgba("==a.substr(0,5)){a=a.substr(5,a.length-6);a=a.split(",").map(function(a){return a.replace(/^\s+/,"","g")});
if(4!=a.length)throw Error("Malformatted rgb-expression");return new d(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]),parseFloat(a[3]))}if("#"==a[0]&&7==a.length)return new d(parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16));throw Error("Unrecognized string format.");};d.lerp=function(a,c,b){return void 0!==a.a&&void 0!==c.a?d.lerpRGBA(a,c,b):d.lerpRGB(a,c,b)};d.lerpRGB=function(a,c,b){return new d((c.r-a.r)*b+a.r,(c.g-a.g)*b+a.g,(c.b-a.b)*b+a.b)};d.lerpRGBA=function(a,
c,b){return new d((c.r-a.r)*b+a.r,(c.g-a.g)*b+a.g,(c.b-a.b)*b+a.b,(c.a-a.a)*b+a.a)};d.prototype={clone:function(){var a=new d;a.r=this.r;a.g=this.g;a.b=this.b;a.a=this.a;return a},brighten:function(a){a=a||0.45;return new d(Math.min(255,this.r+Math.floor(this.r*a)),Math.min(255,this.g+Math.floor(this.g*a)),Math.min(255,this.b+Math.floor(this.b*a)))},darken:function(a){a=a||0.45;return new d(Math.min(255,this.r-Math.floor(this.r*a)),Math.min(255,this.g-Math.floor(this.g*a)),Math.min(255,this.b-Math.floor(this.b*
a)))},withAlpha:function(a){return new d(this.r,this.g,this.b,a)},toString:function(){return void 0!==this.a?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}};return{Color:d}});"use strict";
tv.exportTo("tv.ui",function(){var d=tv.ui.define("camera");d.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(a){this.eventSource_=a;this.eventSource_.addEventListener("beginpan",this.onPanBegin_.bind(this));this.eventSource_.addEventListener("updatepan",this.onPanUpdate_.bind(this));this.eventSource_.addEventListener("endpan",this.onPanEnd_.bind(this));this.eventSource_.addEventListener("beginzoom",this.onZoomBegin_.bind(this));this.eventSource_.addEventListener("updatezoom",
this.onZoomUpdate_.bind(this));this.eventSource_.addEventListener("endzoom",this.onZoomEnd_.bind(this));this.eventSource_.addEventListener("beginrotate",this.onRotateBegin_.bind(this));this.eventSource_.addEventListener("updaterotate",this.onRotateUpdate_.bind(this));this.eventSource_.addEventListener("endrotate",this.onRotateEnd_.bind(this));this.eye_=[0,0,1E4];this.gazeTarget_=[0,0,0];this.rotation_=[0,0];this.pixelRatio_=window.devicePixelRatio||1},get modelViewMatrix(){var a=mat4.create();mat4.lookAt(a,
this.eye_,this.gazeTarget_,[0,1,0]);return a},get projectionMatrix(){var a=tv.windowRectForElement(this.canvas_).scaleSize(this.pixelRatio_),a=a.width/a.height,c=mat4.create();mat4.perspective(c,tv.deg2rad(15),a,1,1E5);return c},set canvas(a){this.canvas_=a},set deviceRect(a){this.deviceRect_=a},get stackingDistanceDampening(){var a=[this.gazeTarget_[0]-this.eye_[0],this.gazeTarget_[1]-this.eye_[1],this.gazeTarget_[2]-this.eye_[2]];vec3.normalize(a,a);return 1+a[2]},loadCameraFromSettings:function(a){this.eye_=
a.get("eye",this.eye_,"tv.ui_camera");this.gazeTarget_=a.get("gaze_target",this.gazeTarget_,"tv.ui_camera");this.rotation_=a.get("rotation",this.rotation_,"tv.ui_camera");this.dispatchRenderEvent_()},saveCameraToSettings:function(a){a.set("eye",this.eye_,"tv.ui_camera");a.set("gaze_target",this.gazeTarget_,"tv.ui_camera");a.set("rotation",this.rotation_,"tv.ui_camera")},resetCamera:function(){this.eye_=[0,0,1E4];this.gazeTarget_=[0,0,0];this.rotation_=[0,0];var a=tv.SessionSettings();0!==a.keys("tv.ui_camera").length?
this.loadCameraFromSettings(a):(this.deviceRect_&&(tv.windowRectForElement(this.canvas_).scaleSize(this.pixelRatio_),this.eye_[0]=this.deviceRect_.width/2,this.eye_[1]=this.deviceRect_.height/2,this.gazeTarget_[0]=this.deviceRect_.width/2,this.gazeTarget_[1]=this.deviceRect_.height/2),this.saveCameraToSettings(a),this.dispatchRenderEvent_())},updatePanByDelta:function(a){var c=tv.windowRectForElement(this.canvas_).scaleSize(this.pixelRatio_),b=[this.eye_[0]-this.gazeTarget_[0],this.eye_[1]-this.gazeTarget_[1],
this.eye_[2]-this.gazeTarget_[2]],d=vec3.length(b);vec3.normalize(b,b);var e=2*d*Math.tan(tv.deg2rad(7.5))/c.height,h=[0,1,0],c=mat4.create();mat4.rotate(c,c,tv.deg2rad(this.rotation_[1]),[0,1,0]);mat4.rotate(c,c,tv.deg2rad(this.rotation_[0]),[1,0,0]);vec3.transformMat4(h,h,c);var g=[0,0,0];vec3.cross(g,b,h);vec3.normalize(g,g);for(c=0;3>c;++c)this.gazeTarget_[c]+=a[0]*e*g[c]-a[1]*e*h[c],this.eye_[c]=this.gazeTarget_[c]+d*b[c];if(1E-6<Math.abs(this.gazeTarget_[2])){a=[-b[0],-b[1],-b[2]];b=tv.clamp(-this.eye_[2]/
a[2],1E3,1E5);for(c=0;3>c;++c)this.gazeTarget_[c]=this.eye_[c]+b*a[c]}this.saveCameraToSettings(tv.SessionSettings());this.dispatchRenderEvent_()},updateZoomByDelta:function(a){a=a[1];a=tv.clamp(a,-50,50);a=1-a/100;var c=[0,0,0];vec3.subtract(c,this.eye_,this.gazeTarget_);var b=vec3.length(c);1E3>b*a?a=1E3/b:1E5<b*a&&(a=1E5/b);vec3.scale(c,c,a);vec3.add(this.eye_,this.gazeTarget_,c);this.saveCameraToSettings(tv.SessionSettings());this.dispatchRenderEvent_()},updateRotateByDelta:function(a){a[0]*=
0.5;a[1]*=0.5;if(!(80<Math.abs(this.rotation_[0]+a[1]))&&!(80<Math.abs(this.rotation_[1]-a[0]))){var c=[0,0,0,0];vec3.subtract(c,this.eye_,this.gazeTarget_);var b=mat4.create();mat4.rotate(b,b,-tv.deg2rad(this.rotation_[0]),[1,0,0]);mat4.rotate(b,b,-tv.deg2rad(this.rotation_[1]),[0,1,0]);vec4.transformMat4(c,c,b);this.rotation_[0]+=a[1];this.rotation_[1]-=a[0];mat4.identity(b);mat4.rotate(b,b,tv.deg2rad(this.rotation_[1]),[0,1,0]);mat4.rotate(b,b,tv.deg2rad(this.rotation_[0]),[1,0,0]);vec4.transformMat4(c,
c,b);vec3.add(this.eye_,this.gazeTarget_,c);this.saveCameraToSettings(tv.SessionSettings());this.dispatchRenderEvent_()}},onPanBegin_:function(a){this.panning_=!0;this.lastMousePosition_=this.getMousePosition_(a)},onPanUpdate_:function(a){if(this.panning_){var c=this.getMouseDelta_(a,this.lastMousePosition_);this.lastMousePosition_=this.getMousePosition_(a);this.updatePanByDelta(c)}},onPanEnd_:function(a){this.panning_=!1},onZoomBegin_:function(a){this.zooming_=!0;this.zoomPoint_=this.lastMousePosition_=
a=this.getMousePosition_(a)},onZoomUpdate_:function(a){if(this.zooming_){var c=this.getMouseDelta_(a,this.lastMousePosition_);this.lastMousePosition_=this.getMousePosition_(a);this.updateZoomByDelta(c)}},onZoomEnd_:function(a){this.zooming_=!1;this.zoomPoint_=void 0},onRotateBegin_:function(a){this.rotating_=!0;this.lastMousePosition_=this.getMousePosition_(a)},onRotateUpdate_:function(a){if(this.rotating_){var c=this.getMouseDelta_(a,this.lastMousePosition_);this.lastMousePosition_=this.getMousePosition_(a);
this.updateRotateByDelta(c)}},onRotateEnd_:function(a){this.rotating_=!1},getMousePosition_:function(a){var c=tv.windowRectForElement(this.canvas_);return[(a.clientX-c.x)*this.pixelRatio_,(a.clientY-c.y)*this.pixelRatio_]},getMouseDelta_:function(a,c){var b=this.getMousePosition_(a);return[b[0]-c[0],b[1]-c[1]]},dispatchRenderEvent_:function(){tv.dispatchSimpleEvent(this,"renderrequired",!1,!1)}};return{Camera:d}});"use strict";
tv.exportTo("tv.ui",function(){function d(a,b,c,f,g,h,k,l,m){m=m||0;var n=0;m<e.SUBDIVISION_MINIMUM?n=7:m<e.SUBDIVISION_RECURSION_DEPTH&&(Math.abs(c[2]-f[2])>e.SUBDIVISION_DEPTH_THRESHOLD&&(n+=1),Math.abs(c[2]-g[2])>e.SUBDIVISION_DEPTH_THRESHOLD&&(n+=2),Math.abs(f[2]-g[2])>e.SUBDIVISION_DEPTH_THRESHOLD&&(n+=4));for(var C=vec4.create(),A=vec4.create(),B=vec4.create(),w=vec2.create(),K=vec2.create(),P=vec2.create(),J=0;2>J;++J)c[J]*=c[2],f[J]*=f[2],g[J]*=g[2];for(J=0;4>J;++J)C[J]=(c[J]+f[J])/2,A[J]=
(c[J]+g[J])/2,B[J]=(f[J]+g[J])/2;for(J=0;2>J;++J)c[J]/=c[2],f[J]/=f[2],g[J]/=g[2],C[J]/=C[2],A[J]/=A[2],B[J]/=B[2];for(J=0;2>J;++J)w[J]=(h[J]+k[J])/2,K[J]=(h[J]+l[J])/2,P[J]=(k[J]+l[J])/2;switch(n){case 1:d(a,b,c,C,g,h,w,l,m+1);d(a,b,C,f,g,w,k,l,m+1);break;case 2:d(a,b,c,f,A,h,k,K,m+1);d(a,b,f,A,g,k,K,l,m+1);break;case 3:d(a,b,c,C,A,h,w,K,m+1);d(a,b,A,C,g,K,w,l,m+1);d(a,b,C,f,g,w,k,l,m+1);break;case 4:d(a,b,c,B,g,h,P,l,m+1);d(a,b,c,f,B,h,k,P,m+1);break;case 5:d(a,b,c,C,g,h,w,l,m+1);d(a,b,g,C,B,l,
w,P,m+1);d(a,b,C,f,B,w,k,P,m+1);break;case 6:d(a,b,c,B,A,h,P,K,m+1);d(a,b,c,f,B,h,k,P,m+1);d(a,b,A,B,g,K,P,l,m+1);break;case 7:d(a,b,c,C,A,h,w,K,m+1);d(a,b,C,B,A,w,P,K,m+1);d(a,b,C,f,B,w,k,P,m+1);d(a,b,A,B,g,K,P,l,m+1);break;default:c=[c[0],c[1]],f=[f[0],f[1]],g=[g[0],g[1]],h=[h[0],h[1]],n=[k[0],k[1]],C=[l[0],l[1]],a.beginPath(),a.moveTo(c[0],c[1]),a.lineTo(f[0],f[1]),a.lineTo(g[0],g[1]),a.closePath(),f[0]-=c[0],f[1]-=c[1],g[0]-=c[0],g[1]-=c[1],n[0]-=h[0],n[1]-=h[1],C[0]-=h[0],C[1]-=h[1],A=1/(n[0]*
C[1]-C[0]*n[1]),l=(C[1]*f[0]-n[1]*g[0])*A,k=(C[1]*f[1]-n[1]*g[1])*A,m=(n[0]*g[0]-C[0]*f[0])*A,g=(n[0]*g[1]-C[0]*f[1])*A,f=c[0]-l*h[0]-m*h[1],h=c[1]-k*h[0]-g*h[1],a.save(),a.transform(l,k,m,g,f,h),a.clip(),a.drawImage(b,0,0),a.restore()}}function a(a,b,c,d){vec4.set(h,b[0],b[1],0,1);vec4.transformMat4(h,h,c);b=h[3];1E-6>b&&(b=1E-6);a[0]=(h[0]/b+1)*d.width/2;a[1]=(h[1]/b+1)*d.height/2;a[2]=b}function c(a,b,c,e,f,g,h,k){if(0===a){if(b.imageData){k.width=b.imageData.width;k.height=b.imageData.height;
k.getContext("2d").putImageData(b.imageData,0,0);(new tv.BBox2).addQuad(b);a=k.width;var l=k.height;d(h,k,c,e,g,[0,0],[a,0],[0,l]);d(h,k,e,f,g,[a,0],[a,l],[0,l])}b.backgroundColor&&(h.fillStyle=b.backgroundColor,h.beginPath(),h.moveTo(c[0],c[1]),h.lineTo(e[0],e[1]),h.lineTo(f[0],f[1]),h.lineTo(g[0],g[1]),h.closePath(),h.fill())}else if(1===a)h.beginPath(),h.moveTo(c[0],c[1]),h.lineTo(e[0],e[1]),h.lineTo(f[0],f[1]),h.lineTo(g[0],g[1]),h.closePath(),h.save(),h.strokeStyle=b.borderColor?b.borderColor:
"rgb(128,128,128)",b.shadowOffset&&(h.shadowColor="rgb(0, 0, 0)",h.shadowOffsetX=b.shadowOffset[0],h.shadowOffsetY=b.shadowOffset[1],b.shadowBlur&&(h.shadowBlur=b.shadowBlur)),h.lineWidth=b.borderWidth?b.borderWidth:1,h.stroke(),h.restore();else if(2===a)b.upperBorderColor&&(h.lineWidth=8,h.strokeStyle=b.upperBorderColor,h.beginPath(),h.moveTo(c[0],c[1]),h.lineTo(e[0],e[1]),h.lineTo(f[0],f[1]),h.lineTo(g[0],g[1]),h.closePath(),h.stroke());else throw Error("Invalid pass number");}function b(b,c,d,
e,f,h,n){for(var H=0;H<e;H++)for(var F=0;F<d.length;F++){var G=d[F];a(g,G.p1,b,c);a(k,G.p2,b,c);a(l,G.p3,b,c);a(m,G.p4,b,c);f(H,G,g,k,l,m,h,n)}}var f=document.currentScript.ownerDocument,e={IMAGE_LOAD_RETRY_TIME_MS:500,SUBDIVISION_MINIMUM:1,SUBDIVISION_RECURSION_DEPTH:3,SUBDIVISION_DEPTH_THRESHOLD:100,FAR_PLANE_DISTANCE:1E4},h=vec4.create(),g=vec3.create(),k=vec3.create(),l=vec3.create(),m=vec3.create(),n=tv.ui.define("quad-stack-view");n.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.className=
"quad-stack-view";var a=tv.instantiateTemplate("#quad-stack-view-template",f);this.appendChild(a);this.updateHeaderVisibility_();this.canvas_=this.querySelector("#canvas");this.chromeImages_={left:this.querySelector("#chrome-left"),mid:this.querySelector("#chrome-mid"),right:this.querySelector("#chrome-right")};a=this.querySelector("#stacking-distance-slider");a.value=tv.Settings.get("quadStackView.stackingDistance",45);a.addEventListener("change",this.onStackingDistanceChange_.bind(this));a.addEventListener("input",
this.onStackingDistanceChange_.bind(this));this.trackMouse_();this.camera_=new tv.ui.Camera(this.mouseModeSelector_);this.camera_.addEventListener("renderrequired",this.onRenderRequired_.bind(this));this.cameraWasReset_=!1;this.camera_.canvas=this.canvas_;this.viewportRect_=tv.Rect.fromXYWH(0,0,0,0);this.pixelRatio_=window.devicePixelRatio||1},updateHeaderVisibility_:function(){this.headerText?this.querySelector("#header").style.display="":this.querySelector("#header").style.display="none"},get headerText(){return this.querySelector("#header").textContent},
set headerText(a){this.querySelector("#header").textContent=a;this.updateHeaderVisibility_()},onStackingDistanceChange_:function(a){tv.Settings.set("quadStackView.stackingDistance",this.stackingDistance);this.scheduleRender();a.stopPropagation()},get stackingDistance(){return this.querySelector("#stacking-distance-slider").value},get mouseModeSelector(){return this.mouseModeSelector_},get camera(){return this.camera_},set quads(a){this.quads_=a;this.scheduleRender()},set deviceRect(a){a&&!a.equalTo(this.deviceRect_)&&
(this.deviceRect_=a,this.camera_.deviceRect=a,this.chromeQuad_=void 0)},resize:function(){if(!this.offsetParent)return!0;var a=parseInt(window.getComputedStyle(this.offsetParent).width),b=parseInt(window.getComputedStyle(this.offsetParent).height),c=tv.Rect.fromXYWH(0,0,a,b);if(c.equalTo(this.viewportRect_))return!1;this.viewportRect_=c;this.style.width=a+"px";this.style.height=b+"px";this.canvas_.style.width=a+"px";this.canvas_.style.height=b+"px";this.canvas_.width=this.pixelRatio_*a;this.canvas_.height=
this.pixelRatio_*b;this.cameraWasReset_||(this.camera_.resetCamera(),this.cameraWasReset_=!0);return!0},readyToDraw:function(){if(!this.chromeImages_.left.src){var a=window.getComputedStyle(this.chromeImages_.left).content,a=a.replace(/url\((.*)\)/,"$1"),b=window.getComputedStyle(this.chromeImages_.mid).content,b=b.replace(/url\((.*)\)/,"$1"),c=window.getComputedStyle(this.chromeImages_.right).content,c=c.replace(/url\((.*)\)/,"$1");this.chromeImages_.left.src=a;this.chromeImages_.mid.src=b;this.chromeImages_.right.src=
c}return 0<this.chromeImages_.left.height&&0<this.chromeImages_.mid.height&&0<this.chromeImages_.right.height},get chromeQuad(){if(this.chromeQuad_)return this.chromeQuad_;var a=document.createElement("canvas"),b=this.chromeImages_.left.height;a.width=this.deviceRect_.width;a.height=this.deviceRect_.height+b;var c=this.chromeImages_.left.width,d=this.chromeImages_.mid.width,e=this.chromeImages_.right.width,f=a.getContext("2d");f.drawImage(this.chromeImages_.left,0,0);f.save();f.translate(c,0);e=(this.deviceRect_.width-
c-e)/d;f.scale(e,1);f.drawImage(this.chromeImages_.mid,0,0);f.restore();f.drawImage(this.chromeImages_.right,c+e*d,0);b=tv.Rect.fromXYWH(this.deviceRect_.x,this.deviceRect_.y-b,this.deviceRect_.width,this.deviceRect_.height+b);b=tv.Quad.fromRect(b);b.stackingGroupId=this.maxStackingGroupId_+1;b.imageData=f.getImageData(0,0,a.width,a.height);b.shadowOffset=[0,0];b.shadowBlur=5;b.borderWidth=3;return this.chromeQuad_=b},scheduleRender:function(){if(this.redrawScheduled_)return!1;this.redrawScheduled_=
!0;tv.requestAnimationFrame(this.render,this)},onRenderRequired_:function(a){this.scheduleRender()},stackTransformAndProcessQuads_:function(a,d,e,f,g){for(var h=this.camera_.modelViewMatrix,k=this.camera_.projectionMatrix,l=tv.Rect.fromXYWH(0,0,this.canvas_.width,this.canvas_.height),m=[],n=0;n<this.quads_.length;++n){for(var C=this.quads_[n],A=C.stackingGroupId||0;A>=m.length;)m.push([]);m[A].push(C)}C=mat4.create();this.maxStackingGroupId_=m.length;A=this.stackingDistance*this.camera_.stackingDistanceDampening;
mat4.multiply(C,k,h);for(n=0;n<m.length;++n)b(C,l,m[n],a,d,f,g),mat4.translate(h,h,[0,0,A]),mat4.multiply(C,k,h);e&&this.deviceRect_&&b(C,l,[this.chromeQuad],a,c,f,g)},render:function(){this.redrawScheduled_=!1;if(this.readyToDraw()){if(this.quads_){var a=this.canvas_.getContext("2d");this.resize()||a.clearRect(0,0,this.canvas_.width,this.canvas_.height);var b=document.createElement("canvas");this.stackTransformAndProcessQuads_(3,c,!0,a,b);b.width=0}}else setTimeout(this.scheduleRender.bind(this),
e.IMAGE_LOAD_RETRY_TIME_MS)},trackMouse_:function(){this.mouseModeSelector_=new tv.ui.MouseModeSelector(this.canvas_);this.mouseModeSelector_.supportedModeMask=tv.ui.MOUSE_SELECTOR_MODE.SELECTION|tv.ui.MOUSE_SELECTOR_MODE.PANSCAN|tv.ui.MOUSE_SELECTOR_MODE.ZOOM|tv.ui.MOUSE_SELECTOR_MODE.ROTATE;this.mouseModeSelector_.mode=tv.ui.MOUSE_SELECTOR_MODE.PANSCAN;this.mouseModeSelector_.pos={x:0,y:100};this.appendChild(this.mouseModeSelector_);this.mouseModeSelector_.settingsKey="quadStackView.mouseModeSelector";
this.mouseModeSelector_.setModifierForAlternateMode(tv.ui.MOUSE_SELECTOR_MODE.ROTATE,tv.ui.MODIFIER.SHIFT);this.mouseModeSelector_.setModifierForAlternateMode(tv.ui.MOUSE_SELECTOR_MODE.PANSCAN,tv.ui.MODIFIER.SPACE);this.mouseModeSelector_.setModifierForAlternateMode(tv.ui.MOUSE_SELECTOR_MODE.ZOOM,tv.ui.MODIFIER.CMD_OR_CTRL);this.mouseModeSelector_.addEventListener("updateselection",this.onSelectionUpdate_.bind(this));this.mouseModeSelector_.addEventListener("endselection",this.onSelectionUpdate_.bind(this))},
extractRelativeMousePosition_:function(a){var b=this.canvas_.getBoundingClientRect();return[this.pixelRatio_*(a.clientX-this.canvas_.offsetLeft-b.left),this.pixelRatio_*(a.clientY-this.canvas_.offsetTop-b.top)]},onSelectionUpdate_:function(a){var b=this.extractRelativeMousePosition_(a),c=[];this.stackTransformAndProcessQuads_(1,function(a,d,e,f,g,h){tv.pointInImplicitQuad(b,e,f,g,h)&&c.push(d)},!1);a=new Event("selectionchange",!1,!1);a.quads=c;this.dispatchEvent(a)}};return{QuadStackView:n}});"use strict";
tv.exportTo("tv.ui",function(){var d=tv.ui.define("x-info-bar");d.prototype={__proto__:HTMLDivElement.prototype,decorate:function(){this.messageEl_=tv.ui.createSpan({className:"message"});this.buttonsEl_=tv.ui.createSpan({className:"buttons"});this.appendChild(this.messageEl_);this.appendChild(this.buttonsEl_);this.message="";this.visible=!1},get message(){return this.messageEl_.textContent},set message(a){this.messageEl_.textContent=a},get visible(){return this.classList.contains("info-bar-hidden")},
set visible(a){a?this.classList.remove("info-bar-hidden"):this.classList.add("info-bar-hidden")},removeAllButtons:function(){this.buttonsEl_.textContent=""},addButton:function(a,b){var d=document.createElement("button");d.textContent=a;d.addEventListener("click",b);this.buttonsEl_.appendChild(d);return d}};var a=tv.ui.define("x-info-bar-group");a.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.messages_=[]},clearMessages:function(){this.messages_=[];this.updateContents_()},
addMessage:function(a,b){b=b||[];for(var d=0;d<b.length;d++){if(void 0===b[d].buttonText)throw Error("buttonText must be provided");if(void 0===b[d].onClick)throw Error("onClick must be provided");}this.messages_.push({text:a,buttons:b||[]});this.updateContents_()},updateContents_:function(){this.textContent="";this.messages_.forEach(function(a){var b=new d;b.message=a.text;b.visible=!0;a.buttons.forEach(function(a){b.addButton(a.buttonText,a.onClick)},this);this.appendChild(b)},this)}};return{InfoBar:d,
InfoBarGroup:a}});"use strict";
tv.exportTo("cc",function(){function d(){return[{label:"None",value:"none"},{label:"Coverage Rects",value:"coverage"}]}var a=document.currentScript.ownerDocument,c=cc.bytesToRoundedMegabytes,b=tv.ui.define("layer-tree-quad-stack-view");b.prototype={__proto__:HTMLDivElement.prototype,decorate:function(){this.isRenderPassQuads_=!1;this.pictureAsImageData_={};this.messages_=[];this.controls_=document.createElement("top-controls");this.infoBar_=new tv.ui.InfoBar;this.quadStackView_=new tv.ui.QuadStackView;
this.quadStackView_.addEventListener("selectionchange",this.onQuadStackViewSelectionChange_.bind(this));this.inputEventImageData_=this.extraHighlightsByLayerId_=void 0;var b=tv.ui.MOUSE_SELECTOR_MODE,c=this.quadStackView_.mouseModeSelector;c.settingsKey="cc.layerTreeQuadStackView.mouseModeSelector";c.setKeyCodeForMode(b.SELECTION,90);c.setKeyCodeForMode(b.PANSCAN,88);c.setKeyCodeForMode(b.ZOOM,67);c.setKeyCodeForMode(b.ROTATE,86);b=tv.instantiateTemplate("#layer-tree-quad-stack-view-template",a);
this.appendChild(b);this.appendChild(this.controls_);this.appendChild(this.infoBar_);this.appendChild(this.quadStackView_);this.tileRectsSelector_=tv.ui.createSelector(this,"howToShowTiles","layerView.howToShowTiles","none",d());this.controls_.appendChild(this.tileRectsSelector_);b=tv.ui.createSpan({textContent:"Tile heatmap:"});this.controls_.appendChild(b);b=tv.ui.createSelector(this,"tileHeatmapType","layerView.tileHeatmapType","none",[{label:"None",value:"none"},{label:"Scheduled Priority",value:"scheduledPriority"},
{label:"Distance to Visible",value:"distanceToVisible"},{label:"Is using GPU memory",value:"usingGpuMemory"}]);this.controls_.appendChild(b);b=tv.ui.createCheckBox(this,"showOtherLayers","layerView.showOtherLayers",!0,"Other layers/passes");b.title="When checked, show all layers, selected or not.";this.controls_.appendChild(b);b=tv.ui.createCheckBox(this,"showInvalidations","layerView.showInvalidations",!0,"Invalidations");b.title="When checked, compositing invalidations are highlighted in red";this.controls_.appendChild(b);
b=tv.ui.createCheckBox(this,"showUnrecordedRegion","layerView.showUnrecordedRegion",!0,"Unrecorded area");b.title="When checked, unrecorded areas are highlighted in yellow";this.controls_.appendChild(b);b=tv.ui.createCheckBox(this,"showBottlenecks","layerView.showBottlenecks",!0,"Bottlenecks");b.title="When checked, scroll bottlenecks are highlighted";this.controls_.appendChild(b);b=tv.ui.createCheckBox(this,"showLayoutRects","layerView.showLayoutRects",!1,"Layout rects");b.title="When checked, shows rects for regions where layout happened";
this.controls_.appendChild(b);b=tv.ui.createCheckBox(this,"showContents","layerView.showContents",!0,"Contents");b.title="When checked, show the rendered contents inside the layer outlines";this.controls_.appendChild(b);b=tv.ui.createCheckBox(this,"showAnimationBounds","layerView.showAnimationBounds",!1,"Animation Bounds");b.title="When checked, show a border around a layer showing the extent of its animation.";this.controls_.appendChild(b);b=tv.ui.createCheckBox(this,"showInputEvents","layerView.showInputEvents",
!0,"Input events");b.title="When checked, input events are displayed as circles.";this.controls_.appendChild(b);this.whatRasterizedLink_=document.createElement("a");this.whatRasterizedLink_.classList.add("what-rasterized");this.whatRasterizedLink_.textContent="What rasterized?";this.whatRasterizedLink_.addEventListener("click",this.onWhatRasterizedLinkClicked_.bind(this));this.appendChild(this.whatRasterizedLink_)},get layerTreeImpl(){return this.layerTreeImpl_},set isRenderPassQuads(a){this.isRenderPassQuads_=
a},set layerTreeImpl(a){this.layerTreeImpl_!==a&&(this.layerTreeImpl_=a,this.selection=void 0)},get extraHighlightsByLayerId(){return this.extraHighlightsByLayerId_},set extraHighlightsByLayerId(a){this.extraHighlightsByLayerId_=a;this.scheduleUpdateContents_()},get showOtherLayers(){return this.showOtherLayers_},set showOtherLayers(a){this.showOtherLayers_=a;this.updateContents_()},get showAnimationBounds(){return this.showAnimationBounds_},set showAnimationBounds(a){this.showAnimationBounds_=a;
this.updateContents_()},get showInputEvents(){return this.showInputEvents_},set showInputEvents(a){this.showInputEvents_=a;this.updateContents_()},get showContents(){return this.showContents_},set showContents(a){this.showContents_=a;this.updateContents_()},get showInvalidations(){return this.showInvalidations_},set showInvalidations(a){this.showInvalidations_=a;this.updateContents_()},get showUnrecordedRegion(){return this.showUnrecordedRegion_},set showUnrecordedRegion(a){this.showUnrecordedRegion_=
a;this.updateContents_()},get showBottlenecks(){return this.showBottlenecks_},set showBottlenecks(a){this.showBottlenecks_=a;this.updateContents_()},get showLayoutRects(){return this.showLayoutRects_},set showLayoutRects(a){this.showLayoutRects_=a;this.updateContents_()},get howToShowTiles(){return this.howToShowTiles_},set howToShowTiles(a){console.assert("none"===a||"coverage"===a||!isNaN(parseFloat(a)));this.howToShowTiles_=a;this.updateContents_()},get tileHeatmapType(){return this.tileHeatmapType_},
set tileHeatmapType(a){this.tileHeatmapType_=a;this.updateContents_()},get selection(){return this.selection_},set selection(a){this.selection!==a&&(this.selection_=a,tv.dispatchSimpleEvent(this,"selection-change"),this.updateContents_())},regenerateContent:function(){this.updateTilesSelector_();this.updateContents_()},loadDataForImageElement_:function(a,b){var c=window.getComputedStyle(a).content;a.src=c.replace(/url\((.*)\)/,"$1");a.onload=function(){var c=document.createElement("canvas"),d=c.getContext("2d");
c.width=a.width;c.height=a.height;d.drawImage(a,0,0);c=d.getImageData(0,0,c.width,c.height);b(c)}},onQuadStackViewSelectionChange_:function(a){a=a.quads.filter(function(a){return void 0!==a.selectionToSetIfClicked});0==a.length?this.selection=void 0:(a.sort(function(a,b){var c=a.stackingGroupId-b.stackingGroupId;return 0!=c?c:a.selectionToSetIfClicked.specicifity-b.selectionToSetIfClicked.specicifity}),this.selection=a[a.length-1].selectionToSetIfClicked)},scheduleUpdateContents_:function(){this.updateContentsPending_||
(this.updateContentsPending_=!0,tv.requestAnimationFrameInThisFrameIfPossible(this.updateContents_,this))},updateContents_:function(){if(this.layerTreeImpl_){var a=this.computePictureLoadingStatus_();if(a.picturesComplete){var b=this.layerTreeImpl_.layerTreeHostImpl,d=tv.Rect.fromXYWH(0,0,b.deviceViewportSize.width,b.deviceViewportSize.height);this.quadStackView_.deviceRect=d;this.quadStackView_.quads=this.isRenderPassQuads_?this.generateRenderPassQuads():this.generateLayerQuads();this.updateWhatRasterizedLinkState_();
d="";if(b.tilesHaveGpuMemoryUsageInfo){var g=this.layerTreeImpl_.gpuMemoryUsageInBytes,k=b.gpuMemoryUsageInBytes-g,d=d+(c(g)+"MB on this tree");k&&(d+=", "+c(k)+"MB on the other tree")}else this.layerTreeImpl_&&(g=this.layerTreeImpl_.gpuMemoryUsageInBytes,d+=c(g)+"MB on this tree",this.layerTreeImpl_.otherTree&&(d+=", ???MB on other tree. "));b.args.tileManagerBasicState?(g=b.args.tileManagerBasicState.globalState,d+=" (softMax="+c(g.softMemoryLimitInBytes)+"MB, hardMax="+c(g.hardMemoryLimitInBytes)+
"MB, "+g.memoryLimitPolicy+")"):(g=b.snapshottedOnThread.sliceGroup.slices.filter(function(a){return"cc"!==a.category||"DidManage"!==a.title||a.end>b.ts?!1:!0}),g.sort(function(a,b){return a.end-b.end}),0<g.length&&(g=g[g.length-1].args.state.global_state,d+=" (softMax="+c(g.soft_memory_limit_in_bytes)+"MB, hardMax="+c(g.hard_memory_limit_in_bytes)+"MB, "+g.memory_limit_policy+")"));this.layerTreeImpl_.otherTree&&(d+=" (Another tree exists)");this.quadStackView_.headerText=d.length?d:void 0;this.updateInfoBar_(a.messages)}}else this.quadStackView_.headerText=
"No tree",this.quadStackView_.quads=[]},updateTilesSelector_:function(){var a=d();if(this.layerTreeImpl_){var b=this.layerTreeImpl_.layerTreeHostImpl.getContentsScaleNames(),c;for(c in b)a.push({label:"Scale "+c+" ("+b[c]+")",value:c})}a=tv.ui.createSelector(this,"howToShowTiles","layerView.howToShowTiles","none",a);this.controls_.replaceChild(a,this.tileRectsSelector_);this.tileRectsSelector_=a},computePictureLoadingStatus_:function(){var a=this.layers,b={messages:[],picturesComplete:!0};if(this.showContents){for(var c=
!1,d=void 0,k=!1,l=!1,m=0;m<a.length;m++)for(var n=a[m],p=0;p<n.pictures.length;++p){var q=n.pictures[p];if(q.idRef)l=!0;else if(q.layerRect){var r=this.pictureAsImageData_[q.guid];if(r)if(r.isPending())c=!0;else{if(r.error){d||(d=r.error);break}}else c=!0,this.pictureAsImageData_[q.guid]=cc.PictureAsImageData.Pending(this),q.rasterize({stopIndex:void 0},function(a){this.pictureAsImageData_[a.picture.guid]=a;this.scheduleUpdateContents_()}.bind(this))}else k=!0}c?b.picturesComplete=!1:(l&&b.messages.push({header:"Missing picture",
details:"Your trace didnt have pictures for every layer. Old chrome versions had this problem"}),k&&b.messages.push({header:"Missing layer rect",details:"Your trace may be corrupt or from a very old Chrome revision."}),d&&b.messages.push({header:"Cannot rasterize",details:d}))}this.showInputEvents&&(this.layerTreeImpl.tracedInputLatencies&&void 0===this.inputEventImageData_)&&(a=this.querySelector("#input-event"),a.src||this.loadDataForImageElement_(a,function(a){this.inputEventImageData_=a;this.updateContentsPending_=
!1;this.scheduleUpdateContents_()}.bind(this)),b.picturesComplete=!1);return b},get selectedRenderPass(){if(this.selection)return this.selection.renderPass_},get selectedLayer(){if(this.selection)return this.layerTreeImpl_.findLayerWithId(this.selection.associatedLayerId)},get renderPasses(){var a=this.layerTreeImpl.layerTreeHostImpl.args.frame.renderPasses;if(!this.showOtherLayers){var b=this.selectedRenderPass;b&&(a=[b])}return a},get layers(){var a=this.layerTreeImpl.renderSurfaceLayerList;if(!this.showOtherLayers){var b=
this.selectedLayer;b&&(a=[b])}return a},appendImageQuads_:function(a,b,c){for(var d=0;d<b.pictures.length;++d){var k=b.pictures[d];if(k.layerRect){var l=k.layerRect.asUVRectInside(b.bounds),l=c.projectUnitRect(l),k=this.pictureAsImageData_[k.guid];this.showContents&&k&&k.imageData?(l.imageData=k.imageData,l.borderColor="rgba(0,0,0,0)"):l.imageData=void 0;l.stackingGroupId=c.stackingGroupId;a.push(l)}}},appendAnimationQuads_:function(a,b,c){if(b.animationBoundsRect){var d=b.animationBoundsRect,k=tv.Quad.fromRect(d);
k.backgroundColor="rgba(164,191,48,0.5)";k.borderColor="rgba(205,255,0,0.75)";k.borderWidth=3;k.stackingGroupId=c.stackingGroupId;k.selectionToSetIfClicked=new cc.AnimationRectSelection(b,d);a.push(k)}},appendInvalidationQuads_:function(a,b,c){if(!b.layerTreeImpl.hasSourceFrameBeenDrawnBefore){for(var d=0;d<b.annotatedInvalidation.rects.length;d++){var k=b.annotatedInvalidation.rects[d],l=k.asUVRectInside(b.bounds),l=c.projectUnitRect(l);l.backgroundColor="rgba(0, 255, 0, 0.1)";"renderer insertion"===
k.reason&&(l.backgroundColor="rgba(0, 255, 128, 0.1)");l.borderColor="rgba(0, 255, 0, 1)";l.stackingGroupId=c.stackingGroupId;l.selectionToSetIfClicked=new cc.LayerRectSelection(b,"Invalidation rect ("+k.reason+")",k,k);a.push(l)}if(0===b.annotatedInvalidation.rects.length)for(d=0;d<b.invalidation.rects.length;d++)k=b.invalidation.rects[d],l=k.asUVRectInside(b.bounds),l=c.projectUnitRect(l),l.backgroundColor="rgba(0, 255, 0, 0.1)",l.borderColor="rgba(0, 255, 0, 1)",l.stackingGroupId=c.stackingGroupId,
l.selectionToSetIfClicked=new cc.LayerRectSelection(b,"Invalidation rect",k,k),a.push(l)}},appendUnrecordedRegionQuads_:function(a,b,c){for(var d=0;d<b.unrecordedRegion.rects.length;d++){var k=b.unrecordedRegion.rects[d],l=k.asUVRectInside(b.bounds),l=c.projectUnitRect(l);l.backgroundColor="rgba(240, 230, 140, 0.3)";l.borderColor="rgba(240, 230, 140, 1)";l.stackingGroupId=c.stackingGroupId;l.selectionToSetIfClicked=new cc.LayerRectSelection(b,"Unrecorded area",k,k);a.push(l)}},appendBottleneckQuads_:function(a,
b,c,d){function k(k,m,n){var p=n.clone();p.a=0.4*(n.a||1);if(k&&k.rects)for(var q=0;q<k.rects.length;q++){var r=k.rects[q],t=r.asUVRectInside(b.bounds),t=c.projectUnitRect(t);t.backgroundColor=p.toString();t.borderColor=n.toString();t.borderWidth=4;t.stackingGroupId=d;t.selectionToSetIfClicked=new cc.LayerRectSelection(b,m,r,r);a.push(t)}}k(b.touchEventHandlerRegion,"Touch listener",tv.Color.fromString("rgb(228, 226, 27)"));k(b.wheelEventHandlerRegion,"Wheel listener",tv.Color.fromString("rgb(176, 205, 29)"));
k(b.nonFastScrollableRegion,"Repaints on scroll",tv.Color.fromString("rgb(213, 134, 32)"))},appendTileCoverageRectQuads_:function(a,b,c,d){if(b.tileCoverageRects){for(var k=[],l=0;l<b.tileCoverageRects.length;++l){var m=b.tileCoverageRects[l].tile;void 0!==m&&k.push(m)}l=this.getMinMaxForHeatmap_(this.layerTreeImpl_.layerTreeHostImpl.activeTiles,d);d=this.computeHeatmapColors_(k,l,d);for(l=k=0;l<b.tileCoverageRects.length;++l){var n=b.tileCoverageRects[l].geometryRect,n=n.scale(1/b.geometryContentsScale),
m=b.tileCoverageRects[l].tile,p=n.asUVRectInside(b.bounds),p=c.projectUnitRect(p);p.backgroundColor="rgba(0, 0, 0, 0)";p.stackingGroupId=c.stackingGroupId;var q=cc.tileTypes.missing;m&&(q=m.getTypeForLayer(b),p.backgroundColor=d[k].color,++k);p.borderColor=cc.tileBorder[q].color;p.borderWidth=cc.tileBorder[q].width;p.selectionToSetIfClicked=new cc.LayerRectSelection(b,m?"coverageRect":"checkerboard coverageRect",n,b.tileCoverageRects[l]);a.push(p)}}},appendLayoutRectQuads_:function(a,b,c){if(b.layoutRects)for(var d=
0;d<b.layoutRects.length;++d){var k=b.layoutRects[d].geometryRect,k=k.scale(1/b.geometryContentsScale),l=k.asUVRectInside(b.bounds),l=c.projectUnitRect(l);l.backgroundColor="rgba(0, 0, 0, 0)";l.stackingGroupId=c.stackingGroupId;l.borderColor="rgba(0, 0, 200, 0.7)";l.borderWidth=2;l.selectionToSetIfClicked=new cc.LayerRectSelection(b,"Layout rect",k);a.push(l)}},getValueForHeatmap_:function(a,b){if("scheduledPriority"==b)return 0==a.scheduledPriority?void 0:a.scheduledPriority;if("distanceToVisible"==
b)return Math.min(3E3,a.distanceToVisible);if("usingGpuMemory"==b)return a.isSolidColor?0.5:a.isUsingGpuMemory?0:1},getMinMaxForHeatmap_:function(a,b){var c=new tv.Range;if("usingGpuMemory"==b)return c.addValue(0),c.addValue(1),c;for(var d=0;d<a.length;++d){var k=this.getValueForHeatmap_(a[d],b);void 0!==k&&c.addValue(k)}0===c.range&&c.addValue(1);return c},computeHeatmapColors_:function(a,b,c){var d=b.min;b=b.max;for(var k=[],l=0;l<a.length;++l){var m=this.getValueForHeatmap_(a[l],c),n=m;void 0!==
m?(m=120*(1-(m-d)/(b-d)),0>m&&(m=0),m="hsla("+m+", 100%, 50%, 0.5)"):m=void 0;k.push({value:n,color:m})}return k},appendTilesWithScaleQuads_:function(a,b,c,d,k){for(var l=this.layerTreeImpl_.layerTreeHostImpl,m=[],n=0;n<l.activeTiles.length;++n){var p=l.activeTiles[n];1E-6<Math.abs(p.contentsScale-d)||b.layerId==p.layerId&&m.push(p)}n=this.getMinMaxForHeatmap_(l.activeTiles,k);d=this.computeHeatmapColors_(m,n,k);for(n=0;n<m.length;++n)if(p=m[n],l=p.layerRect){l=l.asUVRectInside(b.bounds);l=c.projectUnitRect(l);
l.backgroundColor="rgba(0, 0, 0, 0)";l.stackingGroupId=c.stackingGroupId;var q=p.getTypeForLayer(b);l.borderColor=cc.tileBorder[q].color;l.borderWidth=cc.tileBorder[q].width;l.backgroundColor=d[n].color;q={tileType:q};"none"!==k&&(q[k]=d[n].value);l.selectionToSetIfClicked=new cc.TileSelection(p,q);a.push(l)}},appendHighlightQuadsForLayer_:function(a,b,c,d){d.forEach(function(d){var g=d.rect.asUVRectInside(b.bounds),g=c.projectUnitRect(g);d=tv.ui.getStringColorId(d.colorKey);d+=tv.ui.getColorPaletteHighlightIdBoost();
d=tv.Color.fromString(tv.ui.getColorPalette()[d]);g=g.clone();g.backgroundColor=d.withAlpha(0.5).toString();g.borderColor=d.withAlpha(1).darken().toString();g.stackingGroupId=c.stackingGroupId;a.push(g)},this)},generateRenderPassQuads:function(){if(!this.layerTreeImpl.layerTreeHostImpl.args.frame)return[];var a=this.renderPasses;if(!a)return[];for(var b=[],c=0;c<a.length;++c)for(var d=a[c].quadList,k=0;k<d.length;++k){var l=d[k].rectAsTargetSpaceQuad.clone();l.borderColor="rgb(170, 204, 238)";l.borderWidth=
2;l.stackingGroupId=c;b.push(l)}return b},generateLayerQuads:function(){this.updateContentsPending_=!1;var a=this.layers,b=[],c=0,d={},k;k=this.selection?this.selection.highlightsByLayerId:{};for(var l=this.extraHighlightsByLayerId||{},m=1;m<=a.length;m++){var n=a[a.length-m];d[n.layerId]=!0;if("cc::NinePatchLayerImpl"!=n.objectInstance.name){var p=n.layerQuad.clone();n.usingGpuRasterization?(p.borderWidth=2*(window.devicePixelRatio||1),p.borderColor="rgba(154,205,50,0.75)"):p.borderColor="rgba(0,0,0,0.75)";
p.stackingGroupId=c++;p.selectionToSetIfClicked=new cc.LayerSelection(n);p.layer=n;this.showOtherLayers&&this.selectedLayer==n&&(p.upperBorderColor="rgb(156,189,45)");this.showAnimationBounds&&this.appendAnimationQuads_(b,n,p);this.appendImageQuads_(b,n,p);b.push(p);this.showInvalidations&&this.appendInvalidationQuads_(b,n,p);this.showUnrecordedRegion&&this.appendUnrecordedRegionQuads_(b,n,p);this.showBottlenecks&&this.appendBottleneckQuads_(b,n,p,p.stackingGroupId);this.showLayoutRects&&this.appendLayoutRectQuads_(b,
n,p);"coverage"===this.howToShowTiles?this.appendTileCoverageRectQuads_(b,n,p,this.tileHeatmapType):"none"!==this.howToShowTiles&&this.appendTilesWithScaleQuads_(b,n,p,this.howToShowTiles,this.tileHeatmapType);var q;(q=l[n.layerId])&&this.appendHighlightQuadsForLayer_(b,n,p,q);(q=k[n.layerId])&&this.appendHighlightQuadsForLayer_(b,n,p,q)}}this.layerTreeImpl.iterLayers(function(a,f,k,l){if((this.showOtherLayers||this.selectedLayer==a)&&!d[a.layerId])f=a.layerQuad,k=c++,this.showBottlenecks&&this.appendBottleneckQuads_(b,
a,f,k)},this);a=this.layerTreeImpl.tracedInputLatencies;if(this.showInputEvents&&a)for(m=0;m<a.length;m++){k=a[m].args.data.coordinates;for(l=0;l<k.length;l++)n=tv.Quad.fromXYWH(k[l].x-25,k[l].y-25,50,50),n.borderColor="rgba(0, 0, 0, 0)",n.imageData=this.inputEventImageData_,b.push(n)}return b},updateInfoBar_:function(a){a.length?(this.infoBar_.removeAllButtons(),this.infoBar_.message="Some problems were encountered...",this.infoBar_.addButton("More info...",function(b){var c=new tv.ui.Overlay;c.textContent=
"";a.forEach(function(a){var b=document.createElement("h3");b.textContent=a.header;var d=document.createElement("div");d.textContent=a.details;c.appendChild(b);c.appendChild(d)});c.visible=!0;b.stopPropagation();return!1}),this.infoBar_.visible=!0):(this.infoBar_.removeAllButtons(),this.infoBar_.message="",this.infoBar_.visible=!1)},getWhatRasterized_:function(){var a=this.layerTreeImpl_.layerTreeHostImpl,b=[];a.objectInstance.parent.iterateAllEvents(function(c){if(c instanceof tracing.trace_model.Slice){var d=
cc.getTileFromRasterTaskSlice(c);if(void 0===d)return!1;d.containingSnapshot==a&&b.push(c)}},this);return b},updateWhatRasterizedLinkState_:function(){var a=this.getWhatRasterized_();a.length?(this.whatRasterizedLink_.textContent=a.length+" raster tasks",this.whatRasterizedLink_.style.display=""):(this.whatRasterizedLink_.textContent="",this.whatRasterizedLink_.style.display="none")},onWhatRasterizedLinkClicked_:function(){var a=this.getWhatRasterized_(),b=new tracing.RequestSelectionChangeEvent;
b.selection=new tracing.Selection(a);this.dispatchEvent(b)}};return{LayerTreeQuadStackView:b}});"use strict";
tv.exportTo("cc",function(){var d=tv.ui.define("layer-view");d.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.layerTreeQuadStackView_=new cc.LayerTreeQuadStackView;this.dragBar_=new tv.ui.DragHandle;this.analysisEl_=document.createElement("layer-view-analysis");this.analysisEl_.addEventListener("requestSelectionChange",this.onRequestSelectionChangeFromAnalysisEl_.bind(this));this.dragBar_.target=this.analysisEl_;this.appendChild(this.layerTreeQuadStackView_);this.appendChild(this.dragBar_);
this.appendChild(this.analysisEl_);this.layerTreeQuadStackView_.addEventListener("selection-change",function(){this.layerTreeQuadStackViewSelectionChanged_()}.bind(this));this.layerTreeQuadStackViewSelectionChanged_()},get layerTreeImpl(){return this.layerTreeQuadStackView_.layerTreeImpl},set layerTreeImpl(a){return this.layerTreeQuadStackView_.layerTreeImpl=a},set isRenderPassQuads(a){return this.layerTreeQuadStackView_.isRenderPassQuads=a},get selection(){return this.layerTreeQuadStackView_.selection},
set selection(a){this.layerTreeQuadStackView_.selection=a},regenerateContent:function(){this.layerTreeQuadStackView_.regenerateContent()},layerTreeQuadStackViewSelectionChanged_:function(){var a=this.layerTreeQuadStackView_.selection;if(a){this.dragBar_.style.display="";this.analysisEl_.style.display="";this.analysisEl_.textContent="";var c=a.layer;c&&(c.args&&c.args.pictures)&&this.analysisEl_.appendChild(this.createPictureBtn_(c.args.pictures));a=a.createAnalysis();this.analysisEl_.appendChild(a)}else this.dragBar_.style.display=
"none",this.analysisEl_.style.display="none",(a=this.analysisEl_.firstChild)&&this.analysisEl_.removeChild(a),this.layerTreeQuadStackView_.style.height=window.getComputedStyle(this).height;tv.dispatchSimpleEvent(this,"selection-change")},createPictureBtn_:function(a){a instanceof Array||(a=[a]);var c=new tracing.analysis.AnalysisLink;c.innerText="View in Picture Debugger";c.selectionGenerator=function(){var b=new cc.LayeredPicture(a),c=new cc.PictureSnapshot(b);c.picture=b;b=new tracing.Selection;
b.push(c);return b};return c},onRequestSelectionChangeFromAnalysisEl_:function(a){a.selection instanceof cc.Selection&&(a.stopPropagation(),this.selection=a.selection)},get extraHighlightsByLayerId(){return this.layerTreeQuadStackView_.extraHighlightsByLayerId},set extraHighlightsByLayerId(a){this.layerTreeQuadStackView_.extraHighlightsByLayerId=a}};return{LayerView:d}});"use strict";
tv.exportTo("cc",function(){var d=tv.ui.define("layer-tree-host-impl-snapshot-view",tracing.analysis.ObjectSnapshotView);d.prototype={__proto__:tracing.analysis.ObjectSnapshotView.prototype,decorate:function(){this.classList.add("lthi-s-view");this.selection_=void 0;this.layerPicker_=new cc.LayerPicker;this.layerPicker_.addEventListener("selection-change",this.onLayerPickerSelectionChanged_.bind(this));this.layerView_=new cc.LayerView;this.layerView_.addEventListener("selection-change",this.onLayerViewSelectionChanged_.bind(this));
this.dragHandle_=new tv.ui.DragHandle;this.dragHandle_.horizontal=!1;this.dragHandle_.target=this.layerView_;this.appendChild(this.layerPicker_);this.appendChild(this.dragHandle_);this.appendChild(this.layerView_);this.onLayerViewSelectionChanged_();this.onLayerPickerSelectionChanged_()},get objectSnapshot(){return this.objectSnapshot_},set objectSnapshot(a){this.objectSnapshot_=a;a=this.objectSnapshot;var c;a&&(c=a.getTree(this.layerPicker_.whichTree));this.layerPicker_.lthiSnapshot=a;this.layerView_.layerTreeImpl=
c;this.layerView_.regenerateContent();this.selection_&&(this.selection=this.selection_.findEquivalent(a))},get selection(){return this.selection_},set selection(a){this.selection_!=a&&(this.selection_=a,this.layerPicker_.selection=a,this.layerView_.selection=a,tv.dispatchSimpleEvent(this,"cc-selection-change"))},onLayerPickerSelectionChanged_:function(){this.selection_=this.layerPicker_.selection;this.layerView_.selection=this.selection;this.layerView_.layerTreeImpl=this.layerPicker_.layerTreeImpl;
this.layerView_.isRenderPassQuads=this.layerPicker_.isRenderPassQuads;this.layerView_.regenerateContent();tv.dispatchSimpleEvent(this,"cc-selection-change")},onLayerViewSelectionChanged_:function(){this.selection_=this.layerView_.selection;this.layerPicker_.selection=this.selection;tv.dispatchSimpleEvent(this,"cc-selection-change")},get extraHighlightsByLayerId(){return this.layerView_.extraHighlightsByLayerId},set extraHighlightsByLayerId(a){this.layerView_.extraHighlightsByLayerId=a}};tracing.analysis.ObjectSnapshotView.register("cc::LayerTreeHostImpl",
d);return{LayerTreeHostImplSnapshotView:d}});"use strict";
tv.exportTo("cc",function(){var d=tv.ui.define("picture-ops-chart-summary-view");d.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.picture_=void 0;this.pictureDataProcessed_=!1;this.chartScale_=window.devicePixelRatio;this.chart_=document.createElement("canvas");this.chartCtx_=this.chart_.getContext("2d");this.appendChild(this.chart_);this.opsTimingData_=[];this.chartHeight_=this.chartWidth_=0;this.requiresRedraw_=!0;this.currentBarMouseOverTarget_=null;this.chart_.addEventListener("mousemove",
this.onMouseMove_.bind(this))},get requiresRedraw(){return this.requiresRedraw_},set requiresRedraw(a){this.requiresRedraw_=a},get picture(){return this.picture_},set picture(a){this.picture_=a;this.pictureDataProcessed_=!1;this.classList.contains("hidden")||(this.processPictureData_(),this.requiresRedraw=!0,this.updateChartContents())},hide:function(){this.classList.add("hidden")},show:function(){this.classList.remove("hidden");this.pictureDataProcessed_||(this.processPictureData_(),this.requiresRedraw=
!0,this.updateChartContents())},onMouseMove_:function(a){var c=this.currentBarMouseOverTarget_;this.currentBarMouseOverTarget_=null;var b=a.offsetX;a=a.offsetY;var d=this.chartWidth_-40,e=this.chartHeight_-45,h=d-65;65<b&&(b<d&&25<a&&a<e)&&(this.currentBarMouseOverTarget_=Math.floor((b-65)/h*this.opsTimingData_.length),this.currentBarMouseOverTarget_=tv.clamp(this.currentBarMouseOverTarget_,0,this.opsTimingData_.length-1));this.currentBarMouseOverTarget_!==c&&this.drawChartContents_()},updateChartContents:function(){this.requiresRedraw&&
this.updateChartDimensions_();this.drawChartContents_()},updateChartDimensions_:function(){this.chartWidth_=this.offsetWidth;this.chartHeight_=this.offsetHeight;this.chart_.width=this.chartWidth_*this.chartScale_;this.chart_.height=this.chartHeight_*this.chartScale_;this.chart_.style.width=this.chartWidth_+"px";this.chart_.style.height=this.chartHeight_+"px";this.chartCtx_.scale(this.chartScale_,this.chartScale_)},processPictureData_:function(){this.resetOpsTimingData_();this.pictureDataProcessed_=
!0;if(this.picture_){var a=this.picture_.getOps();a&&(a=this.picture_.tagOpsWithTimings(a),void 0!==a[0].cmd_time&&this.collapseOpsToTimingBuckets_(a))}},drawChartContents_:function(){this.clearChartContents_();0===this.opsTimingData_.length?this.showNoTimingDataMessage_():(this.drawChartAxes_(),this.drawBars_(),this.drawLineAtBottomOfChart_(),null!==this.currentBarMouseOverTarget_&&this.drawTooltip_())},drawLineAtBottomOfChart_:function(){this.chartCtx_.strokeStyle="#AAA";this.chartCtx_.moveTo(0,
this.chartHeight_-0.5);this.chartCtx_.lineTo(this.chartWidth_,this.chartHeight_-0.5);this.chartCtx_.stroke()},drawTooltip_:function(){var a=this.opsTimingData_[this.currentBarMouseOverTarget_],c=a.cmd_string,a=a.cmd_time.toFixed(4),b=(this.chartWidth_-40-65)/this.opsTimingData_.length,d=Math.round(0.5*(110-b)),b=65+this.currentBarMouseOverTarget_*b-d,d=Math.round(0.5*(this.chartHeight_-40));this.chartCtx_.save();this.chartCtx_.shadowOffsetX=0;this.chartCtx_.shadowOffsetY=5;this.chartCtx_.shadowBlur=
4;this.chartCtx_.shadowColor="rgba(0,0,0,0.4)";this.chartCtx_.strokeStyle="#888";this.chartCtx_.fillStyle="#EEE";this.chartCtx_.fillRect(b,d,110,40);this.chartCtx_.shadowColor="transparent";this.chartCtx_.translate(0.5,0.5);this.chartCtx_.strokeRect(b,d,110,40);this.chartCtx_.restore();this.chartCtx_.fillStyle="#222";this.chartCtx_.textBaseline="top";this.chartCtx_.font="800 12px Arial";this.chartCtx_.fillText(c,b+8,d+8);this.chartCtx_.fillStyle="#555";this.chartCtx_.textBaseline="top";this.chartCtx_.font=
"400 italic 10px Arial";this.chartCtx_.fillText("Total: "+a+"ms",b+8,d+22)},drawBars_:function(){for(var a=this.opsTimingData_.length,c=this.opsTimingData_[0].cmd_time,b=this.chartHeight_-25-45,d=Math.floor((this.chartWidth_-65-40)/a),e,h,g,k=0;k<a;k++)e=this.opsTimingData_[k],h=e.cmd_time/c,h=Math.round(Math.max(1,h*b)),e=e.cmd_string,g=65+k*d,this.chartCtx_.fillStyle=this.getOpColor_(e),this.chartCtx_.fillRect(g+5,25+b-h,d-10,h)},getOpColor_:function(a){return"hsl("+a.split("").reduce(this.reduceNameToHue,
0)%360+", 30%, 50%)"},reduceNameToHue:function(a,c,b,d){return Math.round(a+5.7*c.charCodeAt(0))},drawChartAxes_:function(){var a=this.opsTimingData_.length,c=this.opsTimingData_[0].cmd_time,b=this.chartWidth_-60-35,d=this.chartHeight_-25-45,e=Math.floor((this.chartWidth_-65-40)/a),h=d/4,g=0,k=(c-this.opsTimingData_[a-1].cmd_time)/4,l=0;this.chartCtx_.fillStyle="#333";this.chartCtx_.strokeStyle="#777";this.chartCtx_.save();this.chartCtx_.translate(0.5,0.5);this.chartCtx_.save();this.chartCtx_.translate(60,
25);this.chartCtx_.moveTo(0,0);this.chartCtx_.lineTo(0,d);this.chartCtx_.lineTo(b,d);this.chartCtx_.font="10px Arial";this.chartCtx_.textAlign="right";this.chartCtx_.textBaseline="middle";for(b=0;5>b;b++)g=Math.round(b*h),l=(c-b*k).toFixed(4),this.chartCtx_.moveTo(0,g),this.chartCtx_.lineTo(-10,g),this.chartCtx_.fillText(l,-15,g);this.chartCtx_.stroke();this.chartCtx_.restore();this.chartCtx_.save();this.chartCtx_.translate(65+Math.round(0.5*e),25+d+5);this.chartCtx_.font="10px Arial";this.chartCtx_.textAlign=
"center";this.chartCtx_.textBaseline="top";for(h=0;h<a;h++)c=Math.round(h*e),d=15*(h%2),this.chartCtx_.save(),this.chartCtx_.moveTo(c,-5),this.chartCtx_.lineTo(c,d),this.chartCtx_.stroke(),this.chartCtx_.restore(),this.chartCtx_.fillText(this.opsTimingData_[h].cmd_string,c,d);this.chartCtx_.restore();this.chartCtx_.restore()},clearChartContents_:function(){this.chartCtx_.clearRect(0,0,this.chartWidth_,this.chartHeight_)},showNoTimingDataMessage_:function(){this.chartCtx_.font="800 italic 14px Arial";
this.chartCtx_.fillStyle="#333";this.chartCtx_.textAlign="center";this.chartCtx_.textBaseline="middle";this.chartCtx_.fillText("No timing data available.",0.5*this.chartWidth_,0.5*this.chartHeight_)},collapseOpsToTimingBuckets_:function(a){for(var c={},b=this.opsTimingData_,d,e,h=0;h<a.length;h++)d=a[h],void 0!==d.cmd_time&&(e=c[d.cmd_string]||null,null===e&&(b.push({cmd_time:0,cmd_string:d.cmd_string}),e=b.length-1,c[d.cmd_string]=e),b[e].cmd_time+=d.cmd_time);b.sort(this.sortTimingBucketsByOpTimeDescending_);
this.collapseTimingBucketsToOther_(4)},collapseTimingBucketsToOther_:function(a){var c=this.opsTimingData_;a=c.splice(a,c.length-a);var b=null;if(a.length){c.push({cmd_time:0,cmd_string:"Other"});b=c[c.length-1];for(c=0;c<a.length;c++)b.cmd_time+=a[c].cmd_time}},sortTimingBucketsByOpTimeDescending_:function(a,c){return c.cmd_time-a.cmd_time},resetOpsTimingData_:function(){this.opsTimingData_.length=0}};return{PictureOpsChartSummaryView:d}});"use strict";
tv.exportTo("cc",function(){var d=tv.ui.define("picture-ops-chart-view");d.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.opCosts_=this.pictureOps_=this.picture_=void 0;this.chartScale_=window.devicePixelRatio;this.chart_=document.createElement("canvas");this.chartCtx_=this.chart_.getContext("2d");this.appendChild(this.chart_);this.selectedOpIndex_=void 0;this.chartHeight_=this.chartWidth_=0;this.dimensionsHaveChanged_=!0;this.currentBarMouseOverTarget_=void 0;this.totalOpCost_=
this.ninetyFifthPercentileCost_=0;this.chart_.addEventListener("click",this.onClick_.bind(this));this.chart_.addEventListener("mousemove",this.onMouseMove_.bind(this));this.usePercentileScale_=!1;this.usePercentileScaleCheckbox_=tv.ui.createCheckBox(this,"usePercentileScale","PictureOpsChartView.usePercentileScale",!1,"Limit to 95%-ile");this.usePercentileScaleCheckbox_.classList.add("use-percentile-scale");this.appendChild(this.usePercentileScaleCheckbox_)},get dimensionsHaveChanged(){return this.dimensionsHaveChanged_},
set dimensionsHaveChanged(a){this.dimensionsHaveChanged_=a},get usePercentileScale(){return this.usePercentileScale_},set usePercentileScale(a){this.usePercentileScale_=a;this.drawChartContents_()},get numOps(){return this.opCosts_.length},get selectedOpIndex(){return this.selectedOpIndex_},set selectedOpIndex(a){if(0>a)throw Error("Invalid index");if(a>=this.numOps)throw Error("Invalid index");this.selectedOpIndex_=a},get picture(){return this.picture_},set picture(a){this.picture_=a;this.pictureOps_=
a.tagOpsWithTimings(a.getOps());this.currentBarMouseOverTarget_=void 0;this.processPictureData_();this.dimensionsHaveChanged=!0},processPictureData_:function(){if(void 0!==this.pictureOps_){var a=0;this.opCosts_=this.pictureOps_.map(function(c){a+=c.cmd_time;return c.cmd_time});this.opCosts_.sort();this.ninetyFifthPercentileCost_=this.opCosts_[Math.floor(0.95*this.opCosts_.length)];this.maxCost_=this.opCosts_[this.opCosts_.length-1];this.totalOpCost_=a}},extractBarIndex_:function(a){var c=void 0;
if(void 0===this.pictureOps_||0===this.pictureOps_.length)return c;var b=a.offsetX;a=a.offsetY;var d=6*this.pictureOps_.length,e=this.chartHeight_-35;if(65>b||b>65+d||0>a||a>e)return c;c=Math.floor((b-65)/d*this.pictureOps_.length);return c=tv.clamp(c,0,this.pictureOps_.length-1)},onClick_:function(a){var c=this.extractBarIndex_(a);void 0!==c&&(this.selectedOpIndex=c===this.selectedOpIndex?void 0:c,a.preventDefault(),tv.dispatchSimpleEvent(this,"selection-changed",!1))},onMouseMove_:function(a){var c=
this.currentBarMouseOverTarget_;this.currentBarMouseOverTarget_=this.extractBarIndex_(a);this.currentBarMouseOverTarget_!==c&&this.drawChartContents_()},scrollSelectedItemIntoViewIfNecessary:function(){if(void 0!==this.selectedOpIndex){var a=this.offsetWidth,c=this.scrollLeft,b=65+6*this.selectedOpIndex;b>c&&b<c+a||(this.scrollLeft=b-0.5*a)}},updateChartContents:function(){this.dimensionsHaveChanged&&this.updateChartDimensions_();this.drawChartContents_()},updateChartDimensions_:function(){if(this.pictureOps_){var a=
95+6*this.pictureOps_.length;a<this.offsetWidth&&(a=this.offsetWidth);this.chartWidth_=a;this.chartHeight_=this.getBoundingClientRect().height;this.chart_.width=this.chartWidth_*this.chartScale_;this.chart_.height=this.chartHeight_*this.chartScale_;this.chart_.style.width=this.chartWidth_+"px";this.chart_.style.height=this.chartHeight_+"px";this.chartCtx_.scale(this.chartScale_,this.chartScale_);this.dimensionsHaveChanged=!1}},drawChartContents_:function(){this.clearChartContents_();void 0===this.pictureOps_||
0===this.pictureOps_.length||void 0===this.pictureOps_[0].cmd_time?this.showNoTimingDataMessage_():(this.drawSelection_(),this.drawBars_(),this.drawChartAxes_(),this.drawLinesAtTickMarks_(),this.drawLineAtBottomOfChart_(),void 0!==this.currentBarMouseOverTarget_&&this.drawTooltip_())},drawSelection_:function(){if(void 0!==this.selectedOpIndex){var a=6*this.selectedOpIndex;this.chartCtx_.fillStyle="rgb(223, 235, 230)";this.chartCtx_.fillRect(65,20,a,this.chartHeight_-20-35)}},drawChartAxes_:function(){var a=
this.opCosts_[this.opCosts_.length-1],c=(this.chartHeight_-20-35)/4,b=0,d=(a-this.opCosts_[0])/4,e=0;this.chartCtx_.fillStyle="#333";this.chartCtx_.strokeStyle="#777";this.chartCtx_.save();this.chartCtx_.translate(0.5,0.5);this.chartCtx_.beginPath();this.chartCtx_.moveTo(55,20);this.chartCtx_.lineTo(55,this.chartHeight_-35);this.chartCtx_.lineTo(this.chartWidth_-30,this.chartHeight_-35);this.chartCtx_.stroke();this.chartCtx_.closePath();this.chartCtx_.translate(55,20);this.chartCtx_.font="10px Arial";
this.chartCtx_.textAlign="right";this.chartCtx_.textBaseline="middle";this.chartCtx_.beginPath();for(var h=0;5>h;h++)b=Math.round(h*c),e=(a-h*d).toFixed(4),this.chartCtx_.moveTo(0,b),this.chartCtx_.lineTo(-5,b),this.chartCtx_.fillText(e,-10,b);this.chartCtx_.stroke();this.chartCtx_.closePath();this.chartCtx_.restore()},drawLinesAtTickMarks_:function(){var a=this.chartWidth_-55-30,c=(this.chartHeight_-20-35)/4,b=0;this.chartCtx_.save();this.chartCtx_.translate(55.5,20.5);this.chartCtx_.beginPath();
this.chartCtx_.strokeStyle="rgba(0,0,0,0.05)";for(var d=0;5>d;d++)b=Math.round(d*c),this.chartCtx_.moveTo(0,b),this.chartCtx_.lineTo(a,b),this.chartCtx_.stroke();this.chartCtx_.restore();this.chartCtx_.closePath()},drawLineAtBottomOfChart_:function(){this.chartCtx_.strokeStyle="#AAA";this.chartCtx_.beginPath();this.chartCtx_.moveTo(0,this.chartHeight_-0.5);this.chartCtx_.lineTo(this.chartWidth_,this.chartHeight_-0.5);this.chartCtx_.stroke();this.chartCtx_.closePath()},drawTooltip_:function(){var a=
this.pictureOps_[this.currentBarMouseOverTarget_],c=a.cmd_string,b=a.cmd_time.toFixed(4),a=(100*(a.cmd_time/this.totalOpCost_)).toFixed(2),d=Math.round(57),d=65+6*this.currentBarMouseOverTarget_-d,e=Math.round(0.5*(this.chartHeight_-40));this.chartCtx_.save();this.chartCtx_.shadowOffsetX=0;this.chartCtx_.shadowOffsetY=5;this.chartCtx_.shadowBlur=4;this.chartCtx_.shadowColor="rgba(0,0,0,0.4)";this.chartCtx_.strokeStyle="#888";this.chartCtx_.fillStyle="#EEE";this.chartCtx_.fillRect(d,e,120,40);this.chartCtx_.shadowColor=
"transparent";this.chartCtx_.translate(0.5,0.5);this.chartCtx_.strokeRect(d,e,120,40);this.chartCtx_.restore();this.chartCtx_.fillStyle="#222";this.chartCtx_.textAlign="left";this.chartCtx_.textBaseline="top";this.chartCtx_.font="800 12px Arial";this.chartCtx_.fillText(c,d+8,e+8);this.chartCtx_.fillStyle="#555";this.chartCtx_.font="400 italic 10px Arial";this.chartCtx_.fillText(b+"ms ("+a+"%)",d+8,e+22)},drawBars_:function(){var a,c=a=0,b=!1,d=this.chartHeight_-35,e=this.chartHeight_-35-20,h;h=this.usePercentileScale?
this.ninetyFifthPercentileCost_:this.maxCost_;for(var g=0;g<this.pictureOps_.length;g++)a=this.pictureOps_[g],c=Math.round(a.cmd_time/h*e),c=Math.max(c,1),b=g===this.currentBarMouseOverTarget_,a=this.getOpColor_(a.cmd_string,b),this.chartCtx_.fillStyle=g===this.selectedOpIndex?"#FFFF00":a,this.chartCtx_.fillRect(65+6*g,d-c,5,c)},getOpColor_:function(a,c){return"hsl("+a.split("").reduce(this.reduceNameToHue,0)%360+", 30%, "+(c?"75%":"50%")+"%)"},reduceNameToHue:function(a,c,b,d){return Math.round(a+
5.7*c.charCodeAt(0))},clearChartContents_:function(){this.chartCtx_.clearRect(0,0,this.chartWidth_,this.chartHeight_)},showNoTimingDataMessage_:function(){this.chartCtx_.font="800 italic 14px Arial";this.chartCtx_.fillStyle="#333";this.chartCtx_.textAlign="center";this.chartCtx_.textBaseline="middle";this.chartCtx_.fillText("No timing data available.",0.5*this.chartWidth_,0.5*this.chartHeight_)}};return{PictureOpsChartView:d}});"use strict";
tv.exportTo("cc",function(){var d=tv.ui.define("picture-ops-list-view");d.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){this.opsList_=new tv.ui.ListView;this.appendChild(this.opsList_);this.selectedOpIndex_=this.selectedOp_=void 0;this.opsList_.addEventListener("selection-changed",this.onSelectionChanged_.bind(this));this.picture_=void 0},get picture(){return this.picture_},set picture(a){this.picture_=a;this.updateContents_()},updateContents_:function(){this.opsList_.clear();
if(this.picture_){var a=this.picture_.getOps();if(a)for(var a=this.picture_.tagOpsWithTimings(a),a=this.opsTaggedWithAnnotations_(a),c=0;c<a.length;c++){var b=a[c],d=document.createElement("div");d.opIndex=b.opIndex;d.textContent=c+") "+b.cmd_string;if(b.elementInfo.tag||b.elementInfo.id||b.elementInfo.class){var e=document.createElement("span");e.classList.add("elementInfo");var h=b.elementInfo.id?"id="+b.elementInfo.id:void 0,g=b.elementInfo.class?"class="+b.elementInfo.class:void 0;e.textContent=
"<"+(b.elementInfo.tag?b.elementInfo.tag:"unknown")+(h?" ":"")+(h?h:"")+(g?" ":"")+(g?g:"")+">";d.appendChild(e)}b.info.forEach(function(a){var b=document.createElement("div");b.textContent=a;d.appendChild(b)});b.cmd_time&&1E-4<=b.cmd_time&&(e=document.createElement("span"),e.classList.add("time"),b=b.cmd_time.toFixed(4),e.textContent="("+b+"ms)",d.appendChild(e));this.opsList_.appendChild(d)}}},onSelectionChanged_:function(a){a=!0;this.opsList_.selectedElement===this.selectedOp_&&(this.opsList_.selectedElement=
void 0,a=!1,this.selectedOpIndex_=void 0);this.selectedOp_=this.opsList_.selectedElement;for(var c=this.opsList_.children,b=0;b<c.length;b++){var d=c[b];d===this.selectedOp_?(a=!1,this.selectedOpIndex_=d.opIndex):a?d.setAttribute("beforeSelection","beforeSelection"):d.removeAttribute("beforeSelection")}tv.dispatchSimpleEvent(this,"selection-changed",!1)},get numOps(){return this.opsList_.children.length},get selectedOpIndex(){return this.selectedOpIndex_},set selectedOpIndex(a){this.selectedOpIndex_=
a;if(void 0===a)this.opsList_.selectedElement=this.selectedOp_,this.onSelectionChanged_();else{if(0>a)throw Error("Invalid index");if(a>=this.numOps)throw Error("Invalid index");this.opsList_.selectedElement=this.opsList_.getElementByIndex(a+1);tv.scrollIntoViewIfNeeded(this.opsList_.selectedElement)}},opsTaggedWithAnnotations_:function(a){for(var c=[],b=[],d=0;d<a.length;d++){var e=a[d];e.opIndex=d;switch(e.cmd_string){case "BeginCommentGroup":c.push([]);break;case "EndCommentGroup":c.pop();break;
case "Comment":c[c.length-1].push(e);break;default:var h=[],g={};c.forEach(function(a){g={};a.forEach(function(a){a.info.forEach(function(a){-1!=a.indexOf("TAG: ")?g.tag=a.substring(a.indexOf("TAG: ")+5).toLowerCase():-1!=a.indexOf("ID: ")?g.id=a.substring(a.indexOf("ID: ")+4):-1!=a.indexOf("CLASS: ")&&(g.class=a.substring(a.indexOf("CLASS: ")+7));h.push(a)})})});e.annotations=h;e.elementInfo=g;b.push(e)}}return b}};return{PictureOpsListView:d}});"use strict";
tv.exportTo("cc",function(){var d=document.currentScript.ownerDocument,a=tv.ui.define("picture-debugger");a.prototype={__proto__:HTMLUnknownElement.prototype,decorate:function(){var a=tv.instantiateTemplate("#picture-debugger-template",d);this.appendChild(a);this.pictureAsImageData_=void 0;this.showOverdraw_=!1;this.zoomScaleValue_=1;this.sizeInfo_=this.querySelector(".size");this.rasterArea_=this.querySelector("raster-area");this.rasterCanvas_=this.rasterArea_.querySelector("canvas");this.rasterCtx_=
this.rasterCanvas_.getContext("2d");this.filename_=this.querySelector(".filename");this.drawOpsChartSummaryView_=new cc.PictureOpsChartSummaryView;this.drawOpsChartView_=new cc.PictureOpsChartView;this.drawOpsChartView_.addEventListener("selection-changed",this.onChartBarClicked_.bind(this));this.exportButton_=this.querySelector(".export");this.exportButton_.addEventListener("click",this.onSaveAsSkPictureClicked_.bind(this));this.trackMouse_();var a=tv.ui.createCheckBox(this,"showOverdraw","pictureView.showOverdraw",
!1,"Show overdraw"),b=tv.ui.createCheckBox(this,"showSummaryChart","pictureView.showSummaryChart",!1,"Show timing summary"),f=this.querySelector("picture-info");f.appendChild(a);f.appendChild(b);this.drawOpsView_=new cc.PictureOpsListView;this.drawOpsView_.addEventListener("selection-changed",this.onChangeDrawOps_.bind(this));a=this.querySelector("left-panel");a.appendChild(this.drawOpsChartSummaryView_);a.appendChild(this.drawOpsView_);b=new tv.ui.DragHandle;b.horizontal=!1;b.target=a;f=this.querySelector("right-panel");
f.replaceChild(this.drawOpsChartView_,f.querySelector("picture-ops-chart-view"));this.infoBar_=new tv.ui.InfoBar;this.rasterArea_.appendChild(this.infoBar_);this.insertBefore(b,f);this.picture_=void 0;tv.KeyEventManager.instance.addListener("keypress",this.onKeyPress_,this);this.mutationObserver_=new MutationObserver(this.onMutation_.bind(this));this.mutationObserver_.observe(a,{attributes:!0})},onKeyPress_:function(a){104==a.keyCode?(this.moveSelectedOpBy(-1),a.preventDefault(),a.stopPropagation()):
108==a.keyCode&&(this.moveSelectedOpBy(1),a.preventDefault(),a.stopPropagation())},onMutation_:function(a){for(var b=0;b<a.length;b++)if("style"===a[b].attributeName){this.drawOpsChartSummaryView_.requiresRedraw=!0;this.drawOpsChartSummaryView_.updateChartContents();this.drawOpsChartView_.dimensionsHaveChanged=!0;this.drawOpsChartView_.updateChartContents();break}},onSaveAsSkPictureClicked_:function(){for(var a=atob(this.picture_.getBase64SkpData()),b=a.length,d=new ArrayBuffer(b),d=new Uint8Array(d),
e=0;e<b;e++)d[e]=a.charCodeAt(e);a=new Blob([d],{type:"application/octet-binary"});b=window.webkitURL.createObjectURL(a);a=document.createElementNS("http://www.w3.org/1999/xhtml","a");a.href=b;a.download=this.filename_.value;b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)},get picture(){return this.picture_},set picture(a){this.drawOpsView_.picture=a;this.drawOpsChartView_.picture=a;this.picture_=this.drawOpsChartSummaryView_.picture=
a;this.exportButton_.disabled=!this.picture_.canSave;a&&(a=this.getRasterCanvasSize_(),this.rasterCanvas_.width=a.width,this.rasterCanvas_.height=a.height);a=this.rasterArea_.getBoundingClientRect();var b=this.mouseModeSelector_.getBoundingClientRect();this.mouseModeSelector_.pos={x:a.right-b.width-10,y:a.top};this.rasterize_();this.scheduleUpdateContents_()},getRasterCanvasSize_:function(){var a=window.getComputedStyle(this.rasterArea_),b=Math.max(parseInt(a.width),this.picture_.layerRect.width),
a=Math.max(parseInt(a.height),this.picture_.layerRect.height);return{width:b,height:a}},scheduleUpdateContents_:function(){this.updateContentsPending_||(this.updateContentsPending_=!0,tv.requestAnimationFrameInThisFrameIfPossible(this.updateContents_.bind(this)))},updateContents_:function(){this.updateContentsPending_=!1;this.picture_&&(this.sizeInfo_.textContent="("+this.picture_.layerRect.width+" x "+this.picture_.layerRect.height+")");this.drawOpsChartView_.updateChartContents();this.drawOpsChartView_.scrollSelectedItemIntoViewIfNecessary();
this.pictureAsImageData_&&(this.infoBar_.visible=!1,this.infoBar_.removeAllButtons(),this.pictureAsImageData_.error&&(this.infoBar_.message="Cannot rasterize...",this.infoBar_.addButton("More info...",function(a){var b=new tv.ui.Overlay;b.textContent=this.pictureAsImageData_.error;b.visible=!0;a.stopPropagation();return!1}.bind(this)),this.infoBar_.visible=!0),this.drawPicture_())},drawPicture_:function(){var a=this.getRasterCanvasSize_();a.width!==this.rasterCanvas_.width&&(this.rasterCanvas_.width=
a.width);a.height!==this.rasterCanvas_.height&&(this.rasterCanvas_.heigth=a.height);this.rasterCtx_.clearRect(0,0,a.width,a.height);if(this.pictureAsImageData_.imageData){var a=this.pictureAsImageData_.asCanvas(),b=a.width,d=a.height;this.rasterCtx_.drawImage(a,0,0,b,d,0,0,b*this.zoomScaleValue_,d*this.zoomScaleValue_)}},rasterize_:function(){this.picture_&&this.picture_.rasterize({stopIndex:this.drawOpsView_.selectedOpIndex,showOverdraw:this.showOverdraw_},this.onRasterComplete_.bind(this))},onRasterComplete_:function(a){this.pictureAsImageData_=
a;this.scheduleUpdateContents_()},moveSelectedOpBy:function(a){this.selectedOpIndex=void 0===this.selectedOpIndex?0:tv.clamp(this.selectedOpIndex+a,0,this.numOps)},get numOps(){return this.drawOpsView_.numOps},get selectedOpIndex(){return this.drawOpsView_.selectedOpIndex},set selectedOpIndex(a){this.drawOpsView_.selectedOpIndex=a;this.drawOpsChartView_.selectedOpIndex=a},onChartBarClicked_:function(a){this.drawOpsView_.selectedOpIndex=this.drawOpsChartView_.selectedOpIndex},onChangeDrawOps_:function(a){this.rasterize_();
this.scheduleUpdateContents_();this.drawOpsChartView_.selectedOpIndex=this.drawOpsView_.selectedOpIndex},set showOverdraw(a){this.showOverdraw_=a;this.rasterize_()},set showSummaryChart(a){a?this.drawOpsChartSummaryView_.show():this.drawOpsChartSummaryView_.hide()},trackMouse_:function(){this.mouseModeSelector_=new tv.ui.MouseModeSelector(this.rasterArea_);this.rasterArea_.appendChild(this.mouseModeSelector_);this.mouseModeSelector_.supportedModeMask=tv.ui.MOUSE_SELECTOR_MODE.ZOOM;this.mouseModeSelector_.mode=
tv.ui.MOUSE_SELECTOR_MODE.ZOOM;this.mouseModeSelector_.defaultMode=tv.ui.MOUSE_SELECTOR_MODE.ZOOM;this.mouseModeSelector_.settingsKey="pictureDebugger.mouseModeSelector";this.mouseModeSelector_.addEventListener("beginzoom",this.onBeginZoom_.bind(this));this.mouseModeSelector_.addEventListener("updatezoom",this.onUpdateZoom_.bind(this));this.mouseModeSelector_.addEventListener("endzoom",this.onEndZoom_.bind(this))},onBeginZoom_:function(a){this.isZooming_=!0;this.lastMouseViewPos_=this.extractRelativeMousePosition_(a);
a.preventDefault()},onUpdateZoom_:function(a){this.isZooming_&&(a=this.extractRelativeMousePosition_(a),this.zoomScaleValue_+=0.001*(this.lastMouseViewPos_.y-a.y),this.zoomScaleValue_=Math.max(this.zoomScaleValue_,0.1),this.drawPicture_(),this.lastMouseViewPos_=a)},onEndZoom_:function(a){this.lastMouseViewPos_=void 0;this.isZooming_=!1;a.preventDefault()},extractRelativeMousePosition_:function(a){return{x:a.clientX-this.rasterArea_.offsetLeft,y:a.clientY-this.rasterArea_.offsetTop}}};return{PictureDebugger:a}});
"use strict";
tv.exportTo("cc",function(){var d=tv.ui.define("picture-snapshot-view",tracing.analysis.ObjectSnapshotView);d.prototype={__proto__:tracing.analysis.ObjectSnapshotView.prototype,decorate:function(){this.classList.add("picture-snapshot-view");this.pictureDebugger_=new cc.PictureDebugger;this.appendChild(this.pictureDebugger_)},updateContents:function(){this.objectSnapshot_&&this.pictureDebugger_&&(this.pictureDebugger_.picture=this.objectSnapshot_)}};tracing.analysis.ObjectSnapshotView.register("cc::Picture",d,
{showInstances:!1});tracing.analysis.ObjectSnapshotView.register("cc::LayeredPicture",d,{showInstances:!1});return{PictureSnapshotView:d}});"use strict";
tv.exportTo("cc",function(){var d=tv.ui.define("tile-snapshot-view",tracing.analysis.ObjectSnapshotView);d.prototype={__proto__:tracing.analysis.ObjectSnapshotView.prototype,decorate:function(){this.classList.add("tile-snapshot-view");this.layerTreeView_=new cc.LayerTreeHostImplSnapshotView;this.appendChild(this.layerTreeView_)},updateContents:function(){var a=this.objectSnapshot_,c=a.containingSnapshot;c&&(this.layerTreeView_.objectSnapshot=c,this.layerTreeView_.selection=new cc.TileSelection(a))}};
tracing.analysis.ObjectSnapshotView.register("cc::Tile",d,{showInTrackView:!1});return{TileSnapshotView:d}});"use strict";
tv.exportTo("cc",function(){function d(a){return-1!==c.indexOf(a.title)?!0:!1}function a(a){return-1!==b.indexOf(a.title)?!0:!1}var c="TileManager::RunRasterTask RasterWorkerPoolTaskImpl::RunRasterOnThread RasterWorkerPoolTaskImpl::Raster RasterTaskImpl::Raster cc::RasterTask RasterTask".split(" "),b="TileManager::RunAnalyzeTask RasterWorkerPoolTaskImpl::RunAnalysisOnThread RasterWorkerPoolTaskImpl::Analyze RasterTaskImpl::Analyze cc::AnalyzeTask AnalyzeTask".split(" ");return{getTileFromRasterTaskSlice:function(b){if(d(b)||
a(b))return b=b.args.data?b.args.data:b.args.tileData,void 0===b?void 0:b.tile_id?b.tile_id:!(b.tileId instanceof cc.TileSnapshot)?void 0:b.tileId},isSliceDoingRasterization:d,isSliceDoingAnalysis:a}});"use strict";
Polymer("raster-task-analysis-for-tasks-from-same-lthi",{created:function(){this.selection_=void 0},set selection(d){this.selection_=d;this.updateContents_()},updateContents_:function(){this.textContent="";if(0!==this.selection_.length){var d=new tracing.analysis.AnalysisResults;this.appendChild(d);var a=d.appendHeader("Rasterization costs in "),c=cc.getTileFromRasterTaskSlice(this.selection_[0]).containingSnapshot;a.appendChild(d.createSelectionChangingLink(c.userFriendlyName,function(){return new tracing.Selection([c])}));
var b={},f=0,e=0,h=0,g=0,k=!1,l={};this.selection_.forEach(function(a){var c=cc.getTileFromRasterTaskSlice(a),d;d=c.layerId;var m=c.containingSnapshot,n;m.activeTree&&(n=m.activeTree.findLayerWithId(d));void 0===n&&m.pendingTree&&(n=m.pendingTree.findLayerWithId(d));void 0===b[d]&&(b[d]={layerId:d,layer:n,numTiles:0,numAnalysisTasks:0,numRasterTasks:0,duration:0,cpuDuration:0});d=b[d];l[c.objectInstance.id]||(l[c.objectInstance.id]=!0,d.numTiles+=1);cc.isSliceDoingAnalysis(a)?(d.numAnalysisTasks+=
1,h+=1):(d.numRasterTasks+=1,g+=1);d.duration+=a.duration;f+=a.duration;void 0!==a.cpuDuration&&(d.cpuDuration+=a.cpuDuration,e+=a.cpuDuration,k=!0)});a=tv.dictionaryValues(b);a.sort(function(a,b){return k?b.cpuDuration-a.cpuDuration:b.duration-a.duration});var m=d.appendTable("analyze-rasterizatin-costs-table",k?6:5),n=d.appendHeadRow(m);d.appendTableCell(m,n,"Layer");d.appendTableCell(m,n,"Num Tiles");d.appendTableCell(m,n,"Num Analysis Tasks");d.appendTableCell(m,n,"Num Rasterized Tiles");d.appendTableCell(m,
n,"Wall Duration (ms)");k&&d.appendTableCell(m,n,"CPU Duration (ms)");a.forEach(function(a){var b=a.layerId,c=d.appendBodyRow(m),e=d.appendTableCell(m,c,"Layer "+b);a.layer&&(e.textContent="",e.appendChild(d.createSelectionChangingLink("Layer "+b,function(){return new cc.LayerSelection(a.layer)})));d.appendTableCell(m,c,a.numTiles);d.appendTableCell(m,c,a.numAnalysisTasks);d.appendTableCell(m,c,a.numRasterTasks);d.appendTableCell(m,c,tracing.analysis.tsRound(a.duration)+"ms");k&&d.appendTableCell(m,
c,tracing.analysis.tsRound(a.cpuDuration)+"ms")});a=d.appendFootRow(m);d.appendTableCell(m,a,"Totals");d.appendTableCell(m,a,tv.dictionaryLength(l));d.appendTableCell(m,a,h);d.appendTableCell(m,a,g);d.appendTableCell(m,a,tracing.analysis.tsRound(f)+"ms");k&&d.appendTableCell(m,a,tracing.analysis.tsRound(e)+"ms");tv.ui.SortableTable.decorate(m)}}});"use strict";
tv.exportTo("cc",function(){function d(a){cc.Selection.call(this);var c=d.whySuported(a);if(!c.ok)throw Error("Fail: "+c.why);this.slices_=tv.asArray(a);this.tiles_=this.slices_.map(function(a){a=cc.getTileFromRasterTaskSlice(a);if(void 0===a)throw Error("This should never happen due to .supports check.");return a})}d.whySuported=function(a){if(!(a instanceof tracing.Selection))return{ok:!1,why:"Must be selection"};if(0===a.length)return{ok:!1,why:"Selection must be non empty"};for(var c,b=0;b<a.length;b++){if(!(a[b]instanceof
tracing.trace_model.Slice))return{ok:!1,why:"Not a slice"};var d=cc.getTileFromRasterTaskSlice(a[b]);if(void 0===d)return{ok:!1,why:"No tile found"};if(0===b)c=d;else if(d.containingSnapshot!=c.containingSnapshot)return{ok:!1,why:"Raster tasks are from different compositor instances"}}return{ok:!0}};d.supports=function(a){return d.whySuported(a).ok};d.prototype={__proto__:cc.Selection.prototype,get specicifity(){return 3},get associatedLayerId(){var a=this.tiles_[0];if(this.tiles_.every(function(c){c.layerId==
a.layerId}))return a.layerId},get extraHighlightsByLayerId(){var a={};this.tiles_.forEach(function(c,b){void 0===a[c.layerId]&&(a[c.layerId]=[]);a[c.layerId].push({colorKey:this.slices_[b].title,rect:c.layerRect})},this);return a},createAnalysis:function(){var a=new tracing.Selection;this.slices_.forEach(function(b){a.push(b)});var c;c=1==a.length?new SingleSliceAnalysisSubView:new RasterTaskSubViewForTasksFromSameLTHI;c.selection=a;return c},findEquivalent:function(a){},get containingSnapshot(){return this.tiles_[0].containingSnapshot}};
return{RasterTaskSelection:d}});"use strict";tv.onPolymerReady(function(){tracing.registerAnalysisSubViewType(1,function(d){return cc.RasterTaskSelection.supports(d)},RasterTaskSubView)});
Polymer("raster-task-sub-view",{created:function(){this.classList.add("raster-task-sub-view");this.layerTreeView_=new cc.LayerTreeHostImplSnapshotView;this.layerTreeView_.addEventListener("cc-selection-change",this.onLayerTreeViewCCSelectionChange_.bind(this));this.infoBar_=new tv.ui.InfoBar;this.appendChild(this.infoBar_);this.appendChild(this.layerTreeView_);this.selection=void 0},get requiresTallView(){return!0},get selection(){return this.selection_},set selection(d){this.selection_=d;this.updateContents_()},
updateContents_:function(){this.infoBar_.visible=!1;var d,a;if(this.selection_)try{d=new cc.RasterTaskSelection(this.selection_)}catch(c){a=c}else a="No selection";d?(this.layerTreeView_.style.display="",this.layerTreeView_.objectSnapshot=d.containingSnapshot,this.layerTreeView_.extraHighlightsByLayerId=d.extraHighlightsByLayerId,this.layerTreeView_.selection=d):(this.infoBar_.visible=!0,this.infoBar_.message="Something went wrong: "+a,this.layerTreeView_.style.display="none")},onLayerTreeViewCCSelectionChange_:function(){void 0===
this.layerTreeView_.selection&&(this.layerTreeView_.selection=new cc.RasterTaskSelection(this.selection_))}});"use strict";tv.onPolymerReady(function(){tracing.registerAnalysisSubViewType(1,function(d){if(0===d.length)return!1;for(var a,c=0;c<d.length&&d[c]instanceof tracing.trace_model.Slice;c++){var b=cc.getTileFromRasterTaskSlice(d[c]);if(void 0===b)break;if(0===c)a=b;else if(b.containingSnapshot!=a.containingSnapshot)return!0}return!1},RasterTaskSubViewForTasksFromDifferentLTHI)});
Polymer("raster-task-analysis-for-tasks-from-different-lthi",{created:function(){this.selection_=void 0},set selection(d){this.selection_=d;this.updateContents_()},updateContents_:function(){this.textContent="";if(0!==this.selection_.length){var d=new tracing.analysis.AnalysisResults;this.appendChild(d);d.appendHeader("Multiple frames selected:");var a={},c=0,b=0,f=0,e=0,h=!1,g={};this.selection_.forEach(function(d){var k=cc.getTileFromRasterTaskSlice(d),l=k.containingSnapshot,m=l.guid;void 0===a[m]&&
(a[m]={lthi:l,tasks:[],numTiles:0,numAnalysisTasks:0,numRasterTasks:0,duration:0,cpuDuration:0});l=a[m];l.tasks.push(d);g[k.objectInstance.id]||(g[k.objectInstance.id]=!0,l.numTiles+=1);cc.isSliceDoingAnalysis(d)?(l.numAnalysisTasks+=1,f+=1):(l.numRasterTasks+=1,e+=1);l.duration+=d.duration;c+=d.duration;void 0!==d.cpuDuration&&(l.cpuDuration+=d.cpuDuration,b+=d.cpuDuration,h=!0)});var k=tv.dictionaryValues(a);k.sort(function(a,b){return h?b.cpuDuration-a.cpuDuration:b.duration-a.duration});var l=
d.appendTable("analyze-rasterizatin-costs-table",h?6:5),m=d.appendHeadRow(l);d.appendTableCell(l,m,"Frame");d.appendTableCell(l,m,"Num Tiles");d.appendTableCell(l,m,"Num Analysis Tasks");d.appendTableCell(l,m,"Num Rasterized Tiles");d.appendTableCell(l,m,"Wall Duration (ms)");h&&d.appendTableCell(l,m,"CPU Duration (ms)");k.forEach(function(a){var b=d.appendBodyRow(l),c=d.appendTableCell(l,b,"");c.textContent="";c.appendChild(d.createSelectionChangingLink(a.lthi.userFriendlyName,function(){return new tracing.Selection(a.tasks)}));
d.appendTableCell(l,b,a.numTiles);d.appendTableCell(l,b,a.numAnalysisTasks);d.appendTableCell(l,b,a.numRasterTasks);d.appendTableCell(l,b,tracing.analysis.tsRound(a.duration)+"ms");h&&d.appendTableCell(l,b,tracing.analysis.tsRound(a.cpuDuration)+"ms")});k=d.appendFootRow(l);d.appendTableCell(l,k,"Totals");d.appendTableCell(l,k,tv.dictionaryLength(g));d.appendTableCell(l,k,f);d.appendTableCell(l,k,e);d.appendTableCell(l,k,tracing.analysis.tsRound(c)+"ms");h&&d.appendTableCell(l,k,tracing.analysis.tsRound(b)+
"ms");tv.ui.SortableTable.decorate(l)}}});"use strict";
tv.exportTo("tcmalloc",function(){function d(){a.apply(this,arguments)}var a=tracing.trace_model.ObjectSnapshot;d.prototype={__proto__:a.prototype,preInitialize:function(){cc.preInitializeObject(this)},initialize:function(){if(0==this.args.length)throw Error("No heap snapshot data.");this.total_=this.args[0];var a=this.args.slice(1);this.heap_={children:{},currentBytes:0,currentAllocs:0,totalBytes:0,totalAllocs:0};for(var b=0;b<a.length;b++){var d=a[b],e=d.trace.split(" ");if(-1==e.indexOf("trace-memory-ignore"))for(var h=
this.heap_,g=0;g<e.length;g++){var k=e[g];0!=k.length&&(h.currentBytes+=d.currentBytes,h.currentAllocs+=d.currentAllocs,h.totalBytes+=d.totalBytes,h.totalAllocs+=d.totalAllocs);h.children[k]||(h.children[k]={children:{},currentBytes:d.currentBytes,currentAllocs:d.currentAllocs,totalBytes:d.totalBytes,totalAllocs:d.totalAllocs});h=h.children[k]}}}};a.register("memory::Heap",d);return{HeapSnapshot:d}});"use strict";
tv.exportTo("tcmalloc",function(){var d=tv.ui.define("tcmalloc-instance-view",tracing.analysis.ObjectInstanceView);d.prototype={__proto__:tracing.analysis.ObjectInstanceView.prototype,decorate:function(){tracing.analysis.ObjectInstanceView.prototype.decoreate.apply(this);this.classList.add("tcmalloc-instance-view")},updateContents:function(){var a=this.objectInstance_;if(!a||!a.snapshots||0==a.snapshots.length)this.textContent="No data found.";else{this.textContent="";var c=a.snapshots[0],b=c.heap_,
d=Object.keys(b.children);d.sort(function(a,c){return b.children[c].currentBytes-b.children[a].currentBytes});var d=d.slice(0,5),e=document.createElement("table"),h=["Total"],h=h.concat(d);e.appendChild(this.buildRow_(null,h));for(var h=[[],[],[],[],[]],g=0;g<a.snapshots.length;g++){for(var c=a.snapshots[g],k=[c.total_.currentBytes],l=0;5>l;l++){var m=c.heap_.children[d[l]].currentBytes;k.push(m);h[l].push([Math.round(c.ts/1E3),m/1024/1024])}c=this.buildRow_(c,k);e.appendChild(c)}this.appendChild(e)}},
buildRow_:function(a,c){var b=document.createElement("tr"),d=document.createElement("td");if(a){var e=new tracing.analysis.ObjectSnapshotLink;e.objectSnapshot=a;d.appendChild(e)}b.appendChild(d);for(d=0;d<c.length;d++)e=document.createElement("td"),e.textContent=c[d],b.appendChild(e);return b},getByteString_:function(a){return(a/1024/1024).toFixed(1)+" MB"}};tracing.analysis.ObjectInstanceView.register("memory::Heap",d);return{TcmallocInstanceView:d}});"use strict";
tv.exportTo("tcmalloc",function(){var d=tv.ui.define("heap-snapshot-view",tracing.analysis.ObjectSnapshotView);d.prototype={__proto__:tracing.analysis.ObjectSnapshotView.prototype,decorate:function(){this.classList.add("tcmalloc-snapshot-view")},updateContents:function(){var a=this.objectSnapshot_;if(!a||!a.heap_)this.textContent="No heap found.";else{this.textContent="";var c=document.createElement("div");c.textContent="Retaining "+this.getByteString_(a.total_.currentBytes)+" in "+a.total_.currentAllocs+
" allocations. Showing > 0.1 MB.";c.className="subhead";this.appendChild(c);a=this.buildAllocList_(a.heap_,!1);this.appendChild(a)}},buildAllocList_:function(a,c){var b=document.createElement("ul");b.hidden=c;var d=Object.keys(a.children);d.sort(function(b,c){return a.children[c].currentBytes-a.children[b].currentBytes});for(var e=0;e<d.length;e++){var h=d[e],g=a.children[h];if(!(102400>g.currentBytes)){var k=Object.keys(g.children).length,h=this.buildItem_(h,0==k,g.currentBytes,g.currentAllocs);
b.appendChild(h);0<k&&h.appendChild(this.buildAllocList_(g,!0))}}return b},buildItem_:function(a,c,b,d){d=document.createElement("li");d.className="trace-item";d.id=a;var e=document.createElement("div");e.textContent=this.getByteString_(b);e.className="trace-bytes";d.appendChild(e);0==a.length?a="(here)":0==a.indexOf("..")&&(b=a.lastIndexOf("/"),-1!=b&&(a="Task from "+a.substr(b+1)));b=document.createElement("div");b.textContent=a;b.className="trace-name";d.appendChild(b);if(c)return d;var h=this;
d.addEventListener("click",function(a){if(this==a.target||this==a.target.parentElement)this.classList.toggle("expanded"),a=this.querySelector("ul"),a.hidden=!a.hidden,h.onItemClicked_(this)});d.classList.add("collapsed");return d},onItemClicked_:function(a){for(var c=[];a.classList.contains("trace-item");)c.unshift(a.firstElementChild.nextElementSibling.textContent),a=a.parentElement.parentElement;this.objectSnapshot_.objectInstance.selectedTraces=c;document.querySelector(".timeline-track-view").viewport_.dispatchChangeEvent()},
getByteString_:function(a){return(a/1024/1024).toFixed(1)+" MB"}};tracing.analysis.ObjectSnapshotView.register("memory::Heap",d);return{TcmallocSnapshotView:d}});"use strict";
tv.exportTo("net",function(){function d(){a.apply(this,arguments);this.isTitleComputed_=!1}var a=tracing.trace_model.AsyncSlice;d.prototype={__proto__:a.prototype,get viewSubGroupTitle(){return"NetLog"},get title(){if(this.isTitleComputed_||!this.isTopLevel)return this.title_;var a=function(b){if(void 0!==b.args&&void 0!==b.args.params&&void 0!==b.args.params.url)return b.args.params.url;if(!(void 0===b.subSlices||0===b.subSlices.length))for(var d=0;d<b.subSlices.length;d++){var h=a(b.subSlices[d]);
if(void 0!==h)return h}},b=a(this);void 0!==b&&0<b.length?this.title_=b:void 0!==this.args&&void 0!==this.args.source_type&&(this.title_=this.args.source_type);this.isTitleComputed_=!0;return this.title_},set title(a){this.title_=a}};a.registerCategory("netlog",d);a.registerCategory("disabled-by-default-netlog",d);return{NetAsyncSlice:d}});"use strict";
tv.exportTo("system_stats",function(){function d(c,b,d){a.apply(this,arguments);this.objectInstance=c;this.ts=b;this.stats=this.args=d}var a=tracing.trace_model.ObjectSnapshot;d.prototype={__proto__:a.prototype,initialize:function(){if(0==this.args.length)throw Error("No system stats snapshot data.");this.stats_=this.args},getStats:function(){return this.stats_},setStats:function(a){this.stats_=a}};a.register("base::TraceEventSystemStatsMonitor::SystemStats",d);return{SystemStatsSnapshot:d}});"use strict";
tv.exportTo("system_stats",function(){var d=tv.ui.define("system-stats-snapshot-view",tracing.analysis.ObjectSnapshotView);d.prototype={__proto__:tracing.analysis.ObjectSnapshotView.prototype,decorate:function(){this.classList.add("system-stats-snapshot-view")},updateContents:function(){var a=this.objectSnapshot_;!a||!a.getStats()?this.textContent="No system stats snapshot found.":(this.textContent="",a=a.getStats(),this.appendChild(this.buildList_(a)))},isFloat:function(a){return"number"===typeof a&&
0!==a%1},buildList_:function(a){var c=document.createElement("ul"),b;for(b in a){var d=document.createElement("li");d.textContent=""+b+": ";c.appendChild(d);a[b]instanceof Object?c.appendChild(this.buildList_(a[b])):this.isFloat(a[b])?d.textContent+=a[b].toFixed(2):d.textContent+=a[b]}return c}};tracing.analysis.ObjectSnapshotView.register("base::TraceEventSystemStatsMonitor::SystemStats",d);return{SystemStatsSnapshotView:d}});"use strict";
tv.exportTo("tracing.tracks",function(){var d=tv.ui.define("stacked-bars-track",tracing.tracks.HeadingTrack);d.prototype={__proto__:tracing.tracks.HeadingTrack.prototype,decorate:function(a){tracing.tracks.HeadingTrack.prototype.decorate.call(this,a);this.classList.add("stacked-bars-track");this.objectInstance_=null},addEventsToTrackMap:function(a){this.objectInstance_.snapshots.forEach(function(c){a.addEvent(c,this)},this)},addIntersectingItemsInRangeToSelectionInWorldSpace:function(a,c,b,d){var e=
this.objectInstance_.snapshots,h=this.objectInstance_.parent.model.bounds.max;tv.iterateOverIntersectingIntervals(e,function(a){return a.ts},function(a,b){return b==e.length-1?1==e.length?h:e[b].ts-e[b-1].ts:e[b+1].ts-e[b].ts},a,c,function(a){d.push(a)})},addItemNearToProvidedEventToSelection:function(a,c,b){if(!(a instanceof tracing.trace_model.ObjectSnapshot))throw Error("Unrecognized event");var d=this.objectInstance_.snapshots;a=d.indexOf(a)+c;return 0<=a&&a<d.length?(b.push(d[a]),!0):!1},addAllObjectsMatchingFilterToSelection:function(a,
c){},addClosestEventToSelection:function(a,c,b,d,e){(a=tv.findClosestElementInSortedArray(this.objectInstance_.snapshots,function(a){return a.ts},a,c))&&e.push(a)}};return{StackedBarsTrack:d}});"use strict";
tv.exportTo("system_stats",function(){var d=tracing.EventPresenter;tv.ui.getColorPalette();tv.ui.getColorPaletteHighlightIdBoost();var a,c={meminfo:{pswpin:0,pswpout:0,pgmajfault:0},diskinfo:{io:0,io_time:0,read_time:0,reads:0,reads_merged:0,sectors_read:0,sectors_written:0,weighted_io_time:0,write_time:0,writes:0,writes_merged:0},swapinfo:{}},b=tv.ui.define("system-stats-instance-track",tracing.tracks.StackedBarsTrack);b.prototype={__proto__:tracing.tracks.StackedBarsTrack.prototype,decorate:function(a){tracing.tracks.StackedBarsTrack.prototype.decorate.call(this,
a);this.classList.add("system-stats-instance-track");this.objectInstance_=null},set objectInstances(a){if(a){if(1!=a.length)throw Error("Bad object instance count.");this.objectInstance_=a[0];null!==this.objectInstance_&&(this.computeRates_(this.objectInstance_.snapshots),this.maxStats_=this.computeMaxStats_(this.objectInstance_.snapshots))}else this.objectInstance_=[]},computeRates_:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getStats(),k,l;k=0==b?a[0]:a[b-1];l=k.getStats();c=(c.ts-k.ts)/
1E3;0==c&&(c=1);this.computeRatesRecursive_(l,d,c)}},computeRatesRecursive_:function(a,b,c){for(var d in b)b[d]instanceof Object?this.computeRatesRecursive_(a[d],b[d],c):("sectors_read"==d&&(b.bytes_read_per_sec=512*(b.sectors_read-a.sectors_read)/c),"sectors_written"==d&&(b.bytes_written_per_sec=512*(b.sectors_written-a.sectors_written)/c),"pgmajfault"==d&&(b.pgmajfault_per_sec=(b.pgmajfault-a.pgmajfault)/c),"pswpin"==d&&(b.bytes_swpin_per_sec=1E3*(b.pswpin-a.pswpin)/c),"pswpout"==d&&(b.bytes_swpout_per_sec=
1E3*(b.pswpout-a.pswpout)/c))},computeMaxStats_:function(b){for(var d={},h=a=0;h<b.length;h++){var g=b[h].getStats();this.computeMaxStatsRecursive_(g,d,c)}return d},computeMaxStatsRecursive_:function(b,c,d){for(var g in b)b[g]instanceof Object?(g in c||(c[g]={}),this.computeMaxStatsRecursive_(b[g],c[g],d&&g in d?d[g]:null)):d&&g in d||(g in c||(c[g]=0,a++),b[g]>c[g]&&(c[g]=b[g]))},get height(){return window.getComputedStyle(this).height},set height(a){this.style.height=a},draw:function(a,b,c){switch(a){case tracing.tracks.DrawType.SLICE:this.drawStatBars_(b,
c)}},drawStatBars_:function(b,c){var d=this.context(),g=window.devicePixelRatio||1,k=this.getBoundingClientRect(),l=k.width*g,g=k.height*g/a,k=this.viewport.currentDisplayTransform,m=this.maxStats_,n=this.objectInstance_.snapshots,p=tv.findLowIndexInSortedArray(n,function(a){return a.ts},b);0<p&&(p-=1);for(var q=p;q<n.length;++q){var r=n[q],t=r.getStats(),u=g,v=r.ts;if(v>c)break;v=k.xWorldToView(v);0>v&&(v=0);var z=k.xWorldToView(q!=n.length-1?n[q+1].ts:1<n.length?n[q].ts+(n[q].ts-n[q-1].ts):this.objectInstance_.parent.model.bounds.max);
z>l&&(z=l);v=Math.floor(v);z=Math.floor(z);this.drawStatBarsRecursive_(r,v,z,g,t,m,u);q==p&&this.drawStatNames_(v,g,u,"",m)}d.lineWidth=1},drawStatBarsRecursive_:function(a,b,c,g,k,l,m){var n=this.context(),p;for(p in l)if(k[p]instanceof Object)m=this.drawStatBarsRecursive_(a,b,c,g,k[p],l[p],m);else{var q=l[p];n.fillStyle=d.getBarSnapshotColor(a,Math.round(m/g));q=0<q?g*Math.max(k[p],0)/q:0;n.fillRect(b,m-q,Math.max(c-b,1),q);m+=g}return m},drawStatNames_:function(a,b,c,d,k){var l=this.context();
l.textAlign="end";l.font="12px Arial";l.fillStyle="#000000";for(var m in k)if(k[m]instanceof Object)c=this.drawStatNames_(a,b,c,m,k[m]);else{var n=m;""!=d&&(n=d+" :: "+m);l.fillText(n,a-10,c-b/4);c+=b}return c}};tracing.tracks.ObjectInstanceTrack.register("base::TraceEventSystemStatsMonitor::SystemStats",b);return{SystemStatsInstanceTrack:b}});"use strict";
tv.exportTo("gpu",function(){function d(){a.apply(this,arguments)}var a=tracing.trace_model.ObjectSnapshot;d.prototype={__proto__:a.prototype,preInitialize:function(){this.screenshot_=void 0},initialize:function(){this.args.screenshot&&(this.screenshot_=this.args.screenshot)},get screenshot(){return this.screenshot_}};a.register("gpu::State",d);return{StateSnapshot:d}});"use strict";
tv.exportTo("gpu",function(){var d=tv.ui.define("gpu-state-snapshot-view",tracing.analysis.ObjectSnapshotView);d.prototype={__proto__:tracing.analysis.ObjectSnapshotView.prototype,decorate:function(){this.classList.add("gpu-state-snapshot-view");this.screenshotImage_=document.createElement("img");this.appendChild(this.screenshotImage_)},updateContents:function(){this.objectSnapshot_&&this.objectSnapshot_.screenshot&&(this.screenshotImage_.src="data:image/png;base64,"+this.objectSnapshot_.screenshot)}};
tracing.analysis.ObjectSnapshotView.register("gpu::State",d);return{StateSnapshotView:d}});"use strict";
tv.exportTo("tcmalloc",function(){var d=tracing.EventPresenter,a=tv.ui.define("heap-instance-track",tracing.tracks.StackedBarsTrack);a.prototype={__proto__:tracing.tracks.StackedBarsTrack.prototype,decorate:function(a){tracing.tracks.StackedBarsTrack.prototype.decorate.call(this,a);this.classList.add("heap-instance-track");this.objectInstance_=null},set objectInstances(a){if(a){if(1!=a.length)throw Error("Bad object instance count.");this.objectInstance_=a[0];this.maxBytes_=this.computeMaxBytes_(this.objectInstance_.snapshots)}else this.objectInstance_=
[]},computeMaxBytes_:function(a){for(var b=0,d=0;d<a.length;d++){for(var e=a[d],h=Object.keys(e.heap_.children),g=0,k=0;k<h.length;k++)g+=e.heap_.children[h[k]].currentBytes;g>b&&(b=g)}return b},get height(){return window.getComputedStyle(this).height},set height(a){this.style.height=a},draw:function(a,b,d){switch(a){case tracing.tracks.DrawType.SLICE:this.drawSlices_(b,d)}},drawSlices_:function(a,b){var f=this.context(),e=window.devicePixelRatio||1,h=this.getBoundingClientRect(),g=h.width*e,e=h.height*
e,h=this.viewport.currentDisplayTransform,k=this.maxBytes_,l=this.objectInstance_.snapshots,m=tv.findLowIndexInSortedArray(l,function(a){return a.ts},a);for(0<m&&(m-=1);m<l.length;++m){var n=l[m],p=n.ts;if(p>b)break;p=h.xWorldToView(p);0>p&&(p=0);var q=h.xWorldToView(m!=l.length-1?l[m+1].ts:1<l.length?l[m].ts+(l[m].ts-l[m-1].ts):this.objectInstance_.parent.model.bounds.max);q>g&&(q=g);for(var p=Math.floor(p),q=Math.floor(q),r=e,t=Object.keys(n.heap_.children),u=t.length-1;0<=u;u--){var v=n.heap_.children[t[u]];
f.fillStyle=this.objectInstance_.selectedTraces&&0<this.objectInstance_.selectedTraces.length&&this.objectInstance_.selectedTraces[0]==t[u]?"rgb(239, 248, 206)":d.getBarSnapshotColor(n,u);v=e*v.currentBytes/k;f.fillRect(p,r-v,Math.max(q-p,1),v);r-=v}}f.lineWidth=1}};tracing.tracks.ObjectInstanceTrack.register("memory::Heap",a);return{HeapInstanceTrack:a}});"use strict";
tv.exportTo("tracing",function(){var d=tv.ui.define("trace-viewer",tracing.TimelineView);d.prototype={__proto__:tracing.TimelineView.prototype,decorate:function(a){function c(){d.model=g;d.viewTitle=a;d.timeline&&(d.timeline.focusElement=d)}function b(){var a=new tv.ui.Overlay;a.textContent=tv.normalizeException(err).message;a.title="Import error";a.visible=!0}tracing.TimelineView.prototype.decorate.call(this);var d=this,e=new XMLHttpRequest,h=/[.]gz$/.test(a)||/[.]zip$/.test(a);e.overrideMimeType("text/plain; charset=x-user-defined");
e.open("GET",a,!0);h&&(e.responseType="arraybuffer");e.onreadystatechange=function(d){4==e.readyState&&window.setTimeout(function(){if(200==e.status){var d=h?e.response:e.responseText;g=new tracing.TraceModel;g.importTracesWithProgressDialog([d],!0).then(c,b)}else{var d=e.status,f=new tv.ui.Overlay;f.textContent=d+": "+a+" could not be loaded";f.title="Failed to fetch data";f.visible=!0}},0)};e.send(null);var g}};return{TraceViewer:d}});

</script>
</head>
<body>
</body>
</html>
