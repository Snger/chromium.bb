<!DOCTYPE html>
<!--
Copyright (c) 2013 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="/base/extension_registry.html">
<link rel="import" href="/base/ui.html">

<script>
'use strict';

tv.exportTo('tv.core.analysis', function() {
  /**
   * Slice views allow customized visualization of specific slices, indexed by
   * title. If not registered, the default slice viewing logic is used.
   *
   * @constructor
   */
  var SliceView = tv.ui.define('slice-view');

  SliceView.prototype = {
    __proto__: HTMLUnknownElement.prototype,

    decorate: function() {
      this.objectInstance_ = undefined;
    },

    get requiresTallView() {
      return false;
    },

    set modelEvent(obj) {
      this.slice = obj;
    },

    get modelEvent() {
      return this.slice;
    },

    get slice() {
      return this.slice_;
    },

    set slice(s) {
      this.slice_ = s;
      this.updateContents();
    },

    updateContents: function() {
      throw new Error('Not implemented');
    }
  };

  var options = new tv.ExtensionRegistryOptions(tv.TYPE_BASED_REGISTRY_MODE);
  options.mandatoryBaseClass = SliceView;
  options.defaultConstructor = undefined;
  tv.decorateExtensionRegistry(SliceView, options);

  return {
    SliceView: SliceView
  };
});
</script>
