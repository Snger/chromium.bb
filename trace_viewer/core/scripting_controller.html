<!DOCTYPE html>
<!--
Copyright 2015 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="/base/utils.html">

/**
 * @fileoverview ScriptingController.
 */
<polymer-element name='tv-c-scripting-controller'>
  <script>
  'use strict';

  Polymer({
    ready: function() {
      this.timeline_ = undefined;
      this.contextNames_ = [];
      this.contextValues_ = [];
    },

    get timeline() {
      return this.timeline_;
    },

    set timeline(t) {
      this.timeline_ = t;
    },

    addContextValue: function(name, value) {
      this.contextNames_.push(name);
      this.contextValues_.push(value);
    },

    executeCommand: function(command) {
      var f = new Function(
          this.contextNames_, 'return eval(' + command + ')');
      return f.apply(null, this.contextValues_);
    }
  });
  </script>
</polymer-element>
