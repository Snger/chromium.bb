# Copyright (c) 2012 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

{
  'variables': {
    'chromium_code': 0,
    'use_libcc_for_compositor%': 0,
    'cc_source_files': [
      'hash_pair.h',
      'own_ptr_vector.h',
      'scoped_ptr_hash_map.h',
      'scoped_ptr_vector.h',
      'BitmapCanvasLayerTextureUpdater.cpp',
      'BitmapCanvasLayerTextureUpdater.h',
      'BitmapSkPictureCanvasLayerTextureUpdater.cpp',
      'BitmapSkPictureCanvasLayerTextureUpdater.h',
      'caching_bitmap_canvas_layer_texture_updater.cc',
      'caching_bitmap_canvas_layer_texture_updater.h',
      'CCActiveAnimation.cpp',
      'CCActiveAnimation.h',
      'CCAppendQuadsData.h',
      'CCAnimationCurve.cpp',
      'CCAnimationCurve.h',
      'CCAnimationEvents.h',
      'CCCheckerboardDrawQuad.cpp',
      'CCCheckerboardDrawQuad.h',
      'CCCompletionEvent.h',
      'CCDamageTracker.cpp',
      'CCDamageTracker.h',
      'CCDebugBorderDrawQuad.cpp',
      'CCDebugBorderDrawQuad.h',
      'CCDebugRectHistory.cpp',
      'CCDebugRectHistory.h',
      'CCDelayBasedTimeSource.cpp',
      'CCDelayBasedTimeSource.h',
      'CCDelegatedRendererLayerImpl.cpp',
      'CCDelegatedRendererLayerImpl.h',
      'CCDirectRenderer.cpp',
      'CCDirectRenderer.h',
      'CCDrawQuad.cpp',
      'CCDrawQuad.h',
      'CCFontAtlas.cpp',
      'CCFontAtlas.h',
      'CCFrameRateController.cpp',
      'CCFrameRateController.h',
      'CCFrameRateCounter.cpp',
      'CCFrameRateCounter.h',
      'CCGraphicsContext.h',
      'CCHeadsUpDisplayLayerImpl.cpp',
      'CCHeadsUpDisplayLayerImpl.h',
      'CCIOSurfaceDrawQuad.cpp',
      'CCIOSurfaceDrawQuad.h',
      'CCIOSurfaceLayerImpl.cpp',
      'CCIOSurfaceLayerImpl.h',
      'CCInputHandler.h',
      'CCKeyframedAnimationCurve.cpp',
      'CCKeyframedAnimationCurve.h',
      'CCLayerAnimationController.cpp',
      'CCLayerAnimationController.h',
      'CCLayerImpl.cpp',
      'CCLayerImpl.h',
      'CCLayerIterator.cpp',
      'CCLayerIterator.h',
      'CCLayerQuad.cpp',
      'CCLayerQuad.h',
      'CCLayerSorter.cpp',
      'CCLayerSorter.h',
      'CCLayerTilingData.cpp',
      'CCLayerTilingData.h',
      'CCLayerTreeHost.cpp',
      'CCLayerTreeHost.h',
      'CCLayerTreeHostClient.h',
      'CCLayerTreeHostCommon.cpp',
      'CCLayerTreeHostCommon.h',
      'CCLayerTreeHostImpl.cpp',
      'CCLayerTreeHostImpl.h',
      'CCMathUtil.cpp',
      'CCMathUtil.h',
      'CCOcclusionTracker.cpp',
      'CCOcclusionTracker.h',
      'CCOverdrawMetrics.cpp',
      'CCOverdrawMetrics.h',
      'CCPageScaleAnimation.cpp',
      'CCPageScaleAnimation.h',
      'CCPrioritizedTexture.cpp',
      'CCPrioritizedTexture.h',
      'CCPrioritizedTextureManager.cpp',
      'CCPrioritizedTextureManager.h',
      'CCPriorityCalculator.cpp',
      'CCPriorityCalculator.h',
      'CCProxy.cpp',
      'CCProxy.h',
      'CCQuadCuller.cpp',
      'CCQuadCuller.h',
      'CCQuadSink.h',
      'CCRenderPass.cpp',
      'CCRenderPass.h',
      'CCRenderPassDrawQuad.cpp',
      'CCRenderPassDrawQuad.h',
      'CCRenderPassSink.h',
      'CCRenderSurface.cpp',
      'CCRenderSurface.h',
      'CCRenderSurfaceFilters.cpp',
      'CCRenderSurfaceFilters.h',
      'CCRenderer.cpp',
      'CCRenderer.h',
      'CCRendererGL.cpp',
      'CCRendererGL.h',
      'CCRendererSoftware.cpp',
      'CCRendererSoftware.h',
      'CCRenderingStats.h',
      'CCResourceProvider.cpp',
      'CCResourceProvider.h',
      'CCScheduler.cpp',
      'CCScheduler.h',
      'CCSchedulerStateMachine.cpp',
      'CCSchedulerStateMachine.h',
      'CCScopedTexture.cpp',
      'CCScopedTexture.h',
      'CCScopedThreadProxy.cpp',
      'CCScopedThreadProxy.h',
      'CCScrollbarAnimationController.cpp',
      'CCScrollbarAnimationController.h',
      'CCScrollbarAnimationControllerLinearFade.cpp',
      'CCScrollbarAnimationControllerLinearFade.h',
      'CCScrollbarLayerImpl.cpp',
      'CCScrollbarLayerImpl.h',
      'CCScrollbarGeometryFixedThumb.cpp',
      'CCScrollbarGeometryFixedThumb.h',
      'CCScrollbarGeometryStub.cpp',
      'CCScrollbarGeometryStub.h',
      'CCSettings.cpp',
      'CCSettings.h',
      'CCSharedQuadState.cpp',
      'CCSharedQuadState.h',
      'CCSingleThreadProxy.cpp',
      'CCSingleThreadProxy.h',
      'CCSolidColorDrawQuad.cpp',
      'CCSolidColorDrawQuad.h',
      'CCSolidColorLayerImpl.cpp',
      'CCSolidColorLayerImpl.h',
      'CCStreamVideoDrawQuad.cpp',
      'CCStreamVideoDrawQuad.h',
      'CCTexture.cpp',
      'CCTexture.h',
      'CCTextureDrawQuad.cpp',
      'CCTextureDrawQuad.h',
      'CCTextureLayerImpl.cpp',
      'CCTextureLayerImpl.h',
      'CCTextureUpdateController.cpp',
      'CCTextureUpdateController.h',
      'CCTextureUpdateQueue.cpp',
      'CCTextureUpdateQueue.h',
      'CCThread.h',
      'CCThreadProxy.cpp',
      'CCThreadProxy.h',
      'CCThreadTask.h',
      'CCTileDrawQuad.cpp',
      'CCTileDrawQuad.h',
      'CCTiledLayerImpl.cpp',
      'CCTiledLayerImpl.h',
      'CCTimeSource.h',
      'CCTimer.cpp',
      'CCTimer.h',
      'CCTimingFunction.cpp',
      'CCTimingFunction.h',
      'CCVideoLayerImpl.cpp',
      'CCVideoLayerImpl.h',
      'CCYUVVideoDrawQuad.cpp',
      'CCYUVVideoDrawQuad.h',
      'CanvasLayerTextureUpdater.cpp',
      'CanvasLayerTextureUpdater.h',
      'ContentLayerChromium.cpp',
      'ContentLayerChromium.h',
      'ContentLayerChromiumClient.h',
      'DelegatedRendererLayerChromium.cpp',
      'DelegatedRendererLayerChromium.h',
      'FrameBufferSkPictureCanvasLayerTextureUpdater.cpp',
      'FrameBufferSkPictureCanvasLayerTextureUpdater.h',
      'GeometryBinding.cpp',
      'GeometryBinding.h',
      'HeadsUpDisplayLayerChromium.cpp',
      'HeadsUpDisplayLayerChromium.h',
      'IOSurfaceLayerChromium.cpp',
      'IOSurfaceLayerChromium.h',
      'ImageLayerChromium.cpp',
      'ImageLayerChromium.h',
      'LayerChromium.cpp',
      'LayerChromium.h',
      'LayerPainterChromium.h',
      'LayerTextureSubImage.cpp',
      'LayerTextureSubImage.h',
      'LayerTextureUpdater.cpp',
      'LayerTextureUpdater.h',
      'PlatformColor.h',
      'ProgramBinding.cpp',
      'ProgramBinding.h',
      'RateLimiter.cpp',
      'RateLimiter.h',
      'RenderSurfaceChromium.cpp',
      'RenderSurfaceChromium.h',
      'ScrollbarLayerChromium.cpp',
      'ScrollbarLayerChromium.h',
      'ShaderChromium.cpp',
      'ShaderChromium.h',
      'SkPictureCanvasLayerTextureUpdater.cpp',
      'SkPictureCanvasLayerTextureUpdater.h',
      'SolidColorLayerChromium.cpp',
      'SolidColorLayerChromium.h',
      'switches.cc',
      'switches.h',
      'TextureCopier.cpp',
      'TextureCopier.h',
      'TextureLayerChromium.cpp',
      'TextureLayerChromium.h',
      'TextureLayerChromiumClient.h',
      'TextureUploader.h',
      'ThrottledTextureUploader.cpp',
      'ThrottledTextureUploader.h',
      'UnthrottledTextureUploader.cpp',
      'UnthrottledTextureUploader.h',
      'TiledLayerChromium.cpp',
      'TiledLayerChromium.h',
      'TreeSynchronizer.cpp',
      'TreeSynchronizer.h',
      'VideoLayerChromium.cpp',
      'VideoLayerChromium.h',

      'bitmap_canvas_layer_texture_updater.h',
      'bitmap_skpicture_canvas_layer_texture_updater.h',
      'canvas_layer_texture_updater.h',
      'active_animation.h',
      'animation_curve.h',
      'animation_events.h',
      'append_quads_data.h',
      'checkerboard_draw_quad.h',
      'completion_event.h',
      'damage_tracker.h',
      'debug_border_draw_quad.h',
      'debug_rect_history.h',
      'delay_based_time_source.h',
      'delegated_renderer_layer_impl.h',
      'direct_renderer.h',
      'draw_quad.h',
      'font_atlas.h',
      'frame_rate_controller.h',
      'frame_rate_counter.h',
      'graphics_context.h',
      'heads_up_display_layer_impl.h',
      'input_handler.h',
      'io_surface_draw_quad.h',
      'io_surface_layer_impl.h',
      'keyframed_animation_curve.h',
      'layer_animation_controller.h',
      'layer_impl.h',
      'layer_iterator.h',
      'layer_quad.h',
      'layer_sorter.h',
      'layer_tiling_data.h',
      'layer_tree_host_client.h',
      'layer_tree_host_common.h',
      'layer_tree_host.h',
      'layer_tree_host_impl.h',
      'math_util.h',
      'occlusion_tracker.h',
      'overdraw_metrics.h',
      'page_scale_animation.h',
      'prioritized_texture.h',
      'prioritized_texture_manager.h',
      'priority_calculator.h',
      'proxy.h',
      'quad_culler.h',
      'quad_sink.h',
      'gl_renderer.h',
      'renderer.h',
      'software_renderer.h',
      'rendering_stats.h',
      'render_pass_draw_quad.h',
      'render_pass.h',
      'render_pass_sink.h',
      'render_surface_filters.h',
      'render_surface_impl.h',
      'resource_provider.h',
      'scheduler.h',
      'scheduler_state_machine.h',
      'scoped_texture.h',
      'scoped_thread_proxy.h',
      'scrollbar_animation_controller.h',
      'scrollbar_animation_controller_linear_fade.h',
      'scrollbar_geometry_fixed_thumb.h',
      'scrollbar_geometry_stub.h',
      'scrollbar_layer_impl.h',
      'settings.h',
      'shared_quad_state.h',
      'single_thread_proxy.h',
      'solid_color_draw_quad.h',
      'solid_color_layer_impl.h',
      'stream_video_draw_quad.h',
      'texture_draw_quad.h',
      'texture.h',
      'texture_layer_impl.h',
      'texture_update_controller.h',
      'texture_update_queue.h',
      'threaded_test.h',
      'thread.h',
      'thread_proxy.h',
      'thread_task.h',
      'tiled_layer_impl.h',
      'tile_draw_quad.h',
      'timer.h',
      'time_source.h',
      'timing_function.h',
      'video_layer_impl.h',
      'yuv_video_draw_quad.h',
      'content_layer_client.h',
      'content_layer.h',
      'delegated_renderer_layer.h',
      'frame_buffer_skpicture_canvas_layer_texture_updater.h',
      'geometry_binding.h',
      'heads_up_display_layer.h',
      'image_layer.h',
      'io_surface_layer.h',
      'layer.h',
      'layer_painter.h',
      'layer_texture_sub_image.h',
      'layer_texture_updater.h',
      'platform_color.h',
      'program_binding.h',
      'rate_limiter.h',
      'render_surface.h',
      'scrollbar_layer.h',
      'shader.h',
      'skpicture_canvas_layer_texture_updater.h',
      'solid_color_layer.h',
      'texture_copier.h',
      'texture_layer_client.h',
      'texture_layer.h',
      'texture_uploader.h',
      'throttled_texture_uploader.h',
      'tiled_layer.h',
      'tree_synchronizer.h',
      'unthrottled_texture_uploader.h',
      'video_layer.h',
    ],
  },
  'targets': [
    {
      'target_name': 'cc',
      'type': 'static_library',
      'includes': [
        'cc.gypi',
      ],
      'conditions': [
        ['use_libcc_for_compositor==1', {
          'dependencies': [
            '<(DEPTH)/base/base.gyp:base',
            '<(DEPTH)/base/third_party/dynamic_annotations/dynamic_annotations.gyp:dynamic_annotations',
            '<(DEPTH)/skia/skia.gyp:skia',
            '<(DEPTH)/ui/gl/gl.gyp:gl',
            '<(DEPTH)/ui/ui.gyp:ui',
            '<(webkit_src_dir)/Source/WTF/WTF.gyp/WTF.gyp:wtf',
            '<(webkit_src_dir)/Source/WebCore/WebCore.gyp/WebCore.gyp:webcore_platform_geometry',
            '<(webkit_src_dir)/Source/WebKit/chromium/WebKit.gyp:webkit_wtf_support',
          ],
          'defines': [
            'WTF_USE_ACCELERATED_COMPOSITING=1',
            # http://crbug.com/154052
            'WEBKIT_GLUE_IMPLEMENTATION=1',
          ],
          'include_dirs': [
            '<(webkit_src_dir)/Source/Platform/chromium',
            '<@(cc_stubs_dirs)',
          ],
          'sources': [
            '<@(cc_source_files)',
            'stubs/Extensions3D.h',
            'stubs/Extensions3DChromium.h',
            'stubs/FloatPoint.h',
            'stubs/FloatPoint3D.h',
            'stubs/FloatQuad.h',
            'stubs/FloatRect.h',
            'stubs/FloatSize.h',
            'stubs/GraphicsContext3D.h',
            'stubs/GraphicsTypes3D.h',
            'stubs/IntPoint.h',
            'stubs/IntRect.h',
            'stubs/IntSize.h',
            'stubs/NotImplemented.h',
            'stubs/Region.h',
            'stubs/SkiaUtils.h',
            'stubs/TilingData.h',
            'stubs/TraceEvent.h',
            'stubs/UnitBezier.h',

            'stubs/extensions_3d_chromium.h',
            'stubs/extensions_3d.h',
            'stubs/float_point_3d.h',
            'stubs/float_point.h',
            'stubs/float_quad.h',
            'stubs/float_rect.h',
            'stubs/float_size.h',
            'stubs/graphics_context_3d.h',
            'stubs/graphics_types_3d.h',
            'stubs/int_point.h',
            'stubs/int_rect.h',
            'stubs/int_size.h',
            'stubs/not_implemented.h',
            'stubs/skia_utils.h',
            'stubs/tiling_data.h',
            'stubs/trace_event.h',
            'stubs/unit_bezier.h',
          ],
        }],
      ],
    },
  ],
}
