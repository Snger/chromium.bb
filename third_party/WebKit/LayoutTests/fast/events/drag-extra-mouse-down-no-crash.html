<!DOCTYPE html>
<p>
Ill-formed uses of eventSender.mouseDown() while drag is under way should not crash.
</p>
<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
}

function runTest() {
    if (!window.eventSender)
        return;

    eventSender.beginDragWithFiles([""]);
    var x = document.getElementById("link").offsetLeft;
    var y = document.getElementById("link").offsetTop;
    eventSender.mouseMoveTo(x, y);
    eventSender.mouseDown();
    eventSender.mouseMoveTo(x, y + 1);
    eventSender.mouseUp();
    testRunner.notifyDone();
}

window.onload = runTest;
</script>
<a href="data:text/html," id="link">PASS(no crash)</a>
