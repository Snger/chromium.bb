<div id="pageData-name" class="pageData">Preferences</div>

<!-- BEGIN AUTHORED CONTENT -->
<p id="classSummary">
The <code>chrome.preferences</code> module contains a prototype for giving other
modules access to manage preferences stored by Chrome. This prototype is used,
for example, for <a
  href="proxy.html#property-settings"><code>chrome.proxy.settings</code></a>.
</p>

<h2 id="description">Overview</h2>

<p>
The preferences API provides a common set of functions
(<code>get()</code>, <code>set()</code>, and <code>clear()</code>) as
well as an event publisher (<code>onChange</code>) for various
preferences in Chrome. The <a href="proxy.html#overview-examples">proxy settings
 examples</a> demonstrate how these functions are intended to be used.
</p>

<h2 id="lifecycle">Scope and life cycle of preferences</h2>

<p>
Chrome distinguishes between three different scopes of preferences:
<dl>
  <dt><code>regular</code></dt>
  <dd>Preferences set in the <code>regular</code> scope apply to regular
  browser windows and are inherited by the incognito windows if they are not
  overwritten. These preferences are stored to disk and remain in place until
  they are cleared by the governing extension, or the governing extension is
  disabled or uninstalled.</dd>

  <dt><code>incognito_persistent</code></dt>
  <dd>Preferences set in the <code>incognito_persistent</code> scope apply only
  to incognito windows. For these, they override <code>regular</code>
  preferences. These preferences are stored to disk and remain in place until
  they are cleared by the governing extension, or the governing extension is
  disabled or uninstalled.</dd>

  <dt><code>incognito_session_only</code></dt>
  <dd>Preferences set in the <code>incognito_session_only</code> scope apply only
  to incognito windows. For these, they override <code>regular</code> and
  <code>incognito_session_only</code> preferences. These preferences are not
  stored to disk and are cleared when the last incognito window is closed. They
  can only be set when at least one incognito window is open.</dd>

</dl>
</p>

<h2 id="precedence">Precedence</h2>

<p>
Chrome manages preferences on different layers. The following list describes the
layers that may influence the effective preferences, in increasing order of
precedence.
<ol>
  <li>System preferences provided by the operating system</li>
  <li>Command-line parameters</li>
  <li>Preferences set by extensions</li>
  <li>Policies</li>
</ol>
</p>

<p>
As the list implies, policies might overrule any changes that you specify with
your extension. You can use the <code>get()</code> function to determine whether
your extension is capable of setting a preference or whether this setting would
be overridden.
</p>

<p>
As discussed above, Chrome allows using different preferences for regular
windows and incognito windows. The following example illustrates the behavior.
Assume that no policy overrides the preferences and that an extension can set
preferences for regular windows <b>(R)</b> and preferences for incognito windows
<b>(I)</b>.
</p>

<p>
<ul>
  <li>If only <b>(R)</b> is set, these preferences are effective for both
  regular and incognito windows.</li>
  <li>If only <b>(I)</b> is set, these preferences are effective for only
  incognito windows. Regular windows use the preferences determined by the lower
  layers (command-line options and system settings).</li>
  <li>If both <b>(R)</b> and <b>(I)</b> are set, the respective preferences are
  used for regular and incognito windows.</li>
</ul>
</p>

<p>
If two or more extensions want to set the same preference to different values,
the extension installed most recently takes precedence over the other
extensions.  If the most recently installed extension sets only <b>(I)</b>, the
preference of regular windows can be defined by previously installed extensions.
</p>

<p>
The <em>effective</em> preference value is the setting that results from
considering the preference rules. It is used by Chrome.
<p>

<!-- END AUTHORED CONTENT -->
